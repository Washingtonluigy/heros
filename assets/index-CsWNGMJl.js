(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Ju={exports:{}},li={},Xu={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gr=Symbol.for("react.element"),qh=Symbol.for("react.portal"),Wh=Symbol.for("react.fragment"),Hh=Symbol.for("react.strict_mode"),Vh=Symbol.for("react.profiler"),Kh=Symbol.for("react.provider"),Gh=Symbol.for("react.context"),Qh=Symbol.for("react.forward_ref"),Jh=Symbol.for("react.suspense"),Xh=Symbol.for("react.memo"),Yh=Symbol.for("react.lazy"),_a=Symbol.iterator;function Zh(t){return t===null||typeof t!="object"?null:(t=_a&&t[_a]||t["@@iterator"],typeof t=="function"?t:null)}var Yu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zu=Object.assign,ec={};function Qn(t,e,n){this.props=t,this.context=e,this.refs=ec,this.updater=n||Yu}Qn.prototype.isReactComponent={};Qn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tc(){}tc.prototype=Qn.prototype;function xl(t,e,n){this.props=t,this.context=e,this.refs=ec,this.updater=n||Yu}var wl=xl.prototype=new tc;wl.constructor=xl;Zu(wl,Qn.prototype);wl.isPureReactComponent=!0;var ka=Array.isArray,nc=Object.prototype.hasOwnProperty,_l={current:null},rc={key:!0,ref:!0,__self:!0,__source:!0};function sc(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)nc.call(e,r)&&!rc.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Gr,type:t,key:i,ref:o,props:s,_owner:_l.current}}function ef(t,e){return{$$typeof:Gr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gr}function tf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ja=/\/+/g;function Ri(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tf(""+t.key):e.toString(36)}function js(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gr:case qh:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ri(o,0):r,ka(s)?(n="",t!=null&&(n=t.replace(ja,"$&/")+"/"),js(s,e,n,"",function(c){return c})):s!=null&&(kl(s)&&(s=ef(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ja,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",ka(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+Ri(i,a);o+=js(i,e,n,u,s)}else if(u=Zh(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+Ri(i,a++),o+=js(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ns(t,e,n){if(t==null)return t;var r=[],s=0;return js(t,r,"","",function(i){return e.call(n,i,s++)}),r}function nf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var je={current:null},bs={transition:null},rf={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:bs,ReactCurrentOwner:_l};function ic(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:ns,forEach:function(t,e,n){ns(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ns(t,function(){e++}),e},toArray:function(t){return ns(t,function(e){return e})||[]},only:function(t){if(!kl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};z.Component=Qn;z.Fragment=Wh;z.Profiler=Vh;z.PureComponent=xl;z.StrictMode=Hh;z.Suspense=Jh;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rf;z.act=ic;z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Zu({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=_l.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)nc.call(e,u)&&!rc.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Gr,type:t.type,key:s,ref:i,props:r,_owner:o}};z.createContext=function(t){return t={$$typeof:Gh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Kh,_context:t},t.Consumer=t};z.createElement=sc;z.createFactory=function(t){var e=sc.bind(null,t);return e.type=t,e};z.createRef=function(){return{current:null}};z.forwardRef=function(t){return{$$typeof:Qh,render:t}};z.isValidElement=kl;z.lazy=function(t){return{$$typeof:Yh,_payload:{_status:-1,_result:t},_init:nf}};z.memo=function(t,e){return{$$typeof:Xh,type:t,compare:e===void 0?null:e}};z.startTransition=function(t){var e=bs.transition;bs.transition={};try{t()}finally{bs.transition=e}};z.unstable_act=ic;z.useCallback=function(t,e){return je.current.useCallback(t,e)};z.useContext=function(t){return je.current.useContext(t)};z.useDebugValue=function(){};z.useDeferredValue=function(t){return je.current.useDeferredValue(t)};z.useEffect=function(t,e){return je.current.useEffect(t,e)};z.useId=function(){return je.current.useId()};z.useImperativeHandle=function(t,e,n){return je.current.useImperativeHandle(t,e,n)};z.useInsertionEffect=function(t,e){return je.current.useInsertionEffect(t,e)};z.useLayoutEffect=function(t,e){return je.current.useLayoutEffect(t,e)};z.useMemo=function(t,e){return je.current.useMemo(t,e)};z.useReducer=function(t,e,n){return je.current.useReducer(t,e,n)};z.useRef=function(t){return je.current.useRef(t)};z.useState=function(t){return je.current.useState(t)};z.useSyncExternalStore=function(t,e,n){return je.current.useSyncExternalStore(t,e,n)};z.useTransition=function(){return je.current.useTransition()};z.version="18.3.1";Xu.exports=z;var S=Xu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sf=S,of=Symbol.for("react.element"),lf=Symbol.for("react.fragment"),af=Object.prototype.hasOwnProperty,uf=sf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cf={key:!0,ref:!0,__self:!0,__source:!0};function oc(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)af.call(e,r)&&!cf.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:of,type:t,key:i,ref:o,props:s,_owner:uf.current}}li.Fragment=lf;li.jsx=oc;li.jsxs=oc;Ju.exports=li;var l=Ju.exports,lc={exports:{}},Ie={},ac={exports:{}},uc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,I){var D=P.length;P.push(I);e:for(;0<D;){var J=D-1>>>1,ne=P[J];if(0<s(ne,I))P[J]=I,P[D]=ne,D=J;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var I=P[0],D=P.pop();if(D!==I){P[0]=D;e:for(var J=0,ne=P.length,fn=ne>>>1;J<fn;){var ot=2*(J+1)-1,nr=P[ot],lt=ot+1,pn=P[lt];if(0>s(nr,D))lt<ne&&0>s(pn,nr)?(P[J]=pn,P[lt]=D,J=lt):(P[J]=nr,P[ot]=D,J=ot);else if(lt<ne&&0>s(pn,D))P[J]=pn,P[lt]=D,J=lt;else break e}}return I}function s(P,I){var D=P.sortIndex-I.sortIndex;return D!==0?D:P.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,h=null,f=3,p=!1,v=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(P){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=P)r(c),I.sortIndex=I.expirationTime,e(u,I);else break;I=n(c)}}function x(P){if(w=!1,m(P),!v)if(n(u)!==null)v=!0,hn(_);else{var I=n(c);I!==null&&tr(x,I.startTime-P)}}function _(P,I){v=!1,w&&(w=!1,y(N),N=-1),p=!0;var D=f;try{for(m(I),h=n(u);h!==null&&(!(h.expirationTime>I)||P&&!T());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var ne=J(h.expirationTime<=I);I=t.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(u)&&r(u),m(I)}else r(u);h=n(u)}if(h!==null)var fn=!0;else{var ot=n(c);ot!==null&&tr(x,ot.startTime-I),fn=!1}return fn}finally{h=null,f=D,p=!1}}var k=!1,j=null,N=-1,A=5,$=-1;function T(){return!(t.unstable_now()-$<A)}function W(){if(j!==null){var P=t.unstable_now();$=P;var I=!0;try{I=j(!0,P)}finally{I?ce():(k=!1,j=null)}}else k=!1}var ce;if(typeof g=="function")ce=function(){g(W)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,Oi=We.port2;We.port1.onmessage=W,ce=function(){Oi.postMessage(null)}}else ce=function(){b(W,0)};function hn(P){j=P,k||(k=!0,ce())}function tr(P,I){N=b(function(){P(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,hn(_))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var D=f;f=I;try{return P()}finally{f=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,I){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var D=f;f=P;try{return I()}finally{f=D}},t.unstable_scheduleCallback=function(P,I,D){var J=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?J+D:J):D=J,P){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=D+ne,P={id:d++,callback:I,priorityLevel:P,startTime:D,expirationTime:ne,sortIndex:-1},D>J?(P.sortIndex=D,e(c,P),n(u)===null&&P===n(c)&&(w?(y(N),N=-1):w=!0,tr(x,D-J))):(P.sortIndex=ne,e(u,P),v||p||(v=!0,hn(_))),P},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(P){var I=f;return function(){var D=f;f=I;try{return P.apply(this,arguments)}finally{f=D}}}})(uc);ac.exports=uc;var df=ac.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf=S,Ae=df;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cc=new Set,Pr={};function an(t,e){Fn(t,e),Fn(t+"Capture",e)}function Fn(t,e){for(Pr[t]=e,t=0;t<e.length;t++)cc.add(e[t])}var gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),po=Object.prototype.hasOwnProperty,ff=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ba={},Sa={};function pf(t){return po.call(Sa,t)?!0:po.call(ba,t)?!1:ff.test(t)?Sa[t]=!0:(ba[t]=!0,!1)}function mf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gf(t,e,n,r){if(e===null||typeof e>"u"||mf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function be(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fe[t]=new be(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fe[e]=new be(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fe[t]=new be(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fe[t]=new be(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fe[t]=new be(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fe[t]=new be(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fe[t]=new be(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fe[t]=new be(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fe[t]=new be(t,5,!1,t.toLowerCase(),null,!1,!1)});var jl=/[\-:]([a-z])/g;function bl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jl,bl);fe[e]=new be(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jl,bl);fe[e]=new be(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jl,bl);fe[e]=new be(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fe[t]=new be(t,1,!1,t.toLowerCase(),null,!1,!1)});fe.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fe[t]=new be(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sl(t,e,n,r){var s=fe.hasOwnProperty(e)?fe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gf(e,n,s,r)&&(n=null),r||s===null?pf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wt=hf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rs=Symbol.for("react.element"),jn=Symbol.for("react.portal"),bn=Symbol.for("react.fragment"),Nl=Symbol.for("react.strict_mode"),mo=Symbol.for("react.profiler"),dc=Symbol.for("react.provider"),hc=Symbol.for("react.context"),El=Symbol.for("react.forward_ref"),go=Symbol.for("react.suspense"),vo=Symbol.for("react.suspense_list"),Cl=Symbol.for("react.memo"),bt=Symbol.for("react.lazy"),fc=Symbol.for("react.offscreen"),Na=Symbol.iterator;function sr(t){return t===null||typeof t!="object"?null:(t=Na&&t[Na]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Object.assign,$i;function fr(t){if($i===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$i=e&&e[1]||""}return`
`+$i+t}var Ai=!1;function Ii(t,e){if(!t||Ai)return"";Ai=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Ai=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fr(t):""}function vf(t){switch(t.tag){case 5:return fr(t.type);case 16:return fr("Lazy");case 13:return fr("Suspense");case 19:return fr("SuspenseList");case 0:case 2:case 15:return t=Ii(t.type,!1),t;case 11:return t=Ii(t.type.render,!1),t;case 1:return t=Ii(t.type,!0),t;default:return""}}function yo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bn:return"Fragment";case jn:return"Portal";case mo:return"Profiler";case Nl:return"StrictMode";case go:return"Suspense";case vo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hc:return(t.displayName||"Context")+".Consumer";case dc:return(t._context.displayName||"Context")+".Provider";case El:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cl:return e=t.displayName||null,e!==null?e:yo(t.type)||"Memo";case bt:e=t._payload,t=t._init;try{return yo(t(e))}catch{}}return null}function yf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yo(e);case 8:return e===Nl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xf(t){var e=pc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ss(t){t._valueTracker||(t._valueTracker=xf(t))}function mc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=pc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Is(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xo(t,e){var n=e.checked;return Z({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ea(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=zt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gc(t,e){e=e.checked,e!=null&&Sl(t,"checked",e,!1)}function wo(t,e){gc(t,e);var n=zt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_o(t,e.type,n):e.hasOwnProperty("defaultValue")&&_o(t,e.type,zt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ca(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _o(t,e,n){(e!=="number"||Is(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var pr=Array.isArray;function In(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+zt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ko(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return Z({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ta(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(pr(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zt(n)}}function vc(t,e){var n=zt(e.value),r=zt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Pa(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var is,xc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(is=is||document.createElement("div"),is.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=is.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Or(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wf=["Webkit","ms","Moz","O"];Object.keys(yr).forEach(function(t){wf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yr[e]=yr[t]})});function wc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yr.hasOwnProperty(t)&&yr[t]?(""+e).trim():e+"px"}function _c(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=wc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var _f=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bo(t,e){if(e){if(_f[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function So(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var No=null;function Tl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Eo=null,Ln=null,Dn=null;function Oa(t){if(t=Xr(t)){if(typeof Eo!="function")throw Error(E(280));var e=t.stateNode;e&&(e=hi(e),Eo(t.stateNode,t.type,e))}}function kc(t){Ln?Dn?Dn.push(t):Dn=[t]:Ln=t}function jc(){if(Ln){var t=Ln,e=Dn;if(Dn=Ln=null,Oa(t),e)for(t=0;t<e.length;t++)Oa(e[t])}}function bc(t,e){return t(e)}function Sc(){}var Li=!1;function Nc(t,e,n){if(Li)return t(e,n);Li=!0;try{return bc(t,e,n)}finally{Li=!1,(Ln!==null||Dn!==null)&&(Sc(),jc())}}function Rr(t,e){var n=t.stateNode;if(n===null)return null;var r=hi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var Co=!1;if(gt)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){Co=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{Co=!1}function kf(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var xr=!1,Ls=null,Ds=!1,To=null,jf={onError:function(t){xr=!0,Ls=t}};function bf(t,e,n,r,s,i,o,a,u){xr=!1,Ls=null,kf.apply(jf,arguments)}function Sf(t,e,n,r,s,i,o,a,u){if(bf.apply(this,arguments),xr){if(xr){var c=Ls;xr=!1,Ls=null}else throw Error(E(198));Ds||(Ds=!0,To=c)}}function un(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ec(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ra(t){if(un(t)!==t)throw Error(E(188))}function Nf(t){var e=t.alternate;if(!e){if(e=un(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ra(s),t;if(i===r)return Ra(s),e;i=i.sibling}throw Error(E(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function Cc(t){return t=Nf(t),t!==null?Tc(t):null}function Tc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Tc(t);if(e!==null)return e;t=t.sibling}return null}var Pc=Ae.unstable_scheduleCallback,$a=Ae.unstable_cancelCallback,Ef=Ae.unstable_shouldYield,Cf=Ae.unstable_requestPaint,te=Ae.unstable_now,Tf=Ae.unstable_getCurrentPriorityLevel,Pl=Ae.unstable_ImmediatePriority,Oc=Ae.unstable_UserBlockingPriority,Us=Ae.unstable_NormalPriority,Pf=Ae.unstable_LowPriority,Rc=Ae.unstable_IdlePriority,ai=null,st=null;function Of(t){if(st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(ai,t,void 0,(t.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:Af,Rf=Math.log,$f=Math.LN2;function Af(t){return t>>>=0,t===0?32:31-(Rf(t)/$f|0)|0}var os=64,ls=4194304;function mr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=mr(a):(i&=o,i!==0&&(r=mr(i)))}else o=n&~s,o!==0?r=mr(o):i!==0&&(r=mr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xe(e),s=1<<n,r|=t[n],e&=~s;return r}function If(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Xe(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=If(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function Po(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $c(){var t=os;return os<<=1,!(os&4194240)&&(os=64),t}function Di(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xe(e),t[e]=n}function Df(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Xe(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ol(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xe(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var q=0;function Ac(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ic,Rl,Lc,Dc,Uc,Oo=!1,as=[],Ot=null,Rt=null,$t=null,$r=new Map,Ar=new Map,Nt=[],Uf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Aa(t,e){switch(t){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":$t=null;break;case"pointerover":case"pointerout":$r.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(e.pointerId)}}function or(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Xr(e),e!==null&&Rl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function zf(t,e,n,r,s){switch(e){case"focusin":return Ot=or(Ot,t,e,n,r,s),!0;case"dragenter":return Rt=or(Rt,t,e,n,r,s),!0;case"mouseover":return $t=or($t,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return $r.set(i,or($r.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ar.set(i,or(Ar.get(i)||null,t,e,n,r,s)),!0}return!1}function zc(t){var e=Xt(t.target);if(e!==null){var n=un(e);if(n!==null){if(e=n.tag,e===13){if(e=Ec(n),e!==null){t.blockedOn=e,Uc(t.priority,function(){Lc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ss(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ro(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);No=r,n.target.dispatchEvent(r),No=null}else return e=Xr(n),e!==null&&Rl(e),t.blockedOn=n,!1;e.shift()}return!0}function Ia(t,e,n){Ss(t)&&n.delete(e)}function Mf(){Oo=!1,Ot!==null&&Ss(Ot)&&(Ot=null),Rt!==null&&Ss(Rt)&&(Rt=null),$t!==null&&Ss($t)&&($t=null),$r.forEach(Ia),Ar.forEach(Ia)}function lr(t,e){t.blockedOn===e&&(t.blockedOn=null,Oo||(Oo=!0,Ae.unstable_scheduleCallback(Ae.unstable_NormalPriority,Mf)))}function Ir(t){function e(s){return lr(s,t)}if(0<as.length){lr(as[0],t);for(var n=1;n<as.length;n++){var r=as[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ot!==null&&lr(Ot,t),Rt!==null&&lr(Rt,t),$t!==null&&lr($t,t),$r.forEach(e),Ar.forEach(e),n=0;n<Nt.length;n++)r=Nt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Nt.length&&(n=Nt[0],n.blockedOn===null);)zc(n),n.blockedOn===null&&Nt.shift()}var Un=wt.ReactCurrentBatchConfig,Ms=!0;function Ff(t,e,n,r){var s=q,i=Un.transition;Un.transition=null;try{q=1,$l(t,e,n,r)}finally{q=s,Un.transition=i}}function Bf(t,e,n,r){var s=q,i=Un.transition;Un.transition=null;try{q=4,$l(t,e,n,r)}finally{q=s,Un.transition=i}}function $l(t,e,n,r){if(Ms){var s=Ro(t,e,n,r);if(s===null)Ki(t,e,r,Fs,n),Aa(t,r);else if(zf(s,t,e,n,r))r.stopPropagation();else if(Aa(t,r),e&4&&-1<Uf.indexOf(t)){for(;s!==null;){var i=Xr(s);if(i!==null&&Ic(i),i=Ro(t,e,n,r),i===null&&Ki(t,e,r,Fs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ki(t,e,r,null,n)}}var Fs=null;function Ro(t,e,n,r){if(Fs=null,t=Tl(r),t=Xt(t),t!==null)if(e=un(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ec(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fs=t,null}function Mc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tf()){case Pl:return 1;case Oc:return 4;case Us:case Pf:return 16;case Rc:return 536870912;default:return 16}default:return 16}}var Tt=null,Al=null,Ns=null;function Fc(){if(Ns)return Ns;var t,e=Al,n=e.length,r,s="value"in Tt?Tt.value:Tt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ns=s.slice(t,1<r?1-r:void 0)}function Es(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function us(){return!0}function La(){return!1}function Le(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?us:La,this.isPropagationStopped=La,this}return Z(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),e}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Il=Le(Jn),Jr=Z({},Jn,{view:0,detail:0}),qf=Le(Jr),Ui,zi,ar,ui=Z({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ll,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ar&&(ar&&t.type==="mousemove"?(Ui=t.screenX-ar.screenX,zi=t.screenY-ar.screenY):zi=Ui=0,ar=t),Ui)},movementY:function(t){return"movementY"in t?t.movementY:zi}}),Da=Le(ui),Wf=Z({},ui,{dataTransfer:0}),Hf=Le(Wf),Vf=Z({},Jr,{relatedTarget:0}),Mi=Le(Vf),Kf=Z({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Gf=Le(Kf),Qf=Z({},Jn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jf=Le(Qf),Xf=Z({},Jn,{data:0}),Ua=Le(Xf),Yf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ep={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ep[t])?!!e[t]:!1}function Ll(){return tp}var np=Z({},Jr,{key:function(t){if(t.key){var e=Yf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Es(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ll,charCode:function(t){return t.type==="keypress"?Es(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Es(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rp=Le(np),sp=Z({},ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),za=Le(sp),ip=Z({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ll}),op=Le(ip),lp=Z({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ap=Le(lp),up=Z({},ui,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cp=Le(up),dp=[9,13,27,32],Dl=gt&&"CompositionEvent"in window,wr=null;gt&&"documentMode"in document&&(wr=document.documentMode);var hp=gt&&"TextEvent"in window&&!wr,Bc=gt&&(!Dl||wr&&8<wr&&11>=wr),Ma=" ",Fa=!1;function qc(t,e){switch(t){case"keyup":return dp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sn=!1;function fp(t,e){switch(t){case"compositionend":return Wc(e);case"keypress":return e.which!==32?null:(Fa=!0,Ma);case"textInput":return t=e.data,t===Ma&&Fa?null:t;default:return null}}function pp(t,e){if(Sn)return t==="compositionend"||!Dl&&qc(t,e)?(t=Fc(),Ns=Al=Tt=null,Sn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bc&&e.locale!=="ko"?null:e.data;default:return null}}var mp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ba(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mp[t.type]:e==="textarea"}function Hc(t,e,n,r){kc(r),e=Bs(e,"onChange"),0<e.length&&(n=new Il("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _r=null,Lr=null;function gp(t){nd(t,0)}function ci(t){var e=Cn(t);if(mc(e))return t}function vp(t,e){if(t==="change")return e}var Vc=!1;if(gt){var Fi;if(gt){var Bi="oninput"in document;if(!Bi){var qa=document.createElement("div");qa.setAttribute("oninput","return;"),Bi=typeof qa.oninput=="function"}Fi=Bi}else Fi=!1;Vc=Fi&&(!document.documentMode||9<document.documentMode)}function Wa(){_r&&(_r.detachEvent("onpropertychange",Kc),Lr=_r=null)}function Kc(t){if(t.propertyName==="value"&&ci(Lr)){var e=[];Hc(e,Lr,t,Tl(t)),Nc(gp,e)}}function yp(t,e,n){t==="focusin"?(Wa(),_r=e,Lr=n,_r.attachEvent("onpropertychange",Kc)):t==="focusout"&&Wa()}function xp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ci(Lr)}function wp(t,e){if(t==="click")return ci(e)}function _p(t,e){if(t==="input"||t==="change")return ci(e)}function kp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ze=typeof Object.is=="function"?Object.is:kp;function Dr(t,e){if(Ze(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!po.call(e,s)||!Ze(t[s],e[s]))return!1}return!0}function Ha(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Va(t,e){var n=Ha(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ha(n)}}function Gc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Gc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Qc(){for(var t=window,e=Is();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Is(t.document)}return e}function Ul(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jp(t){var e=Qc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Gc(n.ownerDocument.documentElement,n)){if(r!==null&&Ul(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Va(n,i);var o=Va(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bp=gt&&"documentMode"in document&&11>=document.documentMode,Nn=null,$o=null,kr=null,Ao=!1;function Ka(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ao||Nn==null||Nn!==Is(r)||(r=Nn,"selectionStart"in r&&Ul(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kr&&Dr(kr,r)||(kr=r,r=Bs($o,"onSelect"),0<r.length&&(e=new Il("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Nn)))}function cs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var En={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionend:cs("Transition","TransitionEnd")},qi={},Jc={};gt&&(Jc=document.createElement("div").style,"AnimationEvent"in window||(delete En.animationend.animation,delete En.animationiteration.animation,delete En.animationstart.animation),"TransitionEvent"in window||delete En.transitionend.transition);function di(t){if(qi[t])return qi[t];if(!En[t])return t;var e=En[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Jc)return qi[t]=e[n];return t}var Xc=di("animationend"),Yc=di("animationiteration"),Zc=di("animationstart"),ed=di("transitionend"),td=new Map,Ga="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ft(t,e){td.set(t,e),an(e,[t])}for(var Wi=0;Wi<Ga.length;Wi++){var Hi=Ga[Wi],Sp=Hi.toLowerCase(),Np=Hi[0].toUpperCase()+Hi.slice(1);Ft(Sp,"on"+Np)}Ft(Xc,"onAnimationEnd");Ft(Yc,"onAnimationIteration");Ft(Zc,"onAnimationStart");Ft("dblclick","onDoubleClick");Ft("focusin","onFocus");Ft("focusout","onBlur");Ft(ed,"onTransitionEnd");Fn("onMouseEnter",["mouseout","mouseover"]);Fn("onMouseLeave",["mouseout","mouseover"]);Fn("onPointerEnter",["pointerout","pointerover"]);Fn("onPointerLeave",["pointerout","pointerover"]);an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));an("onBeforeInput",["compositionend","keypress","textInput","paste"]);an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ep=new Set("cancel close invalid load scroll toggle".split(" ").concat(gr));function Qa(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Sf(r,e,void 0,t),t.currentTarget=null}function nd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Qa(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Qa(s,a,c),i=u}}}if(Ds)throw t=To,Ds=!1,To=null,t}function K(t,e){var n=e[zo];n===void 0&&(n=e[zo]=new Set);var r=t+"__bubble";n.has(r)||(rd(e,t,2,!1),n.add(r))}function Vi(t,e,n){var r=0;e&&(r|=4),rd(n,t,r,e)}var ds="_reactListening"+Math.random().toString(36).slice(2);function Ur(t){if(!t[ds]){t[ds]=!0,cc.forEach(function(n){n!=="selectionchange"&&(Ep.has(n)||Vi(n,!1,t),Vi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ds]||(e[ds]=!0,Vi("selectionchange",!1,e))}}function rd(t,e,n,r){switch(Mc(e)){case 1:var s=Ff;break;case 4:s=Bf;break;default:s=$l}n=s.bind(null,e,n,t),s=void 0,!Co||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ki(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Xt(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Nc(function(){var c=i,d=Tl(n),h=[];e:{var f=td.get(t);if(f!==void 0){var p=Il,v=t;switch(t){case"keypress":if(Es(n)===0)break e;case"keydown":case"keyup":p=rp;break;case"focusin":v="focus",p=Mi;break;case"focusout":v="blur",p=Mi;break;case"beforeblur":case"afterblur":p=Mi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Da;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=op;break;case Xc:case Yc:case Zc:p=Gf;break;case ed:p=ap;break;case"scroll":p=qf;break;case"wheel":p=cp;break;case"copy":case"cut":case"paste":p=Jf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=za}var w=(e&4)!==0,b=!w&&t==="scroll",y=w?f!==null?f+"Capture":null:f;w=[];for(var g=c,m;g!==null;){m=g;var x=m.stateNode;if(m.tag===5&&x!==null&&(m=x,y!==null&&(x=Rr(g,y),x!=null&&w.push(zr(g,x,m)))),b)break;g=g.return}0<w.length&&(f=new p(f,v,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==No&&(v=n.relatedTarget||n.fromElement)&&(Xt(v)||v[vt]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=c,v=v?Xt(v):null,v!==null&&(b=un(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(w=Da,x="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(w=za,x="onPointerLeave",y="onPointerEnter",g="pointer"),b=p==null?f:Cn(p),m=v==null?f:Cn(v),f=new w(x,g+"leave",p,n,d),f.target=b,f.relatedTarget=m,x=null,Xt(d)===c&&(w=new w(y,g+"enter",v,n,d),w.target=m,w.relatedTarget=b,x=w),b=x,p&&v)t:{for(w=p,y=v,g=0,m=w;m;m=mn(m))g++;for(m=0,x=y;x;x=mn(x))m++;for(;0<g-m;)w=mn(w),g--;for(;0<m-g;)y=mn(y),m--;for(;g--;){if(w===y||y!==null&&w===y.alternate)break t;w=mn(w),y=mn(y)}w=null}else w=null;p!==null&&Ja(h,f,p,w,!1),v!==null&&b!==null&&Ja(h,b,v,w,!0)}}e:{if(f=c?Cn(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=vp;else if(Ba(f))if(Vc)_=_p;else{_=xp;var k=yp}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=wp);if(_&&(_=_(t,c))){Hc(h,_,n,d);break e}k&&k(t,f,c),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&_o(f,"number",f.value)}switch(k=c?Cn(c):window,t){case"focusin":(Ba(k)||k.contentEditable==="true")&&(Nn=k,$o=c,kr=null);break;case"focusout":kr=$o=Nn=null;break;case"mousedown":Ao=!0;break;case"contextmenu":case"mouseup":case"dragend":Ao=!1,Ka(h,n,d);break;case"selectionchange":if(bp)break;case"keydown":case"keyup":Ka(h,n,d)}var j;if(Dl)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Sn?qc(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Bc&&n.locale!=="ko"&&(Sn||N!=="onCompositionStart"?N==="onCompositionEnd"&&Sn&&(j=Fc()):(Tt=d,Al="value"in Tt?Tt.value:Tt.textContent,Sn=!0)),k=Bs(c,N),0<k.length&&(N=new Ua(N,t,null,n,d),h.push({event:N,listeners:k}),j?N.data=j:(j=Wc(n),j!==null&&(N.data=j)))),(j=hp?fp(t,n):pp(t,n))&&(c=Bs(c,"onBeforeInput"),0<c.length&&(d=new Ua("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=j))}nd(h,e)})}function zr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bs(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Rr(t,n),i!=null&&r.unshift(zr(t,i,s)),i=Rr(t,e),i!=null&&r.push(zr(t,i,s))),t=t.return}return r}function mn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ja(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=Rr(n,i),u!=null&&o.unshift(zr(n,u,a))):s||(u=Rr(n,i),u!=null&&o.push(zr(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Cp=/\r\n?/g,Tp=/\u0000|\uFFFD/g;function Xa(t){return(typeof t=="string"?t:""+t).replace(Cp,`
`).replace(Tp,"")}function hs(t,e,n){if(e=Xa(e),Xa(t)!==e&&n)throw Error(E(425))}function qs(){}var Io=null,Lo=null;function Do(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Uo=typeof setTimeout=="function"?setTimeout:void 0,Pp=typeof clearTimeout=="function"?clearTimeout:void 0,Ya=typeof Promise=="function"?Promise:void 0,Op=typeof queueMicrotask=="function"?queueMicrotask:typeof Ya<"u"?function(t){return Ya.resolve(null).then(t).catch(Rp)}:Uo;function Rp(t){setTimeout(function(){throw t})}function Gi(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ir(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ir(e)}function At(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Za(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xn=Math.random().toString(36).slice(2),rt="__reactFiber$"+Xn,Mr="__reactProps$"+Xn,vt="__reactContainer$"+Xn,zo="__reactEvents$"+Xn,$p="__reactListeners$"+Xn,Ap="__reactHandles$"+Xn;function Xt(t){var e=t[rt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vt]||n[rt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Za(t);t!==null;){if(n=t[rt])return n;t=Za(t)}return e}t=n,n=t.parentNode}return null}function Xr(t){return t=t[rt]||t[vt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function hi(t){return t[Mr]||null}var Mo=[],Tn=-1;function Bt(t){return{current:t}}function G(t){0>Tn||(t.current=Mo[Tn],Mo[Tn]=null,Tn--)}function V(t,e){Tn++,Mo[Tn]=t.current,t.current=e}var Mt={},ve=Bt(Mt),Ce=Bt(!1),nn=Mt;function Bn(t,e){var n=t.type.contextTypes;if(!n)return Mt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Te(t){return t=t.childContextTypes,t!=null}function Ws(){G(Ce),G(ve)}function eu(t,e,n){if(ve.current!==Mt)throw Error(E(168));V(ve,e),V(Ce,n)}function sd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(E(108,yf(t)||"Unknown",s));return Z({},n,r)}function Hs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mt,nn=ve.current,V(ve,t),V(Ce,Ce.current),!0}function tu(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=sd(t,e,nn),r.__reactInternalMemoizedMergedChildContext=t,G(Ce),G(ve),V(ve,t)):G(Ce),V(Ce,n)}var dt=null,fi=!1,Qi=!1;function id(t){dt===null?dt=[t]:dt.push(t)}function Ip(t){fi=!0,id(t)}function qt(){if(!Qi&&dt!==null){Qi=!0;var t=0,e=q;try{var n=dt;for(q=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dt=null,fi=!1}catch(s){throw dt!==null&&(dt=dt.slice(t+1)),Pc(Pl,qt),s}finally{q=e,Qi=!1}}return null}var Pn=[],On=0,Vs=null,Ks=0,De=[],Ue=0,rn=null,ht=1,ft="";function Kt(t,e){Pn[On++]=Ks,Pn[On++]=Vs,Vs=t,Ks=e}function od(t,e,n){De[Ue++]=ht,De[Ue++]=ft,De[Ue++]=rn,rn=t;var r=ht;t=ft;var s=32-Xe(r)-1;r&=~(1<<s),n+=1;var i=32-Xe(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ht=1<<32-Xe(e)+s|n<<s|r,ft=i+t}else ht=1<<i|n<<s|r,ft=t}function zl(t){t.return!==null&&(Kt(t,1),od(t,1,0))}function Ml(t){for(;t===Vs;)Vs=Pn[--On],Pn[On]=null,Ks=Pn[--On],Pn[On]=null;for(;t===rn;)rn=De[--Ue],De[Ue]=null,ft=De[--Ue],De[Ue]=null,ht=De[--Ue],De[Ue]=null}var $e=null,Re=null,Q=!1,Je=null;function ld(t,e){var n=ze(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$e=t,Re=At(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$e=t,Re=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=rn!==null?{id:ht,overflow:ft}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ze(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$e=t,Re=null,!0):!1;default:return!1}}function Fo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bo(t){if(Q){var e=Re;if(e){var n=e;if(!nu(t,e)){if(Fo(t))throw Error(E(418));e=At(n.nextSibling);var r=$e;e&&nu(t,e)?ld(r,n):(t.flags=t.flags&-4097|2,Q=!1,$e=t)}}else{if(Fo(t))throw Error(E(418));t.flags=t.flags&-4097|2,Q=!1,$e=t}}}function ru(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$e=t}function fs(t){if(t!==$e)return!1;if(!Q)return ru(t),Q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Do(t.type,t.memoizedProps)),e&&(e=Re)){if(Fo(t))throw ad(),Error(E(418));for(;e;)ld(t,e),e=At(e.nextSibling)}if(ru(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Re=At(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Re=null}}else Re=$e?At(t.stateNode.nextSibling):null;return!0}function ad(){for(var t=Re;t;)t=At(t.nextSibling)}function qn(){Re=$e=null,Q=!1}function Fl(t){Je===null?Je=[t]:Je.push(t)}var Lp=wt.ReactCurrentBatchConfig;function ur(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function ps(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function su(t){var e=t._init;return e(t._payload)}function ud(t){function e(y,g){if(t){var m=y.deletions;m===null?(y.deletions=[g],y.flags|=16):m.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=Ut(y,g),y.index=0,y.sibling=null,y}function i(y,g,m){return y.index=m,t?(m=y.alternate,m!==null?(m=m.index,m<g?(y.flags|=2,g):m):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,g,m,x){return g===null||g.tag!==6?(g=no(m,y.mode,x),g.return=y,g):(g=s(g,m),g.return=y,g)}function u(y,g,m,x){var _=m.type;return _===bn?d(y,g,m.props.children,x,m.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===bt&&su(_)===g.type)?(x=s(g,m.props),x.ref=ur(y,g,m),x.return=y,x):(x=As(m.type,m.key,m.props,null,y.mode,x),x.ref=ur(y,g,m),x.return=y,x)}function c(y,g,m,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==m.containerInfo||g.stateNode.implementation!==m.implementation?(g=ro(m,y.mode,x),g.return=y,g):(g=s(g,m.children||[]),g.return=y,g)}function d(y,g,m,x,_){return g===null||g.tag!==7?(g=tn(m,y.mode,x,_),g.return=y,g):(g=s(g,m),g.return=y,g)}function h(y,g,m){if(typeof g=="string"&&g!==""||typeof g=="number")return g=no(""+g,y.mode,m),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case rs:return m=As(g.type,g.key,g.props,null,y.mode,m),m.ref=ur(y,null,g),m.return=y,m;case jn:return g=ro(g,y.mode,m),g.return=y,g;case bt:var x=g._init;return h(y,x(g._payload),m)}if(pr(g)||sr(g))return g=tn(g,y.mode,m,null),g.return=y,g;ps(y,g)}return null}function f(y,g,m,x){var _=g!==null?g.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return _!==null?null:a(y,g,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case rs:return m.key===_?u(y,g,m,x):null;case jn:return m.key===_?c(y,g,m,x):null;case bt:return _=m._init,f(y,g,_(m._payload),x)}if(pr(m)||sr(m))return _!==null?null:d(y,g,m,x,null);ps(y,m)}return null}function p(y,g,m,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(m)||null,a(g,y,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case rs:return y=y.get(x.key===null?m:x.key)||null,u(g,y,x,_);case jn:return y=y.get(x.key===null?m:x.key)||null,c(g,y,x,_);case bt:var k=x._init;return p(y,g,m,k(x._payload),_)}if(pr(x)||sr(x))return y=y.get(m)||null,d(g,y,x,_,null);ps(g,x)}return null}function v(y,g,m,x){for(var _=null,k=null,j=g,N=g=0,A=null;j!==null&&N<m.length;N++){j.index>N?(A=j,j=null):A=j.sibling;var $=f(y,j,m[N],x);if($===null){j===null&&(j=A);break}t&&j&&$.alternate===null&&e(y,j),g=i($,g,N),k===null?_=$:k.sibling=$,k=$,j=A}if(N===m.length)return n(y,j),Q&&Kt(y,N),_;if(j===null){for(;N<m.length;N++)j=h(y,m[N],x),j!==null&&(g=i(j,g,N),k===null?_=j:k.sibling=j,k=j);return Q&&Kt(y,N),_}for(j=r(y,j);N<m.length;N++)A=p(j,y,N,m[N],x),A!==null&&(t&&A.alternate!==null&&j.delete(A.key===null?N:A.key),g=i(A,g,N),k===null?_=A:k.sibling=A,k=A);return t&&j.forEach(function(T){return e(y,T)}),Q&&Kt(y,N),_}function w(y,g,m,x){var _=sr(m);if(typeof _!="function")throw Error(E(150));if(m=_.call(m),m==null)throw Error(E(151));for(var k=_=null,j=g,N=g=0,A=null,$=m.next();j!==null&&!$.done;N++,$=m.next()){j.index>N?(A=j,j=null):A=j.sibling;var T=f(y,j,$.value,x);if(T===null){j===null&&(j=A);break}t&&j&&T.alternate===null&&e(y,j),g=i(T,g,N),k===null?_=T:k.sibling=T,k=T,j=A}if($.done)return n(y,j),Q&&Kt(y,N),_;if(j===null){for(;!$.done;N++,$=m.next())$=h(y,$.value,x),$!==null&&(g=i($,g,N),k===null?_=$:k.sibling=$,k=$);return Q&&Kt(y,N),_}for(j=r(y,j);!$.done;N++,$=m.next())$=p(j,y,N,$.value,x),$!==null&&(t&&$.alternate!==null&&j.delete($.key===null?N:$.key),g=i($,g,N),k===null?_=$:k.sibling=$,k=$);return t&&j.forEach(function(W){return e(y,W)}),Q&&Kt(y,N),_}function b(y,g,m,x){if(typeof m=="object"&&m!==null&&m.type===bn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case rs:e:{for(var _=m.key,k=g;k!==null;){if(k.key===_){if(_=m.type,_===bn){if(k.tag===7){n(y,k.sibling),g=s(k,m.props.children),g.return=y,y=g;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===bt&&su(_)===k.type){n(y,k.sibling),g=s(k,m.props),g.ref=ur(y,k,m),g.return=y,y=g;break e}n(y,k);break}else e(y,k);k=k.sibling}m.type===bn?(g=tn(m.props.children,y.mode,x,m.key),g.return=y,y=g):(x=As(m.type,m.key,m.props,null,y.mode,x),x.ref=ur(y,g,m),x.return=y,y=x)}return o(y);case jn:e:{for(k=m.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===m.containerInfo&&g.stateNode.implementation===m.implementation){n(y,g.sibling),g=s(g,m.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=ro(m,y.mode,x),g.return=y,y=g}return o(y);case bt:return k=m._init,b(y,g,k(m._payload),x)}if(pr(m))return v(y,g,m,x);if(sr(m))return w(y,g,m,x);ps(y,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,g!==null&&g.tag===6?(n(y,g.sibling),g=s(g,m),g.return=y,y=g):(n(y,g),g=no(m,y.mode,x),g.return=y,y=g),o(y)):n(y,g)}return b}var Wn=ud(!0),cd=ud(!1),Gs=Bt(null),Qs=null,Rn=null,Bl=null;function ql(){Bl=Rn=Qs=null}function Wl(t){var e=Gs.current;G(Gs),t._currentValue=e}function qo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function zn(t,e){Qs=t,Bl=Rn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ee=!0),t.firstContext=null)}function Be(t){var e=t._currentValue;if(Bl!==t)if(t={context:t,memoizedValue:e,next:null},Rn===null){if(Qs===null)throw Error(E(308));Rn=t,Qs.dependencies={lanes:0,firstContext:t}}else Rn=Rn.next=t;return e}var Yt=null;function Hl(t){Yt===null?Yt=[t]:Yt.push(t)}function dd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Hl(e)):(n.next=s.next,s.next=n),e.interleaved=n,yt(t,r)}function yt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var St=!1;function Vl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function It(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,F&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,yt(t,n)}return s=r.interleaved,s===null?(e.next=e,Hl(r)):(e.next=s.next,s.next=e),r.interleaved=e,yt(t,n)}function Cs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ol(t,n)}}function iu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Js(t,e,n,r){var s=t.updateQueue;St=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,d=c=u=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(f=e,p=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=Z({},h,f);break e;case 2:St=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,u=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);on|=o,t.lanes=o,t.memoizedState=h}}function ou(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(E(191,s));s.call(r)}}}var Yr={},it=Bt(Yr),Fr=Bt(Yr),Br=Bt(Yr);function Zt(t){if(t===Yr)throw Error(E(174));return t}function Kl(t,e){switch(V(Br,e),V(Fr,t),V(it,Yr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jo(e,t)}G(it),V(it,e)}function Hn(){G(it),G(Fr),G(Br)}function fd(t){Zt(Br.current);var e=Zt(it.current),n=jo(e,t.type);e!==n&&(V(Fr,t),V(it,n))}function Gl(t){Fr.current===t&&(G(it),G(Fr))}var X=Bt(0);function Xs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ji=[];function Ql(){for(var t=0;t<Ji.length;t++)Ji[t]._workInProgressVersionPrimary=null;Ji.length=0}var Ts=wt.ReactCurrentDispatcher,Xi=wt.ReactCurrentBatchConfig,sn=0,Y=null,oe=null,ae=null,Ys=!1,jr=!1,qr=0,Dp=0;function pe(){throw Error(E(321))}function Jl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ze(t[n],e[n]))return!1;return!0}function Xl(t,e,n,r,s,i){if(sn=i,Y=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ts.current=t===null||t.memoizedState===null?Fp:Bp,t=n(r,s),jr){i=0;do{if(jr=!1,qr=0,25<=i)throw Error(E(301));i+=1,ae=oe=null,e.updateQueue=null,Ts.current=qp,t=n(r,s)}while(jr)}if(Ts.current=Zs,e=oe!==null&&oe.next!==null,sn=0,ae=oe=Y=null,Ys=!1,e)throw Error(E(300));return t}function Yl(){var t=qr!==0;return qr=0,t}function tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ae===null?Y.memoizedState=ae=t:ae=ae.next=t,ae}function qe(){if(oe===null){var t=Y.alternate;t=t!==null?t.memoizedState:null}else t=oe.next;var e=ae===null?Y.memoizedState:ae.next;if(e!==null)ae=e,oe=t;else{if(t===null)throw Error(E(310));oe=t,t={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},ae===null?Y.memoizedState=ae=t:ae=ae.next=t}return ae}function Wr(t,e){return typeof e=="function"?e(t):e}function Yi(t){var e=qe(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=oe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var d=c.lane;if((sn&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,Y.lanes|=d,on|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,Ze(r,e.memoizedState)||(Ee=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Y.lanes|=i,on|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zi(t){var e=qe(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ze(i,e.memoizedState)||(Ee=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function pd(){}function md(t,e){var n=Y,r=qe(),s=e(),i=!Ze(r.memoizedState,s);if(i&&(r.memoizedState=s,Ee=!0),r=r.queue,Zl(yd.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ae!==null&&ae.memoizedState.tag&1){if(n.flags|=2048,Hr(9,vd.bind(null,n,r,s,e),void 0,null),ue===null)throw Error(E(349));sn&30||gd(n,e,s)}return s}function gd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Y.updateQueue,e===null?(e={lastEffect:null,stores:null},Y.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vd(t,e,n,r){e.value=n,e.getSnapshot=r,xd(e)&&wd(t)}function yd(t,e,n){return n(function(){xd(e)&&wd(t)})}function xd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ze(t,n)}catch{return!0}}function wd(t){var e=yt(t,1);e!==null&&Ye(e,t,1,-1)}function lu(t){var e=tt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:t},e.queue=t,t=t.dispatch=Mp.bind(null,Y,t),[e.memoizedState,t]}function Hr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Y.updateQueue,e===null?(e={lastEffect:null,stores:null},Y.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _d(){return qe().memoizedState}function Ps(t,e,n,r){var s=tt();Y.flags|=t,s.memoizedState=Hr(1|e,n,void 0,r===void 0?null:r)}function pi(t,e,n,r){var s=qe();r=r===void 0?null:r;var i=void 0;if(oe!==null){var o=oe.memoizedState;if(i=o.destroy,r!==null&&Jl(r,o.deps)){s.memoizedState=Hr(e,n,i,r);return}}Y.flags|=t,s.memoizedState=Hr(1|e,n,i,r)}function au(t,e){return Ps(8390656,8,t,e)}function Zl(t,e){return pi(2048,8,t,e)}function kd(t,e){return pi(4,2,t,e)}function jd(t,e){return pi(4,4,t,e)}function bd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Sd(t,e,n){return n=n!=null?n.concat([t]):null,pi(4,4,bd.bind(null,e,t),n)}function ea(){}function Nd(t,e){var n=qe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ed(t,e){var n=qe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Cd(t,e,n){return sn&21?(Ze(n,e)||(n=$c(),Y.lanes|=n,on|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ee=!0),t.memoizedState=n)}function Up(t,e){var n=q;q=n!==0&&4>n?n:4,t(!0);var r=Xi.transition;Xi.transition={};try{t(!1),e()}finally{q=n,Xi.transition=r}}function Td(){return qe().memoizedState}function zp(t,e,n){var r=Dt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Pd(t))Od(e,n);else if(n=dd(t,e,n,r),n!==null){var s=ke();Ye(n,t,r,s),Rd(n,e,r)}}function Mp(t,e,n){var r=Dt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pd(t))Od(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ze(a,o)){var u=e.interleaved;u===null?(s.next=s,Hl(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=dd(t,e,s,r),n!==null&&(s=ke(),Ye(n,t,r,s),Rd(n,e,r))}}function Pd(t){var e=t.alternate;return t===Y||e!==null&&e===Y}function Od(t,e){jr=Ys=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Rd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ol(t,n)}}var Zs={readContext:Be,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useInsertionEffect:pe,useLayoutEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useMutableSource:pe,useSyncExternalStore:pe,useId:pe,unstable_isNewReconciler:!1},Fp={readContext:Be,useCallback:function(t,e){return tt().memoizedState=[t,e===void 0?null:e],t},useContext:Be,useEffect:au,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ps(4194308,4,bd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ps(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ps(4,2,t,e)},useMemo:function(t,e){var n=tt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=tt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=zp.bind(null,Y,t),[r.memoizedState,t]},useRef:function(t){var e=tt();return t={current:t},e.memoizedState=t},useState:lu,useDebugValue:ea,useDeferredValue:function(t){return tt().memoizedState=t},useTransition:function(){var t=lu(!1),e=t[0];return t=Up.bind(null,t[1]),tt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Y,s=tt();if(Q){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),ue===null)throw Error(E(349));sn&30||gd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,au(yd.bind(null,r,i,t),[t]),r.flags|=2048,Hr(9,vd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=tt(),e=ue.identifierPrefix;if(Q){var n=ft,r=ht;n=(r&~(1<<32-Xe(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=qr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Dp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Bp={readContext:Be,useCallback:Nd,useContext:Be,useEffect:Zl,useImperativeHandle:Sd,useInsertionEffect:kd,useLayoutEffect:jd,useMemo:Ed,useReducer:Yi,useRef:_d,useState:function(){return Yi(Wr)},useDebugValue:ea,useDeferredValue:function(t){var e=qe();return Cd(e,oe.memoizedState,t)},useTransition:function(){var t=Yi(Wr)[0],e=qe().memoizedState;return[t,e]},useMutableSource:pd,useSyncExternalStore:md,useId:Td,unstable_isNewReconciler:!1},qp={readContext:Be,useCallback:Nd,useContext:Be,useEffect:Zl,useImperativeHandle:Sd,useInsertionEffect:kd,useLayoutEffect:jd,useMemo:Ed,useReducer:Zi,useRef:_d,useState:function(){return Zi(Wr)},useDebugValue:ea,useDeferredValue:function(t){var e=qe();return oe===null?e.memoizedState=t:Cd(e,oe.memoizedState,t)},useTransition:function(){var t=Zi(Wr)[0],e=qe().memoizedState;return[t,e]},useMutableSource:pd,useSyncExternalStore:md,useId:Td,unstable_isNewReconciler:!1};function Ke(t,e){if(t&&t.defaultProps){e=Z({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Z({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var mi={isMounted:function(t){return(t=t._reactInternals)?un(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ke(),s=Dt(t),i=pt(r,s);i.payload=e,n!=null&&(i.callback=n),e=It(t,i,s),e!==null&&(Ye(e,t,s,r),Cs(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ke(),s=Dt(t),i=pt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=It(t,i,s),e!==null&&(Ye(e,t,s,r),Cs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ke(),r=Dt(t),s=pt(n,r);s.tag=2,e!=null&&(s.callback=e),e=It(t,s,r),e!==null&&(Ye(e,t,r,n),Cs(e,t,r))}};function uu(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Dr(n,r)||!Dr(s,i):!0}function $d(t,e,n){var r=!1,s=Mt,i=e.contextType;return typeof i=="object"&&i!==null?i=Be(i):(s=Te(e)?nn:ve.current,r=e.contextTypes,i=(r=r!=null)?Bn(t,s):Mt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mi,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function cu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&mi.enqueueReplaceState(e,e.state,null)}function Ho(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Vl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Be(i):(i=Te(e)?nn:ve.current,s.context=Bn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Wo(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&mi.enqueueReplaceState(s,s.state,null),Js(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Vn(t,e){try{var n="",r=e;do n+=vf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function eo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Wp=typeof WeakMap=="function"?WeakMap:Map;function Ad(t,e,n){n=pt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ti||(ti=!0,nl=r),Vo(t,e)},n}function Id(t,e,n){n=pt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Vo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Vo(t,e),typeof r!="function"&&(Lt===null?Lt=new Set([this]):Lt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function du(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Wp;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=sm.bind(null,t,e,n),e.then(t,t))}function hu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fu(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pt(-1,1),e.tag=2,It(n,e,1))),n.lanes|=1),t)}var Hp=wt.ReactCurrentOwner,Ee=!1;function _e(t,e,n,r){e.child=t===null?cd(e,null,n,r):Wn(e,t.child,n,r)}function pu(t,e,n,r,s){n=n.render;var i=e.ref;return zn(e,s),r=Xl(t,e,n,r,i,s),n=Yl(),t!==null&&!Ee?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xt(t,e,s)):(Q&&n&&zl(e),e.flags|=1,_e(t,e,r,s),e.child)}function mu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!aa(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Ld(t,e,i,r,s)):(t=As(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Dr,n(o,r)&&t.ref===e.ref)return xt(t,e,s)}return e.flags|=1,t=Ut(i,r),t.ref=e.ref,t.return=e,e.child=t}function Ld(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Dr(i,r)&&t.ref===e.ref)if(Ee=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ee=!0);else return e.lanes=t.lanes,xt(t,e,s)}return Ko(t,e,n,r,s)}function Dd(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(An,Oe),Oe|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,V(An,Oe),Oe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,V(An,Oe),Oe|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,V(An,Oe),Oe|=r;return _e(t,e,s,n),e.child}function Ud(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ko(t,e,n,r,s){var i=Te(n)?nn:ve.current;return i=Bn(e,i),zn(e,s),n=Xl(t,e,n,r,i,s),r=Yl(),t!==null&&!Ee?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xt(t,e,s)):(Q&&r&&zl(e),e.flags|=1,_e(t,e,n,s),e.child)}function gu(t,e,n,r,s){if(Te(n)){var i=!0;Hs(e)}else i=!1;if(zn(e,s),e.stateNode===null)Os(t,e),$d(e,n,r),Ho(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Be(c):(c=Te(n)?nn:ve.current,c=Bn(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&cu(e,o,r,c),St=!1;var f=e.memoizedState;o.state=f,Js(e,r,o,s),u=e.memoizedState,a!==r||f!==u||Ce.current||St?(typeof d=="function"&&(Wo(e,n,d,r),u=e.memoizedState),(a=St||uu(e,n,a,r,f,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,hd(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ke(e.type,a),o.props=c,h=e.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Be(u):(u=Te(n)?nn:ve.current,u=Bn(e,u));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==u)&&cu(e,o,r,u),St=!1,f=e.memoizedState,o.state=f,Js(e,r,o,s);var v=e.memoizedState;a!==h||f!==v||Ce.current||St?(typeof p=="function"&&(Wo(e,n,p,r),v=e.memoizedState),(c=St||uu(e,n,c,r,f,v,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Go(t,e,n,r,i,s)}function Go(t,e,n,r,s,i){Ud(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&tu(e,n,!1),xt(t,e,i);r=e.stateNode,Hp.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Wn(e,t.child,null,i),e.child=Wn(e,null,a,i)):_e(t,e,a,i),e.memoizedState=r.state,s&&tu(e,n,!0),e.child}function zd(t){var e=t.stateNode;e.pendingContext?eu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&eu(t,e.context,!1),Kl(t,e.containerInfo)}function vu(t,e,n,r,s){return qn(),Fl(s),e.flags|=256,_e(t,e,n,r),e.child}var Qo={dehydrated:null,treeContext:null,retryLane:0};function Jo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Md(t,e,n){var r=e.pendingProps,s=X.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),V(X,s&1),t===null)return Bo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=yi(o,r,0,null),t=tn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Jo(n),e.memoizedState=Qo,t):ta(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Vp(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ut(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ut(a,i):(i=tn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Jo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Qo,r}return i=t.child,t=i.sibling,r=Ut(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ta(t,e){return e=yi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ms(t,e,n,r){return r!==null&&Fl(r),Wn(e,t.child,null,n),t=ta(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Vp(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=eo(Error(E(422))),ms(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=yi({mode:"visible",children:r.children},s,0,null),i=tn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Wn(e,t.child,null,o),e.child.memoizedState=Jo(o),e.memoizedState=Qo,i);if(!(e.mode&1))return ms(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(E(419)),r=eo(i,r,void 0),ms(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ee||a){if(r=ue,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,yt(t,s),Ye(r,t,s,-1))}return la(),r=eo(Error(E(421))),ms(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=im.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Re=At(s.nextSibling),$e=e,Q=!0,Je=null,t!==null&&(De[Ue++]=ht,De[Ue++]=ft,De[Ue++]=rn,ht=t.id,ft=t.overflow,rn=e),e=ta(e,r.children),e.flags|=4096,e)}function yu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qo(t.return,e,n)}function to(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Fd(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(_e(t,e,r.children,n),r=X.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yu(t,n,e);else if(t.tag===19)yu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(V(X,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Xs(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),to(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Xs(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}to(e,!0,n,null,i);break;case"together":to(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Os(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),on|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=Ut(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ut(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Kp(t,e,n){switch(e.tag){case 3:zd(e),qn();break;case 5:fd(e);break;case 1:Te(e.type)&&Hs(e);break;case 4:Kl(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;V(Gs,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(V(X,X.current&1),e.flags|=128,null):n&e.child.childLanes?Md(t,e,n):(V(X,X.current&1),t=xt(t,e,n),t!==null?t.sibling:null);V(X,X.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Fd(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(X,X.current),r)break;return null;case 22:case 23:return e.lanes=0,Dd(t,e,n)}return xt(t,e,n)}var Bd,Xo,qd,Wd;Bd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xo=function(){};qd=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Zt(it.current);var i=null;switch(n){case"input":s=xo(t,s),r=xo(t,r),i=[];break;case"select":s=Z({},s,{value:void 0}),r=Z({},r,{value:void 0}),i=[];break;case"textarea":s=ko(t,s),r=ko(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qs)}bo(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Pr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Pr.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&K("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Wd=function(t,e,n,r){n!==r&&(e.flags|=4)};function cr(t,e){if(!Q)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function me(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Gp(t,e,n){var r=e.pendingProps;switch(Ml(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(e),null;case 1:return Te(e.type)&&Ws(),me(e),null;case 3:return r=e.stateNode,Hn(),G(Ce),G(ve),Ql(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Je!==null&&(il(Je),Je=null))),Xo(t,e),me(e),null;case 5:Gl(e);var s=Zt(Br.current);if(n=e.type,t!==null&&e.stateNode!=null)qd(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return me(e),null}if(t=Zt(it.current),fs(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[rt]=e,r[Mr]=i,t=(e.mode&1)!==0,n){case"dialog":K("cancel",r),K("close",r);break;case"iframe":case"object":case"embed":K("load",r);break;case"video":case"audio":for(s=0;s<gr.length;s++)K(gr[s],r);break;case"source":K("error",r);break;case"img":case"image":case"link":K("error",r),K("load",r);break;case"details":K("toggle",r);break;case"input":Ea(r,i),K("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},K("invalid",r);break;case"textarea":Ta(r,i),K("invalid",r)}bo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&hs(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&hs(r.textContent,a,t),s=["children",""+a]):Pr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&K("scroll",r)}switch(n){case"input":ss(r),Ca(r,i,!0);break;case"textarea":ss(r),Pa(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=qs)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[rt]=e,t[Mr]=r,Bd(t,e,!1,!1),e.stateNode=t;e:{switch(o=So(n,r),n){case"dialog":K("cancel",t),K("close",t),s=r;break;case"iframe":case"object":case"embed":K("load",t),s=r;break;case"video":case"audio":for(s=0;s<gr.length;s++)K(gr[s],t);s=r;break;case"source":K("error",t),s=r;break;case"img":case"image":case"link":K("error",t),K("load",t),s=r;break;case"details":K("toggle",t),s=r;break;case"input":Ea(t,r),s=xo(t,r),K("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Z({},r,{value:void 0}),K("invalid",t);break;case"textarea":Ta(t,r),s=ko(t,r),K("invalid",t);break;default:s=r}bo(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?_c(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&xc(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Or(t,u):typeof u=="number"&&Or(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pr.hasOwnProperty(i)?u!=null&&i==="onScroll"&&K("scroll",t):u!=null&&Sl(t,i,u,o))}switch(n){case"input":ss(t),Ca(t,r,!1);break;case"textarea":ss(t),Pa(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?In(t,!!r.multiple,i,!1):r.defaultValue!=null&&In(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=qs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return me(e),null;case 6:if(t&&e.stateNode!=null)Wd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=Zt(Br.current),Zt(it.current),fs(e)){if(r=e.stateNode,n=e.memoizedProps,r[rt]=e,(i=r.nodeValue!==n)&&(t=$e,t!==null))switch(t.tag){case 3:hs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hs(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rt]=e,e.stateNode=r}return me(e),null;case 13:if(G(X),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Q&&Re!==null&&e.mode&1&&!(e.flags&128))ad(),qn(),e.flags|=98560,i=!1;else if(i=fs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[rt]=e}else qn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;me(e),i=!1}else Je!==null&&(il(Je),Je=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||X.current&1?le===0&&(le=3):la())),e.updateQueue!==null&&(e.flags|=4),me(e),null);case 4:return Hn(),Xo(t,e),t===null&&Ur(e.stateNode.containerInfo),me(e),null;case 10:return Wl(e.type._context),me(e),null;case 17:return Te(e.type)&&Ws(),me(e),null;case 19:if(G(X),i=e.memoizedState,i===null)return me(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)cr(i,!1);else{if(le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xs(t),o!==null){for(e.flags|=128,cr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return V(X,X.current&1|2),e.child}t=t.sibling}i.tail!==null&&te()>Kn&&(e.flags|=128,r=!0,cr(i,!1),e.lanes=4194304)}else{if(!r)if(t=Xs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),cr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Q)return me(e),null}else 2*te()-i.renderingStartTime>Kn&&n!==1073741824&&(e.flags|=128,r=!0,cr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=te(),e.sibling=null,n=X.current,V(X,r?n&1|2:n&1),e):(me(e),null);case 22:case 23:return oa(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Oe&1073741824&&(me(e),e.subtreeFlags&6&&(e.flags|=8192)):me(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function Qp(t,e){switch(Ml(e),e.tag){case 1:return Te(e.type)&&Ws(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hn(),G(Ce),G(ve),Ql(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gl(e),null;case 13:if(G(X),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));qn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return G(X),null;case 4:return Hn(),null;case 10:return Wl(e.type._context),null;case 22:case 23:return oa(),null;case 24:return null;default:return null}}var gs=!1,ge=!1,Jp=typeof WeakSet=="function"?WeakSet:Set,O=null;function $n(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ee(t,e,r)}else n.current=null}function Yo(t,e,n){try{n()}catch(r){ee(t,e,r)}}var xu=!1;function Xp(t,e){if(Io=Ms,t=Qc(),Ul(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(u=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lo={focusedElem:t,selectionRange:n},Ms=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,b=v.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?w:Ke(e.type,w),b);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(x){ee(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return v=xu,xu=!1,v}function br(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Yo(e,n,i)}s=s.next}while(s!==r)}}function gi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Hd(t){var e=t.alternate;e!==null&&(t.alternate=null,Hd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rt],delete e[Mr],delete e[zo],delete e[$p],delete e[Ap])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vd(t){return t.tag===5||t.tag===3||t.tag===4}function wu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function el(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qs));else if(r!==4&&(t=t.child,t!==null))for(el(t,e,n),t=t.sibling;t!==null;)el(t,e,n),t=t.sibling}function tl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tl(t,e,n),t=t.sibling;t!==null;)tl(t,e,n),t=t.sibling}var de=null,Ge=!1;function _t(t,e,n){for(n=n.child;n!==null;)Kd(t,e,n),n=n.sibling}function Kd(t,e,n){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(ai,n)}catch{}switch(n.tag){case 5:ge||$n(n,e);case 6:var r=de,s=Ge;de=null,_t(t,e,n),de=r,Ge=s,de!==null&&(Ge?(t=de,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):de.removeChild(n.stateNode));break;case 18:de!==null&&(Ge?(t=de,n=n.stateNode,t.nodeType===8?Gi(t.parentNode,n):t.nodeType===1&&Gi(t,n),Ir(t)):Gi(de,n.stateNode));break;case 4:r=de,s=Ge,de=n.stateNode.containerInfo,Ge=!0,_t(t,e,n),de=r,Ge=s;break;case 0:case 11:case 14:case 15:if(!ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Yo(n,e,o),s=s.next}while(s!==r)}_t(t,e,n);break;case 1:if(!ge&&($n(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ee(n,e,a)}_t(t,e,n);break;case 21:_t(t,e,n);break;case 22:n.mode&1?(ge=(r=ge)||n.memoizedState!==null,_t(t,e,n),ge=r):_t(t,e,n);break;default:_t(t,e,n)}}function _u(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Jp),e.forEach(function(r){var s=om.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function He(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:de=a.stateNode,Ge=!1;break e;case 3:de=a.stateNode.containerInfo,Ge=!0;break e;case 4:de=a.stateNode.containerInfo,Ge=!0;break e}a=a.return}if(de===null)throw Error(E(160));Kd(i,o,s),de=null,Ge=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){ee(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Gd(e,t),e=e.sibling}function Gd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(He(e,t),et(t),r&4){try{br(3,t,t.return),gi(3,t)}catch(w){ee(t,t.return,w)}try{br(5,t,t.return)}catch(w){ee(t,t.return,w)}}break;case 1:He(e,t),et(t),r&512&&n!==null&&$n(n,n.return);break;case 5:if(He(e,t),et(t),r&512&&n!==null&&$n(n,n.return),t.flags&32){var s=t.stateNode;try{Or(s,"")}catch(w){ee(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&gc(s,i),So(a,o);var c=So(a,i);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?_c(s,h):d==="dangerouslySetInnerHTML"?xc(s,h):d==="children"?Or(s,h):Sl(s,d,h,c)}switch(a){case"input":wo(s,i);break;case"textarea":vc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?In(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?In(s,!!i.multiple,i.defaultValue,!0):In(s,!!i.multiple,i.multiple?[]:"",!1))}s[Mr]=i}catch(w){ee(t,t.return,w)}}break;case 6:if(He(e,t),et(t),r&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){ee(t,t.return,w)}}break;case 3:if(He(e,t),et(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ir(e.containerInfo)}catch(w){ee(t,t.return,w)}break;case 4:He(e,t),et(t);break;case 13:He(e,t),et(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(sa=te())),r&4&&_u(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ge=(c=ge)||d,He(e,t),ge=c):He(e,t),et(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(O=t,d=t.child;d!==null;){for(h=O=d;O!==null;){switch(f=O,p=f.child,f.tag){case 0:case 11:case 14:case 15:br(4,f,f.return);break;case 1:$n(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){ee(r,n,w)}}break;case 5:$n(f,f.return);break;case 22:if(f.memoizedState!==null){ju(h);continue}}p!==null?(p.return=f,O=p):ju(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=wc("display",o))}catch(w){ee(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){ee(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:He(e,t),et(t),r&4&&_u(t);break;case 21:break;default:He(e,t),et(t)}}function et(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Vd(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Or(s,""),r.flags&=-33);var i=wu(t);tl(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=wu(t);el(t,a,o);break;default:throw Error(E(161))}}catch(u){ee(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Yp(t,e,n){O=t,Qd(t)}function Qd(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||gs;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||ge;a=gs;var c=ge;if(gs=o,(ge=u)&&!c)for(O=s;O!==null;)o=O,u=o.child,o.tag===22&&o.memoizedState!==null?bu(s):u!==null?(u.return=o,O=u):bu(s);for(;i!==null;)O=i,Qd(i),i=i.sibling;O=s,gs=a,ge=c}ku(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):ku(t)}}function ku(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ge||gi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ge)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ke(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ou(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ou(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ir(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ge||e.flags&512&&Zo(e)}catch(f){ee(e,e.return,f)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function ju(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function bu(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gi(4,e)}catch(u){ee(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){ee(e,s,u)}}var i=e.return;try{Zo(e)}catch(u){ee(e,i,u)}break;case 5:var o=e.return;try{Zo(e)}catch(u){ee(e,o,u)}}}catch(u){ee(e,e.return,u)}if(e===t){O=null;break}var a=e.sibling;if(a!==null){a.return=e.return,O=a;break}O=e.return}}var Zp=Math.ceil,ei=wt.ReactCurrentDispatcher,na=wt.ReactCurrentOwner,Me=wt.ReactCurrentBatchConfig,F=0,ue=null,re=null,he=0,Oe=0,An=Bt(0),le=0,Vr=null,on=0,vi=0,ra=0,Sr=null,Se=null,sa=0,Kn=1/0,ut=null,ti=!1,nl=null,Lt=null,vs=!1,Pt=null,ni=0,Nr=0,rl=null,Rs=-1,$s=0;function ke(){return F&6?te():Rs!==-1?Rs:Rs=te()}function Dt(t){return t.mode&1?F&2&&he!==0?he&-he:Lp.transition!==null?($s===0&&($s=$c()),$s):(t=q,t!==0||(t=window.event,t=t===void 0?16:Mc(t.type)),t):1}function Ye(t,e,n,r){if(50<Nr)throw Nr=0,rl=null,Error(E(185));Qr(t,n,r),(!(F&2)||t!==ue)&&(t===ue&&(!(F&2)&&(vi|=n),le===4&&Et(t,he)),Pe(t,r),n===1&&F===0&&!(e.mode&1)&&(Kn=te()+500,fi&&qt()))}function Pe(t,e){var n=t.callbackNode;Lf(t,e);var r=zs(t,t===ue?he:0);if(r===0)n!==null&&$a(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$a(n),e===1)t.tag===0?Ip(Su.bind(null,t)):id(Su.bind(null,t)),Op(function(){!(F&6)&&qt()}),n=null;else{switch(Ac(r)){case 1:n=Pl;break;case 4:n=Oc;break;case 16:n=Us;break;case 536870912:n=Rc;break;default:n=Us}n=rh(n,Jd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Jd(t,e){if(Rs=-1,$s=0,F&6)throw Error(E(327));var n=t.callbackNode;if(Mn()&&t.callbackNode!==n)return null;var r=zs(t,t===ue?he:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ri(t,r);else{e=r;var s=F;F|=2;var i=Yd();(ue!==t||he!==e)&&(ut=null,Kn=te()+500,en(t,e));do try{nm();break}catch(a){Xd(t,a)}while(!0);ql(),ei.current=i,F=s,re!==null?e=0:(ue=null,he=0,e=le)}if(e!==0){if(e===2&&(s=Po(t),s!==0&&(r=s,e=sl(t,s))),e===1)throw n=Vr,en(t,0),Et(t,r),Pe(t,te()),n;if(e===6)Et(t,r);else{if(s=t.current.alternate,!(r&30)&&!em(s)&&(e=ri(t,r),e===2&&(i=Po(t),i!==0&&(r=i,e=sl(t,i))),e===1))throw n=Vr,en(t,0),Et(t,r),Pe(t,te()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:Gt(t,Se,ut);break;case 3:if(Et(t,r),(r&130023424)===r&&(e=sa+500-te(),10<e)){if(zs(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ke(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Uo(Gt.bind(null,t,Se,ut),e);break}Gt(t,Se,ut);break;case 4:if(Et(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Xe(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zp(r/1960))-r,10<r){t.timeoutHandle=Uo(Gt.bind(null,t,Se,ut),r);break}Gt(t,Se,ut);break;case 5:Gt(t,Se,ut);break;default:throw Error(E(329))}}}return Pe(t,te()),t.callbackNode===n?Jd.bind(null,t):null}function sl(t,e){var n=Sr;return t.current.memoizedState.isDehydrated&&(en(t,e).flags|=256),t=ri(t,e),t!==2&&(e=Se,Se=n,e!==null&&il(e)),t}function il(t){Se===null?Se=t:Se.push.apply(Se,t)}function em(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ze(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Et(t,e){for(e&=~ra,e&=~vi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xe(e),r=1<<n;t[n]=-1,e&=~r}}function Su(t){if(F&6)throw Error(E(327));Mn();var e=zs(t,0);if(!(e&1))return Pe(t,te()),null;var n=ri(t,e);if(t.tag!==0&&n===2){var r=Po(t);r!==0&&(e=r,n=sl(t,r))}if(n===1)throw n=Vr,en(t,0),Et(t,e),Pe(t,te()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gt(t,Se,ut),Pe(t,te()),null}function ia(t,e){var n=F;F|=1;try{return t(e)}finally{F=n,F===0&&(Kn=te()+500,fi&&qt())}}function ln(t){Pt!==null&&Pt.tag===0&&!(F&6)&&Mn();var e=F;F|=1;var n=Me.transition,r=q;try{if(Me.transition=null,q=1,t)return t()}finally{q=r,Me.transition=n,F=e,!(F&6)&&qt()}}function oa(){Oe=An.current,G(An)}function en(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Pp(n)),re!==null)for(n=re.return;n!==null;){var r=n;switch(Ml(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ws();break;case 3:Hn(),G(Ce),G(ve),Ql();break;case 5:Gl(r);break;case 4:Hn();break;case 13:G(X);break;case 19:G(X);break;case 10:Wl(r.type._context);break;case 22:case 23:oa()}n=n.return}if(ue=t,re=t=Ut(t.current,null),he=Oe=e,le=0,Vr=null,ra=vi=on=0,Se=Sr=null,Yt!==null){for(e=0;e<Yt.length;e++)if(n=Yt[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Yt=null}return t}function Xd(t,e){do{var n=re;try{if(ql(),Ts.current=Zs,Ys){for(var r=Y.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ys=!1}if(sn=0,ae=oe=Y=null,jr=!1,qr=0,na.current=null,n===null||n.return===null){le=1,Vr=e,re=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=he,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=hu(o);if(p!==null){p.flags&=-257,fu(p,o,a,i,e),p.mode&1&&du(i,c,e),e=p,u=c;var v=e.updateQueue;if(v===null){var w=new Set;w.add(u),e.updateQueue=w}else v.add(u);break e}else{if(!(e&1)){du(i,c,e),la();break e}u=Error(E(426))}}else if(Q&&a.mode&1){var b=hu(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),fu(b,o,a,i,e),Fl(Vn(u,a));break e}}i=u=Vn(u,a),le!==4&&(le=2),Sr===null?Sr=[i]:Sr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=Ad(i,u,e);iu(i,y);break e;case 1:a=u;var g=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Lt===null||!Lt.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=Id(i,a,e);iu(i,x);break e}}i=i.return}while(i!==null)}eh(n)}catch(_){e=_,re===n&&n!==null&&(re=n=n.return);continue}break}while(!0)}function Yd(){var t=ei.current;return ei.current=Zs,t===null?Zs:t}function la(){(le===0||le===3||le===2)&&(le=4),ue===null||!(on&268435455)&&!(vi&268435455)||Et(ue,he)}function ri(t,e){var n=F;F|=2;var r=Yd();(ue!==t||he!==e)&&(ut=null,en(t,e));do try{tm();break}catch(s){Xd(t,s)}while(!0);if(ql(),F=n,ei.current=r,re!==null)throw Error(E(261));return ue=null,he=0,le}function tm(){for(;re!==null;)Zd(re)}function nm(){for(;re!==null&&!Ef();)Zd(re)}function Zd(t){var e=nh(t.alternate,t,Oe);t.memoizedProps=t.pendingProps,e===null?eh(t):re=e,na.current=null}function eh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Qp(n,e),n!==null){n.flags&=32767,re=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{le=6,re=null;return}}else if(n=Gp(n,e,Oe),n!==null){re=n;return}if(e=e.sibling,e!==null){re=e;return}re=e=t}while(e!==null);le===0&&(le=5)}function Gt(t,e,n){var r=q,s=Me.transition;try{Me.transition=null,q=1,rm(t,e,n,r)}finally{Me.transition=s,q=r}return null}function rm(t,e,n,r){do Mn();while(Pt!==null);if(F&6)throw Error(E(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Df(t,i),t===ue&&(re=ue=null,he=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vs||(vs=!0,rh(Us,function(){return Mn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Me.transition,Me.transition=null;var o=q;q=1;var a=F;F|=4,na.current=null,Xp(t,n),Gd(n,t),jp(Lo),Ms=!!Io,Lo=Io=null,t.current=n,Yp(n),Cf(),F=a,q=o,Me.transition=i}else t.current=n;if(vs&&(vs=!1,Pt=t,ni=s),i=t.pendingLanes,i===0&&(Lt=null),Of(n.stateNode),Pe(t,te()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ti)throw ti=!1,t=nl,nl=null,t;return ni&1&&t.tag!==0&&Mn(),i=t.pendingLanes,i&1?t===rl?Nr++:(Nr=0,rl=t):Nr=0,qt(),null}function Mn(){if(Pt!==null){var t=Ac(ni),e=Me.transition,n=q;try{if(Me.transition=null,q=16>t?16:t,Pt===null)var r=!1;else{if(t=Pt,Pt=null,ni=0,F&6)throw Error(E(331));var s=F;for(F|=4,O=t.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(O=c;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:br(8,d,i)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var f=d.sibling,p=d.return;if(Hd(d),d===c){O=null;break}if(f!==null){f.return=p,O=f;break}O=p}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:br(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,O=y;break e}O=i.return}}var g=t.current;for(O=g;O!==null;){o=O;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,O=m;else e:for(o=g;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gi(9,a)}}catch(_){ee(a,a.return,_)}if(a===o){O=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,O=x;break e}O=a.return}}if(F=s,qt(),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(ai,t)}catch{}r=!0}return r}finally{q=n,Me.transition=e}}return!1}function Nu(t,e,n){e=Vn(n,e),e=Ad(t,e,1),t=It(t,e,1),e=ke(),t!==null&&(Qr(t,1,e),Pe(t,e))}function ee(t,e,n){if(t.tag===3)Nu(t,t,n);else for(;e!==null;){if(e.tag===3){Nu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lt===null||!Lt.has(r))){t=Vn(n,t),t=Id(e,t,1),e=It(e,t,1),t=ke(),e!==null&&(Qr(e,1,t),Pe(e,t));break}}e=e.return}}function sm(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ke(),t.pingedLanes|=t.suspendedLanes&n,ue===t&&(he&n)===n&&(le===4||le===3&&(he&130023424)===he&&500>te()-sa?en(t,0):ra|=n),Pe(t,e)}function th(t,e){e===0&&(t.mode&1?(e=ls,ls<<=1,!(ls&130023424)&&(ls=4194304)):e=1);var n=ke();t=yt(t,e),t!==null&&(Qr(t,e,n),Pe(t,n))}function im(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),th(t,n)}function om(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),th(t,n)}var nh;nh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ce.current)Ee=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ee=!1,Kp(t,e,n);Ee=!!(t.flags&131072)}else Ee=!1,Q&&e.flags&1048576&&od(e,Ks,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Os(t,e),t=e.pendingProps;var s=Bn(e,ve.current);zn(e,n),s=Xl(null,e,r,t,s,n);var i=Yl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Te(r)?(i=!0,Hs(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vl(e),s.updater=mi,e.stateNode=s,s._reactInternals=e,Ho(e,r,t,n),e=Go(null,e,r,!0,i,n)):(e.tag=0,Q&&i&&zl(e),_e(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Os(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=am(r),t=Ke(r,t),s){case 0:e=Ko(null,e,r,t,n);break e;case 1:e=gu(null,e,r,t,n);break e;case 11:e=pu(null,e,r,t,n);break e;case 14:e=mu(null,e,r,Ke(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ke(r,s),Ko(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ke(r,s),gu(t,e,r,s,n);case 3:e:{if(zd(e),t===null)throw Error(E(387));r=e.pendingProps,i=e.memoizedState,s=i.element,hd(t,e),Js(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Vn(Error(E(423)),e),e=vu(t,e,r,n,s);break e}else if(r!==s){s=Vn(Error(E(424)),e),e=vu(t,e,r,n,s);break e}else for(Re=At(e.stateNode.containerInfo.firstChild),$e=e,Q=!0,Je=null,n=cd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qn(),r===s){e=xt(t,e,n);break e}_e(t,e,r,n)}e=e.child}return e;case 5:return fd(e),t===null&&Bo(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Do(r,s)?o=null:i!==null&&Do(r,i)&&(e.flags|=32),Ud(t,e),_e(t,e,o,n),e.child;case 6:return t===null&&Bo(e),null;case 13:return Md(t,e,n);case 4:return Kl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wn(e,null,r,n):_e(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ke(r,s),pu(t,e,r,s,n);case 7:return _e(t,e,e.pendingProps,n),e.child;case 8:return _e(t,e,e.pendingProps.children,n),e.child;case 12:return _e(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,V(Gs,r._currentValue),r._currentValue=o,i!==null)if(Ze(i.value,o)){if(i.children===s.children&&!Ce.current){e=xt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=pt(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),qo(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),qo(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_e(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,zn(e,n),s=Be(s),r=r(s),e.flags|=1,_e(t,e,r,n),e.child;case 14:return r=e.type,s=Ke(r,e.pendingProps),s=Ke(r.type,s),mu(t,e,r,s,n);case 15:return Ld(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ke(r,s),Os(t,e),e.tag=1,Te(r)?(t=!0,Hs(e)):t=!1,zn(e,n),$d(e,r,s),Ho(e,r,s,n),Go(null,e,r,!0,t,n);case 19:return Fd(t,e,n);case 22:return Dd(t,e,n)}throw Error(E(156,e.tag))};function rh(t,e){return Pc(t,e)}function lm(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ze(t,e,n,r){return new lm(t,e,n,r)}function aa(t){return t=t.prototype,!(!t||!t.isReactComponent)}function am(t){if(typeof t=="function")return aa(t)?1:0;if(t!=null){if(t=t.$$typeof,t===El)return 11;if(t===Cl)return 14}return 2}function Ut(t,e){var n=t.alternate;return n===null?(n=ze(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function As(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")aa(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case bn:return tn(n.children,s,i,e);case Nl:o=8,s|=8;break;case mo:return t=ze(12,n,e,s|2),t.elementType=mo,t.lanes=i,t;case go:return t=ze(13,n,e,s),t.elementType=go,t.lanes=i,t;case vo:return t=ze(19,n,e,s),t.elementType=vo,t.lanes=i,t;case fc:return yi(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dc:o=10;break e;case hc:o=9;break e;case El:o=11;break e;case Cl:o=14;break e;case bt:o=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=ze(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function tn(t,e,n,r){return t=ze(7,t,r,e),t.lanes=n,t}function yi(t,e,n,r){return t=ze(22,t,r,e),t.elementType=fc,t.lanes=n,t.stateNode={isHidden:!1},t}function no(t,e,n){return t=ze(6,t,null,e),t.lanes=n,t}function ro(t,e,n){return e=ze(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function um(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Di(0),this.expirationTimes=Di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ua(t,e,n,r,s,i,o,a,u){return t=new um(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ze(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vl(i),t}function cm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function sh(t){if(!t)return Mt;t=t._reactInternals;e:{if(un(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Te(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(Te(n))return sd(t,n,e)}return e}function ih(t,e,n,r,s,i,o,a,u){return t=ua(n,r,!0,t,s,i,o,a,u),t.context=sh(null),n=t.current,r=ke(),s=Dt(n),i=pt(r,s),i.callback=e??null,It(n,i,s),t.current.lanes=s,Qr(t,s,r),Pe(t,r),t}function xi(t,e,n,r){var s=e.current,i=ke(),o=Dt(s);return n=sh(n),e.context===null?e.context=n:e.pendingContext=n,e=pt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=It(s,e,o),t!==null&&(Ye(t,s,o,i),Cs(t,s,o)),o}function si(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Eu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ca(t,e){Eu(t,e),(t=t.alternate)&&Eu(t,e)}function dm(){return null}var oh=typeof reportError=="function"?reportError:function(t){console.error(t)};function da(t){this._internalRoot=t}wi.prototype.render=da.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));xi(t,e,null,null)};wi.prototype.unmount=da.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ln(function(){xi(null,t,null,null)}),e[vt]=null}};function wi(t){this._internalRoot=t}wi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Dc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Nt.length&&e!==0&&e<Nt[n].priority;n++);Nt.splice(n,0,t),n===0&&zc(t)}};function ha(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _i(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Cu(){}function hm(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=si(o);i.call(c)}}var o=ih(e,r,t,0,null,!1,!1,"",Cu);return t._reactRootContainer=o,t[vt]=o.current,Ur(t.nodeType===8?t.parentNode:t),ln(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=si(u);a.call(c)}}var u=ua(t,0,!1,null,null,!1,!1,"",Cu);return t._reactRootContainer=u,t[vt]=u.current,Ur(t.nodeType===8?t.parentNode:t),ln(function(){xi(e,u,n,r)}),u}function ki(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=si(o);a.call(u)}}xi(e,o,t,s)}else o=hm(n,e,t,s,r);return si(o)}Ic=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=mr(e.pendingLanes);n!==0&&(Ol(e,n|1),Pe(e,te()),!(F&6)&&(Kn=te()+500,qt()))}break;case 13:ln(function(){var r=yt(t,1);if(r!==null){var s=ke();Ye(r,t,1,s)}}),ca(t,1)}};Rl=function(t){if(t.tag===13){var e=yt(t,134217728);if(e!==null){var n=ke();Ye(e,t,134217728,n)}ca(t,134217728)}};Lc=function(t){if(t.tag===13){var e=Dt(t),n=yt(t,e);if(n!==null){var r=ke();Ye(n,t,e,r)}ca(t,e)}};Dc=function(){return q};Uc=function(t,e){var n=q;try{return q=t,e()}finally{q=n}};Eo=function(t,e,n){switch(e){case"input":if(wo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=hi(r);if(!s)throw Error(E(90));mc(r),wo(r,s)}}}break;case"textarea":vc(t,n);break;case"select":e=n.value,e!=null&&In(t,!!n.multiple,e,!1)}};bc=ia;Sc=ln;var fm={usingClientEntryPoint:!1,Events:[Xr,Cn,hi,kc,jc,ia]},dr={findFiberByHostInstance:Xt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pm={bundleType:dr.bundleType,version:dr.version,rendererPackageName:dr.rendererPackageName,rendererConfig:dr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Cc(t),t===null?null:t.stateNode},findFiberByHostInstance:dr.findFiberByHostInstance||dm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ys=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ys.isDisabled&&ys.supportsFiber)try{ai=ys.inject(pm),st=ys}catch{}}Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fm;Ie.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ha(e))throw Error(E(200));return cm(t,e,null,n)};Ie.createRoot=function(t,e){if(!ha(t))throw Error(E(299));var n=!1,r="",s=oh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ua(t,1,!1,null,null,n,!1,r,s),t[vt]=e.current,Ur(t.nodeType===8?t.parentNode:t),new da(e)};Ie.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Cc(e),t=t===null?null:t.stateNode,t};Ie.flushSync=function(t){return ln(t)};Ie.hydrate=function(t,e,n){if(!_i(e))throw Error(E(200));return ki(null,t,e,!0,n)};Ie.hydrateRoot=function(t,e,n){if(!ha(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=oh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ih(e,null,t,1,n??null,s,!1,i,o),t[vt]=e.current,Ur(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new wi(e)};Ie.render=function(t,e,n){if(!_i(e))throw Error(E(200));return ki(null,t,e,!1,n)};Ie.unmountComponentAtNode=function(t){if(!_i(t))throw Error(E(40));return t._reactRootContainer?(ln(function(){ki(null,null,t,!1,function(){t._reactRootContainer=null,t[vt]=null})}),!0):!1};Ie.unstable_batchedUpdates=ia;Ie.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_i(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return ki(t,e,n,!1,r)};Ie.version="18.3.1-next-f1338f8080-20240426";function lh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lh)}catch(t){console.error(t)}}lh(),lc.exports=Ie;var mm=lc.exports,ah,Tu=mm;ah=Tu.createRoot,Tu.hydrateRoot;const uh=S.createContext(void 0);function gm({children:t}){const[e,n]=S.useState([]),r=c=>{n(d=>[...d,{...c,id:Date.now().toString()}])},s=c=>{n(d=>d.filter(h=>h.id!==c))},i=(c,d)=>{if(d<=0){s(c);return}n(h=>h.map(f=>f.id===c?{...f,quantity:d}:f))},o=()=>{n([])},a=()=>e.reduce((c,d)=>{const h=d.productPrice*d.quantity,f=d.addons.reduce((p,v)=>p+v.price*v.quantity,0)*d.quantity;return c+h+f},0),u=()=>a();return l.jsx(uh.Provider,{value:{items:e,addItem:r,removeItem:s,updateQuantity:i,clearCart:o,getTotal:u,getSubtotal:a},children:t})}function ji(){const t=S.useContext(uh);if(!t)throw new Error("useCart must be used within CartProvider");return t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),B=(t,e)=>{const n=S.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,...c},d)=>S.createElement("svg",{ref:d,...vm,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${ym(t)}`,a].join(" "),...c},[...e.map(([h,f])=>S.createElement(h,f)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=B("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=B("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=B("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=B("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=B("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=B("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=B("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=B("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=B("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=B("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=B("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=B("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=B("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=B("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=B("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=B("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=B("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=B("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=B("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=B("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=B("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=B("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=B("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=B("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=B("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=B("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=B("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function zm({id:t,type:e,message:n,duration:r=5e3,onClose:s}){S.useEffect(()=>{if(r>0){const a=setTimeout(()=>s(t),r);return()=>clearTimeout(a)}},[t,r,s]);const i={success:l.jsx(ch,{className:"w-6 h-6"}),error:l.jsx(Um,{className:"w-6 h-6"}),warning:l.jsx(xm,{className:"w-6 h-6"}),info:l.jsx(Em,{className:"w-6 h-6"})},o={success:"bg-green-600 border-green-500",error:"bg-red-600 border-red-500",warning:"bg-yellow-600 border-yellow-500",info:"bg-blue-600 border-blue-500"};return l.jsxs("div",{className:`${o[e]} border-l-4 rounded-lg shadow-2xl p-4 mb-3 flex items-start gap-3 backdrop-blur-xl bg-opacity-95 animate-slide-in-right`,children:[l.jsx("div",{className:"text-white flex-shrink-0",children:i[e]}),l.jsx("p",{className:"text-white flex-1 font-medium",children:n}),l.jsx("button",{onClick:()=>s(t),className:"text-white/80 hover:text-white transition-colors flex-shrink-0",children:l.jsx(cn,{className:"w-5 h-5"})})]})}function Mm({toasts:t,onClose:e}){return l.jsx("div",{className:"fixed top-4 right-4 z-[9999] w-full max-w-md pointer-events-none",children:l.jsx("div",{className:"pointer-events-auto space-y-2",children:t.map(n=>l.jsx(zm,{...n,onClose:e},n.id))})})}const gh=S.createContext(void 0);function Fm({children:t}){const[e,n]=S.useState([]),r=(c,d,h=5e3)=>{const f=Math.random().toString(36).substring(2,9);n(p=>[...p,{id:f,type:c,message:d,duration:h}])},s=c=>{n(d=>d.filter(h=>h.id!==c))},i=c=>r("success",c),o=c=>r("error",c),a=c=>r("warning",c),u=c=>r("info",c);return l.jsxs(gh.Provider,{value:{showToast:r,success:i,error:o,warning:a,info:u},children:[t,l.jsx(Mm,{toasts:e,onClose:s})]})}function pa(){const t=S.useContext(gh);if(!t)throw new Error("useToast must be used within ToastProvider");return t}const Bm="modulepreload",qm=function(t){return"/"+t},Pu={},Zr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=qm(u),u in Pu)return;Pu[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Bm,c||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Wm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zr(async()=>{const{default:r}=await Promise.resolve().then(()=>Zn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class ma extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Hm extends ma{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ou extends ma{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ru extends ma{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var al;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(al||(al={}));var Vm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};class Km{constructor(e,{headers:n={},customFetch:r,region:s=al.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Wm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Vm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:u}=n;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(a["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(w=>{throw new Hm(w)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Ou(h);if(!h.ok)throw new Ru(h);let p=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield h.json():p==="application/octet-stream"?v=yield h.blob():p==="text/event-stream"?v=h:p==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Ru||s instanceof Ou?s.context:void 0}}})}}var Ne={},ga={},Si={},es={},Ni={},Ei={},Gm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gn=Gm();const Qm=Gn.fetch,vh=Gn.fetch.bind(Gn),yh=Gn.Headers,Jm=Gn.Request,Xm=Gn.Response,Zn=Object.freeze(Object.defineProperty({__proto__:null,Headers:yh,Request:Jm,Response:Xm,default:vh,fetch:Qm},Symbol.toStringTag,{value:"Module"})),Ym=Bh(Zn);var Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});let Zm=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ci.default=Zm;var xh=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ei,"__esModule",{value:!0});const eg=xh(Ym),tg=xh(Ci);let ng=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=eg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,u,c;let d=null,h=null,f=null,p=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=g:h=JSON.parse(g))}const b=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),y=(u=i.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");b&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,p=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const b=await i.text();try{d=JSON.parse(b),Array.isArray(d)&&i.status===404&&(h=[],d=null,p=200,v="OK")}catch{i.status===404&&b===""?(p=204,v="No Content"):d={message:b}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,p=200,v="OK"),d&&this.shouldThrowOnError)throw new tg.default(d)}return{error:d,data:h,count:f,status:p,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Ei.default=ng;var rg=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ni,"__esModule",{value:!0});const sg=rg(Ei);let ig=class extends sg.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const u=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ni.default=ig;var og=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(es,"__esModule",{value:!0});const lg=og(Ni);let ag=class extends lg.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};es.default=ag;var ug=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Si,"__esModule",{value:!0});const hr=ug(es);let cg=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new hr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,u)=>a.concat(Object.keys(u)),[]);if(o.length>0){const a=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",a.join(","))}}return new hr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new hr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new hr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new hr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Si.default=cg;var wh=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ga,"__esModule",{value:!0});const dg=wh(Si),hg=wh(es);let fg=class _h{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new dg.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new _h(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const u=new URL(`${this.url}/rpc/${e}`);let c;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{u.searchParams.append(h,f)})):(a="POST",c=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new hg.default({method:a,url:u,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};ga.default=fg;var er=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.PostgrestError=Ne.PostgrestBuilder=Ne.PostgrestTransformBuilder=Ne.PostgrestFilterBuilder=Ne.PostgrestQueryBuilder=Ne.PostgrestClient=void 0;const kh=er(ga);Ne.PostgrestClient=kh.default;const jh=er(Si);Ne.PostgrestQueryBuilder=jh.default;const bh=er(es);Ne.PostgrestFilterBuilder=bh.default;const Sh=er(Ni);Ne.PostgrestTransformBuilder=Sh.default;const Nh=er(Ei);Ne.PostgrestBuilder=Nh.default;const Eh=er(Ci);Ne.PostgrestError=Eh.default;var pg=Ne.default={PostgrestClient:kh.default,PostgrestQueryBuilder:jh.default,PostgrestFilterBuilder:bh.default,PostgrestTransformBuilder:Sh.default,PostgrestBuilder:Nh.default,PostgrestError:Eh.default};const{PostgrestClient:mg,PostgrestQueryBuilder:Nv,PostgrestFilterBuilder:Ev,PostgrestTransformBuilder:Cv,PostgrestBuilder:Tv,PostgrestError:Pv}=pg;class gg{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const vg="2.15.5",yg=`realtime-js/${vg}`,xg="1.0.0",ul=1e4,wg=1e3,_g=100;var Er;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Er||(Er={}));var se;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(se||(se={}));var Qe;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Qe||(Qe={}));var cl;(function(t){t.websocket="websocket"})(cl||(cl={}));var Jt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Jt||(Jt={}));class kg{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const u=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:u,payload:c}}}class Ch{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var H;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(H||(H={}));const $u=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=jg(o,t,e,s),i),{})},jg=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Th(i,o):dl(o)},Th=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Eg(e,n)}switch(t){case H.bool:return bg(e);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return Sg(e);case H.json:case H.jsonb:return Ng(e);case H.timestamp:return Cg(e);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return dl(e);default:return dl(e)}},dl=t=>t,bg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Sg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Ng=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Eg=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Th(e,a))}return t},Cg=t=>typeof t=="string"?t.replace(" ","T"):t,Ph=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class so{constructor(e,n,r={},s=ul){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Au;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Au||(Au={}));class Cr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=Cr.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Cr.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(b=>b.presence_ref),p=h.map(b=>b.presence_ref),v=d.filter(b=>p.indexOf(b.presence_ref)<0),w=h.filter(b=>f.indexOf(b.presence_ref)<0);v.length>0&&(a[c]=v),w.length>0&&(u[c]=w)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:u},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,u)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(u),d.length>0){const h=e[a].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...f)}r(a,d,u)}),this.map(o,(a,u)=>{let c=e[a];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,u),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Iu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Iu||(Iu={}));var Tr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Tr||(Tr={}));var ct;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ct||(ct={}));class va{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new so(this,Qe.join,this.params,this.timeout),this.rejoinTimer=new Ch(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=se.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qe.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Cr(this),this.broadcastEndpointURL=Ph(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==se.closed){const{config:{broadcast:o,presence:a,private:u}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Tr.PRESENCE]&&this.bindings[Tr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(ct.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(ct.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){e==null||e(ct.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,y=[];for(let g=0;g<b;g++){const m=w[g],{filter:{event:x,schema:_,table:k,filter:j}}=m,N=p&&p[g];if(N&&N.event===x&&N.schema===_&&N.table===k&&N.filter===j)y.push(Object.assign(Object.assign({},m),{id:N.id}));else{this.unsubscribe(),this.state=se.errored,e==null||e(ct.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(ct.SUBSCRIBED);return}}).receive("error",p=>{this.state=se.errored,e==null||e(ct.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ct.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===se.joined&&e===Tr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,u;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=se.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qe.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new so(this,Qe.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=se.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new so(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>_g){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:u,leave:c,join:d}=Qe;if(r&&[a,u,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,w,b;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(w=p.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,w,b,y,g,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const x=p.id,_=(v=p.filter)===null||v===void 0?void 0:v.event;return x&&((w=n.ids)===null||w===void 0?void 0:w.includes(x))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const x=(g=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return x==="*"||x===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:w,table:b,commit_timestamp:y,type:g,errors:m}=v;f=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:y,eventType:g,new:{},old:{},errors:m}),this._getPayloadRecords(v))}p.callback(f,r)})}_isClosed(){return this.state===se.closed}_isJoined(){return this.state===se.joined}_isJoining(){return this.state===se.joining}_isLeaving(){return this.state===se.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&va.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qe.close,{},e)}_onError(e){this._on(Qe.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=se.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=$u(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=$u(e.columns,e.old_record)),n}}const io=()=>{},xs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Tg=[1e3,2e3,5e3,1e4],Pg=1e4,Og=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Rg{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ul,this.transport=null,this.heartbeatIntervalMs=xs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=io,this.ref=0,this.reconnectTimer=null,this.logger=io,this.conn=null,this.sendBuffer=[],this.serializer=new kg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Zr(async()=>{const{default:a}=await Promise.resolve().then(()=>Zn);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${cl.websocket}`,this.httpEndpoint=Ph(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xg}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Er.connecting:return Jt.Connecting;case Er.open:return Jt.Open;case Er.closing:return Jt.Closing;default:return Jt.Closed}}isConnected(){return this.connectionState()===Jt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new va(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(wg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},xs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",u=i.status||"";this.log("receive",`${u} ${r} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qe.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Og],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:yg};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Qe.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ch(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,u,c,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:ul,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:xs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:io,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:h=>Tg[h-1]||Pg,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,f)=>f(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ya extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ie(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class $g extends ya{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hl extends ya{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Ag=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};const Oh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zr(async()=>{const{default:r}=await Promise.resolve().then(()=>Zn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Ig=()=>Ag(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Zr(()=>Promise.resolve().then(()=>Zn),void 0)).Response:Response}),fl=t=>{if(Array.isArray(t))return t.map(n=>fl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=fl(r)}),e},Lg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var dn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};const oo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Dg=(t,e,n)=>dn(void 0,void 0,void 0,function*(){const r=yield Ig();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new $g(oo(s),i,o))}).catch(s=>{e(new hl(oo(s),s))}):e(new hl(oo(t),t))}),Ug=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(Lg(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function ts(t,e,n,r,s,i){return dn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Ug(e,r,s,i)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>Dg(u,a,r))})})}function ii(t,e,n,r){return dn(this,void 0,void 0,function*(){return ts(t,"GET",e,n,r)})}function nt(t,e,n,r,s){return dn(this,void 0,void 0,function*(){return ts(t,"POST",e,r,s,n)})}function pl(t,e,n,r,s){return dn(this,void 0,void 0,function*(){return ts(t,"PUT",e,r,s,n)})}function zg(t,e,n,r){return dn(this,void 0,void 0,function*(){return ts(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Rh(t,e,n,r,s){return dn(this,void 0,void 0,function*(){return ts(t,"DELETE",e,r,s,n)})}var we=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};const Mg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Fg{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Oh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return we(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Lu),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield(e=="PUT"?pl:nt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ie(i))return{data:null,error:i};throw i}})}upload(e,n,r){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return we(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let u;const c=Object.assign({upsert:Lu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield pl(this.fetch,a.toString(),u,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(ie(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return we(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield nt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ya("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ie(r))return{data:null,error:r};throw r}})}update(e,n,r){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return we(this,void 0,void 0,function*(){try{return{data:yield nt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ie(s))return{data:null,error:s};throw s}})}copy(e,n,r){return we(this,void 0,void 0,function*(){try{return{data:{path:(yield nt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ie(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return we(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield nt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ie(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return we(this,void 0,void 0,function*(){try{const s=yield nt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ie(s))return{data:null,error:s};throw s}})}download(e,n){return we(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ii(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ie(a))return{data:null,error:a};throw a}})}info(e){return we(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ii(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:fl(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ie(r))return{data:null,error:r};throw r}})}exists(e){return we(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield zg(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ie(r)&&r instanceof hl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return we(this,void 0,void 0,function*(){try{return{data:yield Rh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ie(n))return{data:null,error:n};throw n}})}list(e,n,r){return we(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Mg),n),{prefix:e||""});return{data:yield nt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ie(s))return{data:null,error:s};throw s}})}listV2(e,n){return we(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield nt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ie(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Bg="2.12.1",qg={"X-Client-Info":`storage-js/${Bg}`};var gn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};class Wg{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},qg),n),this.fetch=Oh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return gn(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ie(e))return{data:null,error:e};throw e}})}getBucket(e){return gn(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ie(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return gn(this,void 0,void 0,function*(){try{return{data:yield nt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ie(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return gn(this,void 0,void 0,function*(){try{return{data:yield pl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ie(r))return{data:null,error:r};throw r}})}emptyBucket(e){return gn(this,void 0,void 0,function*(){try{return{data:yield nt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ie(n))return{data:null,error:n};throw n}})}deleteBucket(e){return gn(this,void 0,void 0,function*(){try{return{data:yield Rh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ie(n))return{data:null,error:n};throw n}})}}class Hg extends Wg{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new Fg(this.url,this.headers,e,this.fetch)}}const Vg="2.57.4";let vr="";typeof Deno<"u"?vr="deno":typeof document<"u"?vr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vr="react-native":vr="node";const Kg={"X-Client-Info":`supabase-js-${vr}/${Vg}`},Gg={headers:Kg},Qg={schema:"public"},Jg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xg={};var Yg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};const Zg=t=>{let e;return t?e=t:typeof fetch>"u"?e=vh:e=fetch,(...n)=>e(...n)},e0=()=>typeof Headers>"u"?yh:Headers,t0=(t,e,n)=>{const r=Zg(n),s=e0();return(i,o)=>Yg(void 0,void 0,void 0,function*(){var a;const u=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var n0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};function r0(t){return t.endsWith("/")?t:t+"/"}function s0(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:u,auth:c,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>n0(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function i0(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(r0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const $h="2.71.1",_n=30*1e3,ml=3,lo=ml*_n,o0="http://localhost:9999",l0="supabase.auth.token",a0={"X-Client-Info":`gotrue-js/${$h}`},gl="X-Supabase-Api-Version",Ah={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},u0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,c0=10*60*1e3;class xa extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class d0 extends xa{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function h0(t){return L(t)&&t.name==="AuthApiError"}class Ih extends xa{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Wt extends xa{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class jt extends Wt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function f0(t){return L(t)&&t.name==="AuthSessionMissingError"}class ws extends Wt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _s extends Wt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ks extends Wt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function p0(t){return L(t)&&t.name==="AuthImplicitGrantRedirectError"}class Du extends Wt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vl extends Wt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ao(t){return L(t)&&t.name==="AuthRetryableFetchError"}class Uu extends Wt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class yl extends Wt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const oi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zu=` 	
\r=`.split(""),m0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<zu.length;e+=1)t[zu[e].charCodeAt(0)]=-2;for(let e=0;e<oi.length;e+=1)t[oi[e].charCodeAt(0)]=e;return t})();function Mu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(oi[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(oi[r]),e.queuedBits-=6}}function Lh(t,e,n){const r=m0[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Fu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{y0(o,r,n)};for(let o=0;o<t.length;o+=1)Lh(t.charCodeAt(o),s,i);return e.join("")}function g0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function v0(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}g0(r,e)}}function y0(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function x0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Lh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function w0(t){const e=[];return v0(t,n=>e.push(n)),new Uint8Array(e)}function _0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Mu(s,n,r)),Mu(null,n,r),e.join("")}function k0(t){return Math.round(Date.now()/1e3)+t}function j0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ve=()=>typeof window<"u"&&typeof document<"u",Ht={tested:!1,writable:!1},Dh=()=>{if(!Ve())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ht.tested)return Ht.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ht.tested=!0,Ht.writable=!0}catch{Ht.tested=!0,Ht.writable=!1}return Ht.writable};function b0(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Uh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zr(async()=>{const{default:r}=await Promise.resolve().then(()=>Zn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},S0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",kn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Vt=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},kt=async(t,e)=>{await t.removeItem(e)};class Ti{constructor(){this.promise=new Ti.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ti.promiseConstructor=Promise;function uo(t){const e=t.split(".");if(e.length!==3)throw new yl("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!u0.test(e[r]))throw new yl("JWT not in base64url format");return{header:JSON.parse(Fu(e[0])),payload:JSON.parse(Fu(e[1])),signature:x0(e[2]),raw:{header:e[0],payload:e[1]}}}async function N0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function E0(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function C0(t){return("0"+t.toString(16)).substr(-2)}function T0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,C0).join("")}async function P0(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function O0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await P0(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vn(t,e,n=!1){const r=T0();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await kn(t,`${e}-code-verifier`,s);const i=await O0(r);return[i,r===i?"plain":"s256"]}const R0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $0(t){const e=t.headers.get(gl);if(!e||!e.match(R0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function A0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function I0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const L0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yn(t){if(!L0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function co(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Bu(t){return JSON.parse(JSON.stringify(t))}var D0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Qt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),U0=[502,503,504];async function qu(t){var e;if(!S0(t))throw new vl(Qt(t),0);if(U0.includes(t.status))throw new vl(Qt(t),t.status);let n;try{n=await t.json()}catch(i){throw new Ih(Qt(i),i)}let r;const s=$0(t);if(s&&s.getTime()>=Ah["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Uu(Qt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new jt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Uu(Qt(n),t.status,n.weak_password.reasons);throw new d0(Qt(n),t.status||500,r)}const z0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function U(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[gl]||(i[gl]=Ah["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await M0(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function M0(t,e,n,r,s,i){const o=z0(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(u){throw console.error(u),new vl(Qt(u),0)}if(a.ok||await qu(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(u){await qu(u)}}function at(t){var e;let n=null;W0(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=k0(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Wu(t){const e=at(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ct(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function F0(t){return{data:t,error:null}}function B0(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=D0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function q0(t){return t}function W0(t){return t.access_token&&t.refresh_token&&t.expires_in}const ho=["global","local","others"];var H0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class V0{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Uh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=ho[0]){if(ho.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ho.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ct})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=H0(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:B0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(L(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ct})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},d=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:q0});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(u=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);c[`${b}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(L(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){yn(e);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ct})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){yn(e);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ct})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){yn(e);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ct})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){yn(e.userId);try{const{data:n,error:r}=await U(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteFactor(e){yn(e.userId),yn(e.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}}function Hu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function K0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xn={debug:!!(globalThis&&Dh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class G0 extends zh{}async function Q0(t,e,n){xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),xn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new G0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(xn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}K0();const J0={url:o0,storageKey:l0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:a0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Vu(t,e,n){return await n()}const wn={};class Kr{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Kr.nextInstanceID,Kr.nextInstanceID+=1,this.instanceID>0&&Ve()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},J0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new V0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Uh(s.fetch),this.lock=s.lock||Vu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ve()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Q0:this.lock=Vu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Dh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Hu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Hu(this.memoryStorage)),Ve()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=wn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){wn[this.storageKey]=Object.assign(Object.assign({},wn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=wn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){wn[this.storageKey]=Object.assign(Object.assign({},wn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$h}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=b0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ve()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),p0(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return L(n)?{error:n}:{error:new Ih("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:at}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await vn(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},xform:at})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:at})}else throw new _s("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Wu})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Wu})}else throw new _s("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ws}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,u,c,d,h,f,p;let v,w;if("message"in e)v=e.message,w=e.signature;else{const{chain:b,wallet:y,statement:g,options:m}=e;let x;if(Ve())if(typeof y=="object")x=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))x=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=y}const _=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const k=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),g?{statement:g}:null));let j;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")j=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)j=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)v=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),w=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${_.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const k=await x.signMessage(new TextEncoder().encode(v),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=k}}try{const{data:b,error:y}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:_0(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:at});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new ws}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(L(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const n=await Vt(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:at});if(await kt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ws}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(L(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:at}),{data:u,error:c}=a;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new ws}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:u}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await vn(this.storage,this.storageKey));const{error:h}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:u}=e,{data:c,error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new _s("You must provide either an email or phone number.")}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:at});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await vn(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:F0})}catch(i){if(L(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new jt;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(L(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await U(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await U(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new _s("You must provide either an email or phone number and a type")}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Vt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<lo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Vt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=co()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ct}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ct})})}catch(n){if(L(n))return f0(n)&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new jt;const o=s.session;let a=null,u=null;this.flowType==="pkce"&&e.email!=null&&([a,u]=await vn(this.storage,this.storageKey));const{data:c,error:d}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:Ct});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new jt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=uo(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(L(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new jt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ve())throw new ks("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ks(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Du("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ks("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Du("No code detected.");const{data:g,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:u,token_type:c}=e;if(!i||!a||!o||!c)throw new ks("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;u&&(f=parseInt(u));const p=f-d;p*1e3<=_n&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(L(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Vt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(h0(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=j0(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await vn(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(L(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,u,c,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ve()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(L(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await E0(async s=>(s>0&&await N0(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:at})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ao(i)&&Date.now()+o-r<_n})}catch(r){if(this._debug(n,"error",r),L(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ve()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Vt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Vt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await kn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:co()}else if(s&&!s.user&&!s.user){const o=await Vt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await kt(this.storage,this.storageKey+"-user"),await kn(this.storage,this.storageKey,s)):s.user=co()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<lo;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${lo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ao(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ti;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new jt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),L(i)){const o={session:null,error:i};return ao(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await kn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Bu(s);await kn(this.storage,this.storageKey,i)}else{const s=Bu(n);await kn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await kt(this.storage,this.storageKey),await kt(this.storage,this.storageKey+"-code-verifier"),await kt(this.storage,this.storageKey+"-user"),this.userStorage&&await kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ve()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_n);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/_n);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${_n}ms, refresh threshold is ${ml} ticks`),s<=ml&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof zh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ve()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await vn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:c}=await U(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=uo(s.access_token);let a=null;o.aal&&(a=o.aal);let u=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+c0>s)return r;const{data:i,error:o}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:u}}=uo(r);n!=null&&n.allowExpired||A0(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=I0(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,w0(`${a}.${u}`)))throw new yl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}}Kr.nextInstanceID=0;const X0=Kr;class Y0 extends X0{constructor(e){super(e)}}var Z0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};class ev{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const a=i0(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Qg,realtime:Xg,auth:Object.assign(Object.assign({},Jg),{storageKey:u}),global:Gg},d=s0(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=t0(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new mg(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Hg(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Km(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Z0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:u,debug:c},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Y0({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:u,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Rg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tv=(t,e,n)=>new ev(t,e,n);function nv(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}nv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const rv="https://kanpcfffaprewzdcloxx.supabase.co",sv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImthbnBjZmZmYXByZXd6ZGNsb3h4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkzODM5NTcsImV4cCI6MjA4NDk1OTk1N30.1koLhtp9oP3iIY25gV_0pZ2YGyLElxFXWmb1chI_SOU",R=tv(rv,sv,{db:{schema:"public"},auth:{persistSession:!1,autoRefreshToken:!1},global:{headers:{"X-Client-Info":"supabase-js-web"}}}),Ku=["https://images.pexels.com/photos/1058775/pexels-photo-1058775.jpeg?auto=compress&cs=tinysrgb&w=1600","https://images.pexels.com/photos/1762851/pexels-photo-1762851.jpeg?auto=compress&cs=tinysrgb&w=1600","https://images.pexels.com/photos/1670977/pexels-photo-1670977.jpeg?auto=compress&cs=tinysrgb&w=1600","https://images.pexels.com/photos/1337386/pexels-photo-1337386.jpeg?auto=compress&cs=tinysrgb&w=1600"];function wa(){const[t,e]=S.useState(0),[n,r]=S.useState(Ku),[s,i]=S.useState([]);S.useEffect(()=>{o();const c=R.channel("background_media_changes").on("postgres_changes",{event:"*",schema:"public",table:"background_media"},()=>{o()}).subscribe();return()=>{R.removeChannel(c)}},[]);async function o(){try{const{data:c,error:d}=await R.from("background_media").select("file_url, file_type").eq("is_active",!0).order("order_position",{ascending:!0});if(d)throw d;c&&c.length>0?(r(c.map(h=>h.file_url)),i(c.map(h=>h.file_type))):(r(Ku),i([]))}catch(c){console.error("Erro ao carregar mdias:",c)}}const a=()=>{e(c=>(c+1)%n.length)};S.useEffect(()=>{if((s[t]||"image")==="image"){const d=setTimeout(a,5e3);return()=>clearTimeout(d)}},[t,n.length,s]);const u=s[t]||"image";return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-gray-900 via-black to-gray-800 z-0"}),l.jsx("div",{className:"fixed inset-0 z-0 overflow-hidden",children:u==="video"?l.jsx("video",{autoPlay:!0,muted:!0,playsInline:!0,onEnded:a,className:"absolute inset-0 w-full h-full object-cover transition-opacity duration-[800ms] ease-in-out",style:{opacity:.6},children:l.jsx("source",{src:n[t],type:"video/mp4"})},n[t]):l.jsx("div",{className:"absolute inset-0 transition-opacity duration-[800ms] ease-in-out",style:{backgroundImage:`url(${n[t]})`,backgroundSize:"cover",backgroundPosition:"center",opacity:.6}},n[t])}),l.jsx("div",{className:"fixed inset-0 bg-gradient-to-t from-black/75 via-black/40 to-black/60 z-0 pointer-events-none"}),l.jsx("div",{className:"fixed inset-0 bg-gradient-to-r from-red-950/20 via-transparent to-blue-950/20 z-0 pointer-events-none"})]})}function iv({onOrderNow:t}){return l.jsxs("div",{className:"min-h-screen relative flex items-center justify-center",children:[l.jsx(wa,{}),l.jsx("div",{className:"relative z-10 container mx-auto px-4",children:l.jsxs("div",{className:"max-w-3xl mx-auto text-center space-y-8",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsx("img",{src:"/expresso-delivery_615dab6902eee3285f7eabcacf6ac2ee.png",alt:"Hero's Brasa Burguer",className:"w-64 md:w-96 h-auto object-contain"})}),l.jsx("div",{className:"space-y-3",children:l.jsx("p",{className:"text-lg md:text-xl text-yellow-400 font-semibold",children:"Hamburgueria dos Super-Heris"})}),l.jsx("button",{onClick:t,className:"btn-primary text-white px-12 py-6 rounded-2xl text-2xl md:text-3xl font-bold shadow-2xl hover:scale-105 transition-transform duration-300 animate-bounce",children:" FAA SEU PEDIDO AGORA"}),l.jsx("div",{className:"glass-effect rounded-xl p-5 mt-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4 md:gap-8 text-gray-200 text-sm md:text-base",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:""}),l.jsx("span",{children:"Tera a Sbado - 18h30 s 23h00"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:""}),l.jsx("span",{children:"(66) 99936-5994"})]})]})})]})})]})}function ov({product:t,onClose:e}){const[n,r]=S.useState([]),[s,i]=S.useState([]),[o,a]=S.useState({}),[u,c]=S.useState(1),[d,h]=S.useState(""),{addItem:f}=ji();S.useEffect(()=>{p()},[t.id]),S.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const p=async()=>{const{data:m}=await R.from("product_addon_groups").select("addon_group_id").eq("product_id",t.id);if(m&&m.length>0){const x=m.map(j=>j.addon_group_id),{data:_}=await R.from("addon_groups").select("*").in("id",x),{data:k}=await R.from("addons").select("*").in("group_id",x).eq("active",!0);_&&r(_),k&&i(k)}},v=(m,x)=>{const _=n.find(N=>N.id===x);if(!_)return;const j=Object.entries(o).filter(([N])=>{var A;return((A=s.find($=>$.id===N))==null?void 0:A.group_id)===x}).reduce((N,[,A])=>N+A,0);a(N=>{if((N[m]||0)>0){const{[m]:$,...T}=N;return T}else if(j<_.max_quantity)return{...N,[m]:1};return N})},w=(m,x,_)=>{const k=n.find(A=>A.id===x);if(!k)return;const N=Object.entries(o).filter(([A])=>{var $;return(($=s.find(T=>T.id===A))==null?void 0:$.group_id)===x}).reduce((A,[,$])=>A+$,0);a(A=>{const T=(A[m]||0)+_;if(T<=0){const{[m]:W,...ce}=A;return ce}return _>0&&N>=k.max_quantity?A:{...A,[m]:T}})},b=()=>n.every(m=>{const _=Object.entries(o).filter(([k])=>{var j;return((j=s.find(N=>N.id===k))==null?void 0:j.group_id)===m.id}).reduce((k,[,j])=>k+j,0);return _>=m.min_quantity&&_<=m.max_quantity}),y=()=>{if(!b())return;const m=Object.entries(o).map(([x,_])=>{const k=s.find(j=>j.id===x);return{id:x,name:k.name,price:k.price,quantity:_}});f({id:"",productId:t.id,productName:t.name,productPrice:t.price,quantity:u,addons:m,notes:d}),e()},g=()=>{const m=Object.entries(o).reduce((x,[_,k])=>{const j=s.find(N=>N.id===_);return x+((j==null?void 0:j.price)||0)*k},0);return(t.price+m)*u};return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4 overflow-hidden",children:l.jsxs("div",{className:"glass-effect rounded-2xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"glass-effect border-b border-white/10 flex-shrink-0",children:[t.image_url&&l.jsx("img",{src:t.image_url,alt:t.name,className:"w-full h-40 object-cover rounded-t-2xl"}),l.jsxs("div",{className:"p-4 flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:t.name}),l.jsx("p",{className:"text-gray-300 text-sm line-clamp-2",children:t.description}),l.jsxs("p",{className:"text-xl font-bold text-yellow-400 mt-2",children:["R$ ",t.price.toFixed(2)]})]}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors flex-shrink-0",children:l.jsx(cn,{className:"w-6 h-6"})})]})]}),l.jsxs("div",{className:"p-4 overflow-y-auto scrollbar-thin flex-1",children:[n.map(m=>{const x=s.filter(k=>k.group_id===m.id),_=Object.entries(o).filter(([k])=>{var j;return((j=s.find(N=>N.id===k))==null?void 0:j.group_id)===m.id}).reduce((k,[,j])=>k+j,0);return l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("h3",{className:"text-base font-semibold text-white",children:[m.name,m.required&&l.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),l.jsxs("span",{className:"text-sm text-gray-400",children:[_,"/",m.max_quantity]})]}),l.jsxs("p",{className:"text-xs text-gray-400 mb-2",children:["Escolha de ",m.min_quantity," a ",m.max_quantity," opes"]}),l.jsx("div",{className:"space-y-2",children:x.map(k=>{const j=o[k.id]||0;return l.jsx("div",{className:`glass-effect rounded-lg p-3 transition-all ${j>0?"ring-2 ring-yellow-400":""}`,children:l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-white font-medium text-sm",children:k.name}),l.jsx("p",{className:"text-xs text-gray-400",children:k.price>0?`+ R$ ${k.price.toFixed(2)}`:"Grtis"})]}),j>0?l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.jsx("button",{onClick:()=>w(k.id,m.id,-1),className:"w-7 h-7 rounded-full bg-red-600 hover:bg-red-700 text-white flex items-center justify-center transition-colors",children:l.jsx(ll,{className:"w-3 h-3"})}),l.jsx("span",{className:"text-white font-semibold w-5 text-center text-sm",children:j}),l.jsx("button",{onClick:()=>w(k.id,m.id,1),className:"w-7 h-7 rounded-full bg-green-600 hover:bg-green-700 text-white flex items-center justify-center transition-colors",children:l.jsx(mt,{className:"w-3 h-3"})})]}):l.jsx("button",{onClick:()=>v(k.id,m.id),className:"btn-primary text-white px-3 py-1.5 rounded-lg text-xs flex-shrink-0",children:"Adicionar"})]})},k.id)})})]},m.id)}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-white font-semibold mb-2 text-sm",children:"Observaes (opcional)"}),l.jsx("textarea",{value:d,onChange:m=>h(m.target.value),placeholder:"Ex: Sem cebola, ponto da carne...",className:"w-full px-3 py-2 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400 resize-none text-sm",rows:2})]}),l.jsx("div",{className:"glass-effect rounded-lg p-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-white font-semibold text-sm",children:"Quantidade"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>c(Math.max(1,u-1)),className:"w-8 h-8 rounded-full bg-red-600 hover:bg-red-700 text-white flex items-center justify-center transition-colors",children:l.jsx(ll,{className:"w-4 h-4"})}),l.jsx("span",{className:"text-white font-bold text-lg w-8 text-center",children:u}),l.jsx("button",{onClick:()=>c(u+1),className:"w-8 h-8 rounded-full bg-green-600 hover:bg-green-700 text-white flex items-center justify-center transition-colors",children:l.jsx(mt,{className:"w-4 h-4"})})]})]})})]}),l.jsx("div",{className:"glass-effect p-4 border-t border-white/10 flex-shrink-0",children:l.jsxs("button",{onClick:y,disabled:!b(),className:"w-full btn-primary text-white py-3 rounded-xl font-bold text-base disabled:opacity-50 disabled:cursor-not-allowed",children:["Adicionar - R$ ",g().toFixed(2)]})})]})})}function lv({onBack:t,onClose:e}){const{items:n,getSubtotal:r,clearCart:s}=ji(),i=pa(),[o,a]=S.useState([]),[u,c]=S.useState("info"),[d,h]=S.useState(""),[f,p]=S.useState({customerName:"",customerPhone:"",deliveryType:"delivery",neighborhoodId:"",address:"",paymentMethod:"pix",notes:""}),[v,w]=S.useState({});S.useEffect(()=>{b()},[]);const b=async()=>{const{data:_}=await R.from("neighborhoods").select("*").eq("active",!0).order("name");_&&a(_)},y=()=>{if(f.deliveryType==="pickup")return 0;const _=o.find(k=>k.id===f.neighborhoodId);return(_==null?void 0:_.delivery_fee)||0},g=()=>r()+y(),m=()=>{const _={};return f.customerName.trim()||(_.customerName="Nome  obrigatrio"),f.customerPhone.trim()||(_.customerPhone="Telefone  obrigatrio"),f.deliveryType==="delivery"&&(f.neighborhoodId||(_.neighborhoodId="Selecione o bairro"),f.address.trim()||(_.address="Endereo completo  obrigatrio")),w(_),Object.keys(_).length===0},x=async _=>{if(_.preventDefault(),!!m())try{const k=`#${Date.now().toString().slice(-6)}`;let{data:j}=await R.from("customers").select("*").eq("phone",f.customerPhone).maybeSingle(),N;if(j){const{data:T}=await R.from("customers").update({name:f.customerName,last_order_at:new Date().toISOString(),total_orders:j.total_orders+1,total_spent:j.total_spent+g()}).eq("id",j.id).select().single();N=T.id}else{const{data:T}=await R.from("customers").insert({name:f.customerName,phone:f.customerPhone,total_orders:1,total_spent:g()}).select().single();N=T.id}const{data:A,error:$}=await R.from("orders").insert({order_number:k,customer_id:N,customer_name:f.customerName,customer_phone:f.customerPhone,delivery_type:f.deliveryType,payment_method:f.paymentMethod,status:"pendente",neighborhood_id:f.deliveryType==="delivery"?f.neighborhoodId:null,address:f.deliveryType==="delivery"?f.address:null,subtotal:r(),delivery_fee:y(),total:g(),notes:f.notes}).select().single();if($)throw $;for(const T of n){const{data:W,error:ce}=await R.from("order_items").insert({order_id:A.id,product_id:T.productId,product_name:T.productName,product_price:T.productPrice,quantity:T.quantity,notes:T.notes}).select().single();if(ce)throw ce;for(const We of T.addons)await R.from("order_item_addons").insert({order_item_id:W.id,addon_id:We.id,addon_name:We.name,addon_price:We.price,quantity:We.quantity})}h(k),c("success"),s()}catch(k){console.error("Error creating order:",k),i.error("Erro ao criar pedido. Tente novamente.")}};return u==="success"?l.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"glass-effect rounded-2xl max-w-md w-full p-8 text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(ch,{className:"w-12 h-12 text-white"})}),l.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Pedido Realizado!"}),l.jsxs("p",{className:"text-xl text-gray-300 mb-2",children:["Nmero do pedido: ",l.jsx("span",{className:"text-yellow-400 font-bold",children:d})]}),l.jsx("p",{className:"text-gray-400 mb-8",children:f.deliveryType==="delivery"?"Seu pedido est sendo preparado e ser entregue em breve!":"Seu pedido est sendo preparado! Aguarde para retirada."}),l.jsxs("div",{className:"glass-effect rounded-lg p-4 mb-6 text-left",children:[l.jsx("h3",{className:"text-white font-semibold mb-3",children:"Resumo do Pedido"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between text-gray-300",children:[l.jsx("span",{children:"Subtotal"}),l.jsxs("span",{children:["R$ ",r().toFixed(2)]})]}),f.deliveryType==="delivery"&&l.jsxs("div",{className:"flex justify-between text-gray-300",children:[l.jsx("span",{children:"Taxa de entrega"}),l.jsxs("span",{children:["R$ ",y().toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-white font-bold text-base pt-2 border-t border-white/10",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:["R$ ",g().toFixed(2)]})]})]})]}),l.jsx("button",{onClick:e,className:"w-full btn-primary text-white py-3 rounded-xl font-semibold",children:"Fechar"})]})}):l.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 overflow-y-auto",children:l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:l.jsxs("div",{className:"glass-effect rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto scrollbar-thin",children:[l.jsxs("div",{className:"sticky top-0 glass-effect p-6 border-b border-white/10 flex items-center gap-4",children:[l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:l.jsx(_m,{className:"w-6 h-6"})}),l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Finalizar Pedido"})]}),l.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-white font-semibold mb-2",children:"Nome completo *"}),l.jsx("input",{type:"text",value:f.customerName,onChange:_=>p({...f,customerName:_.target.value}),className:`w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 ${v.customerName?"ring-2 ring-red-500":"focus:ring-yellow-400"}`,placeholder:"Seu nome"}),v.customerName&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:v.customerName})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white font-semibold mb-2",children:"Telefone *"}),l.jsx("input",{type:"tel",value:f.customerPhone,onChange:_=>p({...f,customerPhone:_.target.value}),className:`w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 ${v.customerPhone?"ring-2 ring-red-500":"focus:ring-yellow-400"}`,placeholder:"(00) 00000-0000"}),v.customerPhone&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:v.customerPhone})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white font-semibold mb-3",children:"Tipo de pedido *"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("button",{type:"button",onClick:()=>p({...f,deliveryType:"delivery"}),className:`p-4 rounded-lg font-semibold transition-all ${f.deliveryType==="delivery"?"btn-primary text-white":"glass-effect text-gray-300 hover:text-white"}`,children:" Entrega"}),l.jsx("button",{type:"button",onClick:()=>p({...f,deliveryType:"pickup"}),className:`p-4 rounded-lg font-semibold transition-all ${f.deliveryType==="pickup"?"btn-primary text-white":"glass-effect text-gray-300 hover:text-white"}`,children:" Retirada"})]})]}),f.deliveryType==="delivery"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-white font-semibold mb-2",children:"Bairro *"}),l.jsxs("select",{value:f.neighborhoodId,onChange:_=>p({...f,neighborhoodId:_.target.value}),className:`w-full px-4 py-3 rounded-lg glass-effect text-white focus:outline-none focus:ring-2 ${v.neighborhoodId?"ring-2 ring-red-500":"focus:ring-yellow-400"}`,children:[l.jsx("option",{value:"",children:"Selecione o bairro"}),o.map(_=>l.jsxs("option",{value:_.id,className:"bg-gray-900",children:[_.name," - R$ ",_.delivery_fee.toFixed(2)]},_.id))]}),v.neighborhoodId&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:v.neighborhoodId})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white font-semibold mb-2",children:"Endereo completo *"}),l.jsx("textarea",{value:f.address,onChange:_=>p({...f,address:_.target.value}),className:`w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 resize-none ${v.address?"ring-2 ring-red-500":"focus:ring-yellow-400"}`,rows:3,placeholder:"Rua, nmero, complemento..."}),v.address&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:v.address})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white font-semibold mb-3",children:"Forma de pagamento *"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{value:"pix",label:" PIX"},{value:"dinheiro",label:" Dinheiro"},{value:"debito",label:" Dbito"},{value:"credito",label:" Crdito"}].map(_=>l.jsx("button",{type:"button",onClick:()=>p({...f,paymentMethod:_.value}),className:`p-3 rounded-lg font-semibold transition-all ${f.paymentMethod===_.value?"btn-primary text-white":"glass-effect text-gray-300 hover:text-white"}`,children:_.label},_.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white font-semibold mb-2",children:"Observaes (opcional)"}),l.jsx("textarea",{value:f.notes,onChange:_=>p({...f,notes:_.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400 resize-none",rows:3,placeholder:"Alguma observao sobre o pedido?"})]}),l.jsxs("div",{className:"glass-effect rounded-lg p-6 space-y-3",children:[l.jsx("h3",{className:"text-white font-semibold text-lg",children:"Resumo"}),l.jsxs("div",{className:"flex justify-between text-gray-300",children:[l.jsx("span",{children:"Subtotal"}),l.jsxs("span",{children:["R$ ",r().toFixed(2)]})]}),f.deliveryType==="delivery"&&l.jsxs("div",{className:"flex justify-between text-gray-300",children:[l.jsx("span",{children:"Taxa de entrega"}),l.jsxs("span",{children:["R$ ",y().toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-white font-bold text-xl pt-3 border-t border-white/10",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{className:"text-yellow-400",children:["R$ ",g().toFixed(2)]})]})]}),l.jsx("button",{type:"submit",className:"w-full btn-primary text-white py-4 rounded-xl font-bold text-lg",children:"Confirmar Pedido"})]})]})})})}function av({onClose:t}){const{items:e,removeItem:n,updateQuantity:r,getSubtotal:s}=ji(),[i,o]=S.useState(!1);return i?l.jsx(lv,{onBack:()=>o(!1),onClose:t}):l.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-end md:items-center justify-center",children:l.jsxs("div",{className:"glass-effect rounded-t-3xl md:rounded-2xl w-full md:max-w-2xl md:max-h-[90vh] flex flex-col max-h-[90vh]",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Seu Carrinho"}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:l.jsx(cn,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin p-6",children:e.length===0?l.jsxs("div",{className:"text-center py-16",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("p",{className:"text-xl text-gray-400",children:"Seu carrinho est vazio"}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Adicione produtos para continuar"})]}):l.jsx("div",{className:"space-y-4",children:e.map(a=>{const u=(a.productPrice+a.addons.reduce((c,d)=>c+d.price*d.quantity,0))*a.quantity;return l.jsxs("div",{className:"glass-effect rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:a.productName}),l.jsxs("p",{className:"text-sm text-gray-400",children:["R$ ",a.productPrice.toFixed(2)]})]}),l.jsx("button",{onClick:()=>n(a.id),className:"text-red-400 hover:text-red-300 transition-colors",children:l.jsx(Yn,{className:"w-5 h-5"})})]}),a.addons.length>0&&l.jsx("div",{className:"mb-3 pl-4 border-l-2 border-yellow-400/30",children:a.addons.map((c,d)=>l.jsxs("p",{className:"text-sm text-gray-300",children:["+ ",c.name," ",c.quantity>1&&`(${c.quantity}x)`,c.price>0&&` - R$ ${(c.price*c.quantity).toFixed(2)}`]},d))}),a.notes&&l.jsxs("p",{className:"text-sm text-gray-400 mb-3 italic",children:["Obs: ",a.notes]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>r(a.id,a.quantity-1),className:"w-8 h-8 rounded-full bg-red-600 hover:bg-red-700 text-white flex items-center justify-center transition-colors",children:l.jsx(ll,{className:"w-4 h-4"})}),l.jsx("span",{className:"text-white font-semibold w-6 text-center",children:a.quantity}),l.jsx("button",{onClick:()=>r(a.id,a.quantity+1),className:"w-8 h-8 rounded-full bg-green-600 hover:bg-green-700 text-white flex items-center justify-center transition-colors",children:l.jsx(mt,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"text-right",children:l.jsxs("p",{className:"text-lg font-bold text-yellow-400",children:["R$ ",u.toFixed(2)]})})]})]},a.id)})})}),e.length>0&&l.jsxs("div",{className:"p-6 border-t border-white/10 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-lg",children:[l.jsx("span",{className:"text-gray-300",children:"Subtotal"}),l.jsxs("span",{className:"text-white font-semibold",children:["R$ ",s().toFixed(2)]})]}),l.jsx("button",{onClick:()=>o(!0),className:"w-full btn-primary text-white py-4 rounded-xl font-bold text-lg",children:"Finalizar Pedido"})]})]})})}function uv(){var j,N,A,$;const[t,e]=S.useState([]),[n,r]=S.useState([]),[s,i]=S.useState([]),[o,a]=S.useState("all"),[u,c]=S.useState(""),[d,h]=S.useState(null),[f,p]=S.useState(!1),[v,w]=S.useState(0),{items:b,addItem:y}=ji();S.useEffect(()=>{g(),m(),x()},[]),S.useEffect(()=>{if(s.length>1){const T=setInterval(()=>{w(W=>(W+1)%s.length)},5e3);return()=>clearInterval(T)}},[s.length]);const g=async()=>{const{data:T}=await R.from("categories").select("*").eq("active",!0).order("display_order");T&&e(T)},m=async()=>{const{data:T}=await R.from("products").select("*").eq("active",!0).order("display_order");T&&r(T)},x=async()=>{const{data:T}=await R.from("promotions").select("*").eq("active",!0).order("display_order");T&&i(T)},_=n.filter(T=>{const W=o==="all"||T.category_id===o,ce=T.name.toLowerCase().includes(u.toLowerCase())||T.description.toLowerCase().includes(u.toLowerCase());return W&&ce}),k=b.reduce((T,W)=>T+W.quantity,0);return l.jsxs("div",{className:"min-h-screen relative",children:[l.jsx(wa,{}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("header",{className:"glass-effect sticky top-0 z-50 border-b border-white/10",children:l.jsx("div",{className:"container mx-auto px-3 md:px-4 py-3 md:py-4",children:l.jsxs("div",{className:"flex items-center justify-between gap-2 md:gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 md:gap-3 min-w-0",children:[l.jsx("img",{src:"/expresso-delivery_615dab6902eee3285f7eabcacf6ac2ee.png",alt:"Hero's Brasa Burguer",className:"h-10 md:h-12 w-auto object-contain flex-shrink-0"}),l.jsx("div",{className:"min-w-0",children:l.jsx("p",{className:"text-xs md:text-sm text-gray-300 truncate",children:"Hamburgueria dos Super-Heris"})})]}),l.jsxs("button",{onClick:()=>p(!0),className:"relative btn-primary text-white px-3 md:px-6 py-2 md:py-3 rounded-lg font-semibold flex items-center gap-1 md:gap-2 flex-shrink-0 text-sm md:text-base",children:[l.jsx($m,{className:"w-4 h-4 md:w-5 md:h-5"}),l.jsx("span",{className:"hidden sm:inline",children:"Carrinho"}),k>0&&l.jsx("span",{className:"absolute -top-1 -right-1 md:-top-2 md:-right-2 bg-red-600 text-white rounded-full w-5 h-5 md:w-6 md:h-6 flex items-center justify-center text-xs md:text-sm font-bold",children:k})]})]})})}),s.length>0&&l.jsx("div",{className:"container mx-auto px-3 md:px-4 py-4 md:py-6",children:l.jsxs("div",{className:"relative overflow-hidden rounded-2xl hero-card",children:[((j=s[v])==null?void 0:j.image_url)&&l.jsx("img",{src:s[v].image_url,alt:s[v].title,className:"w-full h-48 md:h-64 object-cover"}),l.jsxs("div",{className:"p-4 md:p-6 lg:p-8",children:[l.jsxs("div",{className:"relative z-10",children:[l.jsx("h3",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white mb-2",children:(N=s[v])==null?void 0:N.title}),l.jsx("p",{className:"text-sm md:text-base lg:text-lg text-gray-200 mb-3",children:(A=s[v])==null?void 0:A.description}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{className:"text-2xl md:text-3xl font-bold text-yellow-400",children:["R$ ",($=s[v])==null?void 0:$.price.toFixed(2).replace(".",",")]}),l.jsx("button",{onClick:()=>{const T=s[v];y({id:Date.now().toString(),productId:T.id,productName:T.title,productPrice:T.price,quantity:1,addons:[],notes:""})},className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold hover:scale-105 transition-transform",children:"Adicionar ao Carrinho"})]})]}),s.length>1&&l.jsx("div",{className:"flex gap-2 mt-4",children:s.map((T,W)=>l.jsx("button",{onClick:()=>w(W),className:`w-2 h-2 rounded-full transition-all ${W===v?"bg-yellow-400 w-8":"bg-white/30"}`},W))})]})]})}),l.jsxs("div",{className:"container mx-auto px-3 md:px-4 py-4 md:py-6",children:[l.jsx("div",{className:"mb-4 md:mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(Rm,{className:"absolute left-3 md:left-4 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4 md:w-5 md:h-5"}),l.jsx("input",{type:"text",placeholder:"Buscar produtos...",value:u,onChange:T=>c(T.target.value),className:"w-full pl-10 md:pl-12 pr-3 md:pr-4 py-3 md:py-4 rounded-xl glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 text-sm md:text-base"})]})}),l.jsxs("div",{className:"flex gap-2 md:gap-3 mb-6 md:mb-8 overflow-x-auto pb-2 scrollbar-thin",children:[l.jsx("button",{onClick:()=>a("all"),className:`px-4 md:px-6 py-2 md:py-3 rounded-lg text-sm md:text-base font-semibold whitespace-nowrap transition-all ${o==="all"?"btn-primary text-white":"glass-effect text-gray-300 hover:text-white"}`,children:"Todos"}),t.map(T=>l.jsx("button",{onClick:()=>a(T.id),className:`px-4 md:px-6 py-2 md:py-3 rounded-lg text-sm md:text-base font-semibold whitespace-nowrap transition-all ${o===T.id?"btn-primary text-white":"glass-effect text-gray-300 hover:text-white"}`,children:T.name},T.id))]}),l.jsx("div",{className:"grid grid-cols-2 gap-3 md:gap-4 mb-6 md:mb-8",children:_.map(T=>l.jsxs("div",{onClick:()=>h(T),className:"hero-card rounded-xl overflow-hidden cursor-pointer",children:[T.image_url?l.jsx("img",{src:T.image_url,alt:T.name,className:"w-full aspect-video object-cover"}):l.jsx("div",{className:"aspect-video bg-gradient-to-br from-red-900/30 to-blue-900/30 flex items-center justify-center text-4xl md:text-5xl",children:""}),l.jsxs("div",{className:"p-3 md:p-4",children:[l.jsx("h3",{className:"text-base md:text-lg font-bold text-white mb-1 md:mb-2 line-clamp-1",children:T.name}),l.jsx("p",{className:"text-gray-300 text-xs mb-2 md:mb-3 line-clamp-2",children:T.description}),l.jsxs("div",{className:"flex items-center justify-between gap-1 md:gap-2",children:[l.jsxs("span",{className:"text-lg md:text-xl font-bold text-yellow-400",children:["R$ ",T.price.toFixed(2)]}),l.jsx("button",{className:"btn-primary text-white px-2 md:px-3 py-1.5 md:py-2 rounded-lg font-semibold text-xs",children:"+"})]})]})]},T.id))}),_.length===0&&l.jsxs("div",{className:"text-center py-12 md:py-16",children:[l.jsx("div",{className:"text-5xl md:text-6xl mb-4",children:""}),l.jsx("p",{className:"text-lg md:text-xl text-gray-400",children:"Nenhum produto encontrado"})]})]})]}),d&&l.jsx(ov,{product:d,onClose:()=>h(null)}),f&&l.jsx(av,{onClose:()=>p(!1)})]})}const fo=[{value:"pendente",label:"Pendente",color:"bg-yellow-600"},{value:"aceito",label:"Aceito",color:"bg-blue-600"},{value:"em_andamento",label:"Em Andamento",color:"bg-purple-600"},{value:"pronto_retirada",label:"Pronto para Retirada",color:"bg-green-600"},{value:"pronto_entrega",label:"Pronto para Entrega",color:"bg-green-600"},{value:"entregador_caminho",label:"Entregador a Caminho",color:"bg-cyan-600"},{value:"finalizado",label:"Finalizado",color:"bg-gray-600"},{value:"cancelado",label:"Cancelado",color:"bg-red-600"}],Gu={pix:"PIX",dinheiro:"Dinheiro",debito:"Dbito",credito:"Crdito"};function Qu(){const[t,e]=S.useState([]),[n,r]=S.useState(!0);S.useEffect(()=>{s();const d=R.channel("orders_changes").on("postgres_changes",{event:"*",schema:"public",table:"orders"},()=>{s()}).subscribe();return()=>{d.unsubscribe()}},[]);const s=async()=>{r(!0);const{data:d}=await R.from("orders").select("*").order("created_at",{ascending:!1});if(d){const h=await Promise.all(d.map(async f=>{const{data:p}=await R.from("order_items").select("*").eq("order_id",f.id),v=await Promise.all((p||[]).map(async w=>{const{data:b}=await R.from("order_item_addons").select("*").eq("order_item_id",w.id);return{...w,addons:b||[]}}));return{...f,items:v}}));e(h)}r(!1)},i=async(d,h)=>{await R.from("orders").update({status:h}).eq("id",d),s()},o=d=>{const h=window.open("about:blank","_blank");if(!h){alert("Por favor, permita pop-ups para imprimir a comanda");return}const f=w=>new Date(w).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),p=h.document;p.open(),p.write('<html><head><meta charset="UTF-8">'),p.write("<title>Pedido "+d.order_number+"</title>"),p.write("<style>"),p.write("* { margin: 0; padding: 0; box-sizing: border-box; }"),p.write("body { font-family: Courier, monospace; font-size: 12px; line-height: 1.4; padding: 10px; width: 80mm; background: white; color: black; }"),p.write(".header { text-align: center; margin-bottom: 16px; padding-bottom: 12px; border-bottom: 2px solid black; }"),p.write(".store-name { font-size: 16px; font-weight: bold; margin-bottom: 4px; }"),p.write(".order-number { font-size: 18px; font-weight: bold; margin: 8px 0; }"),p.write(".section { margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px dashed #999; }"),p.write(".section-title { font-weight: bold; margin-bottom: 6px; font-size: 13px; }"),p.write(".item { margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px dashed #ccc; }"),p.write(".item-row { display: flex; justify-content: space-between; margin-bottom: 4px; font-weight: bold; }"),p.write(".addon { margin-left: 16px; font-size: 11px; display: flex; justify-content: space-between; }"),p.write(".note { margin-left: 16px; font-size: 11px; font-style: italic; margin-top: 4px; }"),p.write(".total { font-size: 16px; font-weight: bold; margin-top: 12px; padding-top: 12px; border-top: 2px solid black; text-align: right; }"),p.write(".footer { text-align: center; margin-top: 16px; padding-top: 12px; border-top: 1px dashed #999; font-size: 11px; }"),p.write("</style></head><body>"),p.write('<div class="header">'),p.write('<div class="store-name">HEROS BRASA BURGUER</div>'),p.write('<div style="font-size: 11px;">Hamburgueria dos Super-Herois</div>'),p.write('<div class="order-number">'+d.order_number+"</div>"),p.write('<div style="font-size: 11px;">'+f(d.created_at)+"</div>"),p.write("</div>"),p.write('<div class="section">'),p.write('<div class="section-title">CLIENTE</div>'),p.write('<div style="margin-bottom: 3px;"><strong>Nome:</strong> '+d.customer_name+"</div>"),p.write('<div style="margin-bottom: 3px;"><strong>Telefone:</strong> '+d.customer_phone+"</div>"),p.write("</div>"),p.write('<div class="section">'),p.write('<div class="section-title">ENTREGA</div>');const v=d.delivery_type==="delivery"?"Entrega":"Retirada no local";p.write('<div style="margin-bottom: 3px;"><strong>'+v+"</strong></div>"),d.delivery_type==="delivery"&&d.address&&p.write('<div style="margin-bottom: 3px;">'+d.address+"</div>"),p.write("</div>"),p.write('<div class="section">'),p.write('<div class="section-title">PAGAMENTO</div>'),p.write('<div style="margin-bottom: 3px;"><strong>'+Gu[d.payment_method]+"</strong></div>"),p.write("</div>"),p.write('<div class="section">'),p.write('<div class="section-title">ITENS DO PEDIDO</div>'),d.items&&d.items.length>0?d.items.forEach(w=>{p.write('<div class="item">'),p.write('<div class="item-row">'),p.write("<span>"+w.quantity+"x "+w.product_name+"</span>"),p.write("<span>R$ "+(w.product_price*w.quantity).toFixed(2)+"</span>"),p.write("</div>"),w.addons&&w.addons.length>0&&w.addons.forEach(b=>{p.write('<div class="addon">'),p.write("<span>+ "+b.quantity+"x "+b.addon_name+"</span>"),p.write("<span>R$ "+(b.addon_price*b.quantity).toFixed(2)+"</span>"),p.write("</div>")}),w.notes&&p.write('<div class="note">Obs: '+w.notes+"</div>"),p.write("</div>")}):p.write('<div style="text-align: center; color: #666;">Nenhum item disponivel</div>'),p.write("</div>"),p.write('<div class="total">TOTAL: R$ '+d.total.toFixed(2)+"</div>"),p.write('<div class="footer">Obrigado pela preferencia!<br>Volte sempre!</div>'),p.write("</body></html>"),p.close(),setTimeout(()=>{h.focus(),h.print()},500)},a=t.filter(d=>d.status!=="finalizado"&&d.status!=="cancelado"),u=d=>{var h;return((h=fo.find(f=>f.value===d))==null?void 0:h.color)||"bg-gray-600"},c=d=>{var h;return((h=fo.find(f=>f.value===d))==null?void 0:h.label)||d};return l.jsxs("div",{className:"space-y-4 md:space-y-6",children:[l.jsx("div",{className:"glass-effect rounded-xl p-4 md:p-6",children:l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white",children:"Gerenciar Pedidos"})}),n?l.jsxs("div",{className:"glass-effect rounded-xl p-8 md:p-12 text-center",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("p",{className:"text-gray-400",children:"Carregando pedidos..."})]}):a.length===0?l.jsxs("div",{className:"glass-effect rounded-xl p-8 md:p-12 text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("p",{className:"text-xl text-gray-400",children:"Nenhum pedido ativo"})]}):l.jsx("div",{className:"space-y-3",children:a.map(d=>l.jsxs("div",{className:"glass-effect rounded-lg p-3 md:p-4 hover:bg-white/10 transition-all",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("h3",{className:"text-lg md:text-xl font-bold text-white mb-1",children:["Pedido ",d.order_number]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[l.jsx(Sm,{className:"w-3 h-3"}),new Date(d.created_at).toLocaleString("pt-BR")]})]}),l.jsx("span",{className:`px-2 py-1 rounded text-white font-semibold text-xs ${u(d.status)} self-start`,children:c(d.status)})]}),l.jsxs("div",{className:"space-y-2 mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm text-gray-300",children:[l.jsx(mh,{className:"w-3 h-3 flex-shrink-0"}),l.jsx("span",{className:"truncate",children:d.customer_name}),l.jsx("span",{className:"text-gray-500",children:""}),l.jsx("span",{className:"whitespace-nowrap",children:d.customer_phone})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm text-gray-300",children:[l.jsx(dh,{className:"w-3 h-3 flex-shrink-0"}),l.jsx("span",{children:Gu[d.payment_method]})]}),l.jsxs("div",{className:"flex items-start gap-2 text-xs md:text-sm text-gray-300",children:[l.jsx(fh,{className:"w-3 h-3 flex-shrink-0 mt-0.5"}),d.delivery_type==="delivery"?l.jsxs("span",{className:"break-words",children:["Entrega: ",d.address]}):l.jsx("span",{children:"Retirada no local"})]})]}),l.jsxs("div",{className:"mb-3 glass-effect rounded-lg p-2",children:[l.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[l.jsx(ph,{className:"w-3 h-3 text-yellow-400"}),l.jsx("p",{className:"text-white font-semibold text-xs",children:"Itens do Pedido"})]}),d.items&&d.items.length>0?l.jsx("div",{className:"space-y-1.5",children:d.items.map(h=>l.jsxs("div",{className:"bg-black/20 rounded p-2",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("span",{className:"text-white font-medium text-xs",children:[h.quantity,"x ",h.product_name]}),l.jsxs("span",{className:"text-yellow-400 font-semibold text-xs",children:["R$ ",(h.product_price*h.quantity).toFixed(2)]})]}),h.addons&&h.addons.length>0&&l.jsx("div",{className:"ml-3 mt-1 space-y-0.5",children:h.addons.map((f,p)=>l.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400",children:[l.jsxs("span",{children:["+ ",f.quantity,"x ",f.addon_name]}),l.jsxs("span",{children:["R$ ",(f.addon_price*f.quantity).toFixed(2)]})]},p))}),h.notes&&l.jsxs("p",{className:"text-[10px] text-gray-400 mt-1 italic",children:["Obs: ",h.notes]})]},h.id))}):l.jsx("div",{className:"bg-black/20 rounded p-2 text-center",children:l.jsx("p",{className:"text-[10px] text-gray-400 italic",children:"Pedido antigo - itens no disponveis"})})]}),l.jsx("div",{className:"pt-2 mb-3 border-t border-white/10",children:l.jsxs("p",{className:"text-lg md:text-xl font-bold text-yellow-400",children:["Total: R$ ",d.total.toFixed(2)]})}),l.jsxs("button",{onClick:()=>o(d),className:"w-full px-3 py-2 rounded-lg font-semibold bg-blue-600 hover:bg-blue-700 text-white transition-colors text-xs flex items-center justify-center gap-2 mb-3",children:[l.jsx(Om,{className:"w-4 h-4"}),"Imprimir Comanda"]}),d.status!=="finalizado"&&d.status!=="cancelado"&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"glass-effect rounded-lg p-2",children:[l.jsx("p",{className:"text-white font-semibold mb-2 text-xs",children:"Alterar Status"}),l.jsxs("div",{className:"relative",children:[l.jsx("select",{value:d.status,onChange:h=>i(d.id,h.target.value),className:"w-full px-3 py-2 rounded-lg glass-effect text-white appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-yellow-400 text-xs",children:fo.filter(h=>h.value!=="pendente"&&h.value!=="cancelado").map(h=>l.jsx("option",{value:h.value,className:"bg-gray-900",children:h.label},h.value))}),l.jsx(bm,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),l.jsx("button",{onClick:()=>i(d.id,"cancelado"),className:"w-full px-3 py-2 rounded-lg font-semibold bg-red-600 hover:bg-red-700 text-white transition-colors text-xs",children:"Cancelar Pedido"})]})]},d.id))})]})}function cv(){const t=pa(),[e,n]=S.useState([]),[r,s]=S.useState([]),[i,o]=S.useState([]),[a,u]=S.useState({customerName:"",customerPhone:"",deliveryType:"delivery",neighborhoodId:"",address:"",paymentMethod:"pix"});S.useEffect(()=>{c(),d()},[]);const c=async()=>{const{data:w}=await R.from("products").select("id, name, price").eq("active",!0);w&&n(w)},d=async()=>{const{data:w}=await R.from("neighborhoods").select("*").eq("active",!0);w&&s(w)},h=w=>{const b=i.find(y=>y.productId===w);o(b?i.map(y=>y.productId===w?{...y,quantity:y.quantity+1}:y):[...i,{productId:w,quantity:1}])},f=w=>{o(i.filter(b=>b.productId!==w))},p=()=>{var y;const w=i.reduce((g,m)=>{const x=e.find(_=>_.id===m.productId);return g+((x==null?void 0:x.price)||0)*m.quantity},0),b=a.deliveryType==="delivery"&&((y=r.find(g=>g.id===a.neighborhoodId))==null?void 0:y.delivery_fee)||0;return w+b},v=async w=>{var x;if(w.preventDefault(),!a.customerName||!a.customerPhone||i.length===0){t.warning("Preencha todos os campos e adicione produtos");return}const b=`#${Date.now().toString().slice(-6)}`,y=i.reduce((_,k)=>{const j=e.find(N=>N.id===k.productId);return _+((j==null?void 0:j.price)||0)*k.quantity},0),g=a.deliveryType==="delivery"&&((x=r.find(_=>_.id===a.neighborhoodId))==null?void 0:x.delivery_fee)||0,{data:m}=await R.from("orders").insert({order_number:b,customer_name:a.customerName,customer_phone:a.customerPhone,delivery_type:a.deliveryType,payment_method:a.paymentMethod,status:"aceito",neighborhood_id:a.deliveryType==="delivery"?a.neighborhoodId:null,address:a.deliveryType==="delivery"?a.address:null,subtotal:y,delivery_fee:g,total:y+g}).select().single();if(m){for(const _ of i){const k=e.find(j=>j.id===_.productId);await R.from("order_items").insert({order_id:m.id,product_id:_.productId,quantity:_.quantity,unit_price:k.price,subtotal:k.price*_.quantity})}t.success(`Pedido ${b} criado com sucesso!`),o([]),u({customerName:"",customerPhone:"",deliveryType:"delivery",neighborhoodId:"",address:"",paymentMethod:"pix"})}};return l.jsxs("div",{className:"glass-effect rounded-xl p-6 max-w-4xl mx-auto",children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Lanar Novo Pedido"}),l.jsxs("form",{onSubmit:v,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("input",{type:"text",placeholder:"Nome do cliente",value:a.customerName,onChange:w=>u({...a,customerName:w.target.value}),className:"px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"}),l.jsx("input",{type:"tel",placeholder:"Telefone",value:a.customerPhone,onChange:w=>u({...a,customerPhone:w.target.value}),className:"px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("button",{type:"button",onClick:()=>u({...a,deliveryType:"delivery"}),className:`p-3 rounded-lg font-semibold ${a.deliveryType==="delivery"?"btn-primary text-white":"glass-effect text-gray-300"}`,children:"Entrega"}),l.jsx("button",{type:"button",onClick:()=>u({...a,deliveryType:"pickup"}),className:`p-3 rounded-lg font-semibold ${a.deliveryType==="pickup"?"btn-primary text-white":"glass-effect text-gray-300"}`,children:"Retirada"})]}),a.deliveryType==="delivery"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("select",{value:a.neighborhoodId,onChange:w=>u({...a,neighborhoodId:w.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white focus:outline-none focus:ring-2 focus:ring-yellow-400",children:[l.jsx("option",{value:"",children:"Selecione o bairro"}),r.map(w=>l.jsxs("option",{value:w.id,className:"bg-gray-900",children:[w.name," - R$ ",w.delivery_fee.toFixed(2)]},w.id))]}),l.jsx("input",{type:"text",placeholder:"Endereo completo",value:a.address,onChange:w=>u({...a,address:w.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["pix","dinheiro","debito","credito"].map(w=>l.jsx("button",{type:"button",onClick:()=>u({...a,paymentMethod:w}),className:`p-3 rounded-lg font-semibold ${a.paymentMethod===w?"btn-primary text-white":"glass-effect text-gray-300"}`,children:w.charAt(0).toUpperCase()+w.slice(1)},w))}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-semibold mb-3",children:"Produtos"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:e.map(w=>l.jsxs("button",{type:"button",onClick:()=>h(w.id),className:"glass-effect p-4 rounded-lg text-left hover:bg-white/10 transition-colors",children:[l.jsx("p",{className:"text-white font-semibold",children:w.name}),l.jsxs("p",{className:"text-yellow-400",children:["R$ ",w.price.toFixed(2)]})]},w.id))}),i.length>0&&l.jsxs("div",{className:"glass-effect p-4 rounded-lg space-y-2",children:[l.jsx("h4",{className:"text-white font-semibold mb-2",children:"Produtos Selecionados"}),i.map(w=>{const b=e.find(y=>y.id===w.productId);return l.jsxs("div",{className:"flex justify-between items-center text-gray-300",children:[l.jsxs("span",{children:[b==null?void 0:b.name," x",w.quantity]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("span",{children:["R$ ",(((b==null?void 0:b.price)||0)*w.quantity).toFixed(2)]}),l.jsx("button",{type:"button",onClick:()=>f(w.productId),className:"text-red-400 hover:text-red-300",children:"Remover"})]})]},w.productId)}),l.jsxs("div",{className:"pt-2 border-t border-white/10 flex justify-between text-white font-bold",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{className:"text-yellow-400",children:["R$ ",p().toFixed(2)]})]})]})]}),l.jsx("button",{type:"submit",className:"w-full btn-primary text-white py-4 rounded-xl font-bold text-lg",children:"Criar Pedido"})]})]})}function Mh({isOpen:t,title:e,message:n,confirmText:r="Confirmar",cancelText:s="Cancelar",onConfirm:i,onCancel:o,type:a="danger"}){if(!t)return null;const u={danger:"bg-red-600 hover:bg-red-700",warning:"bg-yellow-600 hover:bg-yellow-700",info:"bg-blue-600 hover:bg-blue-700"};return l.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center p-4 animate-fade-in",children:[l.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:o}),l.jsxs("div",{className:"relative glass-effect rounded-2xl p-6 md:p-8 max-w-md w-full animate-scale-in border border-white/10 shadow-2xl",children:[l.jsx("button",{onClick:o,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:l.jsx(cn,{className:"w-6 h-6"})}),l.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[l.jsx("div",{className:`p-3 rounded-full ${a==="danger"?"bg-red-600/20":a==="warning"?"bg-yellow-600/20":"bg-blue-600/20"}`,children:l.jsx(wm,{className:`w-8 h-8 ${a==="danger"?"text-red-500":a==="warning"?"text-yellow-500":"text-blue-500"}`})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:e}),l.jsx("p",{className:"text-gray-300 leading-relaxed",children:n})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:o,className:"flex-1 px-6 py-3 rounded-lg font-semibold glass-effect text-white hover:bg-white/10 transition-all",children:s}),l.jsx("button",{onClick:i,className:`flex-1 px-6 py-3 rounded-lg font-semibold text-white transition-all ${u[a]}`,children:r})]})]})]})}function Pi(){const[t,e]=S.useState(!1),[n,r]=S.useState({title:"",message:""}),[s,i]=S.useState(null),o=d=>(r(d),e(!0),new Promise(h=>{i(()=>h)})),a=()=>{e(!1),s&&s(!0)},u=()=>{e(!1),s&&s(!1)};return{confirm:o,ConfirmDialog:()=>l.jsx(Mh,{isOpen:t,title:n.title,message:n.message,confirmText:n.confirmText,cancelText:n.cancelText,type:n.type,onConfirm:a,onCancel:u})}}function dv(){const{confirm:t,ConfirmDialog:e}=Pi(),[n,r]=S.useState([]),[s,i]=S.useState(!1),[o,a]=S.useState(null),[u,c]=S.useState({name:"",description:"",active:!0,display_order:0});S.useEffect(()=>{d()},[]);const d=async()=>{const{data:v}=await R.from("categories").select("*").order("display_order");v&&r(v)},h=async v=>{v.preventDefault(),o?await R.from("categories").update(u).eq("id",o):await R.from("categories").insert(u),i(!1),a(null),c({name:"",description:"",active:!0,display_order:0}),d()},f=v=>{c(v),a(v.id),i(!0)},p=async v=>{await t({title:"Excluir Categoria",message:"Tem certeza que deseja excluir esta categoria? Todos os produtos associados sero afetados.",type:"danger"})&&(await R.from("categories").delete().eq("id",v),d())};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"glass-effect rounded-xl p-6",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-white",children:"Categorias"}),l.jsxs("button",{onClick:()=>i(!s),className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[l.jsx(mt,{className:"w-5 h-5"}),"Nova Categoria"]})]})}),s&&l.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:o?"Editar Categoria":"Nova Categoria"}),l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Nome da categoria",value:u.name,onChange:v=>c({...u,name:v.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0}),l.jsx("textarea",{placeholder:"Descrio",value:u.description,onChange:v=>c({...u,description:v.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400 resize-none",rows:3}),l.jsx("input",{type:"number",placeholder:"Ordem de exibio",value:u.display_order,onChange:v=>c({...u,display_order:parseInt(v.target.value)}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"}),l.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:u.active,onChange:v=>c({...u,active:v.target.checked}),className:"w-5 h-5 rounded"}),"Ativo"]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{type:"submit",className:"flex-1 btn-primary text-white py-3 rounded-lg font-semibold",children:o?"Salvar":"Criar"}),l.jsx("button",{type:"button",onClick:()=>{i(!1),a(null),c({name:"",description:"",active:!0,display_order:0})},className:"px-6 py-3 rounded-lg glass-effect text-gray-300 hover:text-white",children:"Cancelar"})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(v=>l.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:v.name}),l.jsx("span",{className:`px-3 py-1 rounded-lg text-sm ${v.active?"bg-green-600":"bg-gray-600"} text-white`,children:v.active?"Ativo":"Inativo"})]}),l.jsx("p",{className:"text-gray-300 text-sm mb-4",children:v.description}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>f(v),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[l.jsx(bi,{className:"w-4 h-4"}),"Editar"]}),l.jsxs("button",{onClick:()=>p(v.id),className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[l.jsx(Yn,{className:"w-4 h-4"}),"Excluir"]})]})]},v.id))}),l.jsx(e,{})]})}function hv(){const{confirm:t,ConfirmDialog:e}=Pi(),[n,r]=S.useState("products"),[s,i]=S.useState([]),[o,a]=S.useState([]),[u,c]=S.useState([]),[d,h]=S.useState([]),[f,p]=S.useState(!1),[v,w]=S.useState(!1),[b,y]=S.useState(!1),[g,m]=S.useState(null),[x,_]=S.useState({name:"",description:"",price:0,category_id:"",active:!0,image_url:""}),[k,j]=S.useState(null),[N,A]=S.useState(""),[$,T]=S.useState({name:"",min_quantity:0,max_quantity:10,required:!1}),[W,ce]=S.useState({group_id:"",name:"",price:0,active:!0}),[We,Oi]=S.useState(null),[hn,tr]=S.useState([]);S.useEffect(()=>{P()},[]);const P=async()=>{const{data:C}=await R.from("products").select("*").order("name"),{data:M}=await R.from("categories").select("*"),{data:ye}=await R.from("addon_groups").select("*"),{data:xe}=await R.from("addons").select("*"),{data:rr}=await R.from("product_addon_groups").select("*");C&&i(C),M&&a(M),ye&&c(ye),xe&&h(xe),rr&&tr(rr)},I=C=>{var ye;const M=(ye=C.target.files)==null?void 0:ye[0];if(M){j(M);const xe=new FileReader;xe.onloadend=()=>{A(xe.result)},xe.readAsDataURL(M)}},D=async C=>{const M=C.name.split(".").pop(),xe=`${Math.random().toString(36).substring(2)}-${Date.now()}.${M}`,{error:rr}=await R.storage.from("product-images").upload(xe,C);if(rr)return console.error("Erro ao fazer upload:",rr),null;const{data:Fh}=R.storage.from("product-images").getPublicUrl(xe);return Fh.publicUrl},J=async C=>{C.preventDefault();let M=x.image_url;if(k){const xe=await D(k);xe&&(M=xe)}const ye={...x,image_url:M};g?await R.from("products").update(ye).eq("id",g):await R.from("products").insert(ye),p(!1),m(null),_({name:"",description:"",price:0,category_id:"",active:!0,image_url:""}),j(null),A(""),P()},ne=async C=>{C.preventDefault();const{error:M}=await R.from("addon_groups").insert($);if(M){console.error("Erro ao salvar grupo:",M);return}await P(),w(!1),T({name:"",min_quantity:0,max_quantity:10,required:!1})},fn=async C=>{C.preventDefault(),await R.from("addons").insert(W),y(!1),ce({group_id:"",name:"",price:0,active:!0}),P()},ot=async C=>{await t({title:"Excluir Produto",message:"Tem certeza que deseja excluir este produto? Esta ao no pode ser desfeita.",type:"danger"})&&(await R.from("products").delete().eq("id",C),P())},nr=C=>{m(C.id),_({name:C.name,description:C.description,price:C.price,category_id:C.category_id,active:C.active,image_url:C.image_url||""}),C.image_url&&A(C.image_url),p(!0),window.scrollTo({top:0,behavior:"smooth"})},lt=async(C,M)=>{const ye=hn.find(xe=>xe.product_id===C&&xe.addon_group_id===M);ye?await R.from("product_addon_groups").delete().eq("id",ye.id):await R.from("product_addon_groups").insert({product_id:C,addon_group_id:M}),P()},pn=C=>hn.filter(M=>M.product_id===C).map(M=>M.addon_group_id);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[l.jsx("div",{className:"flex justify-between items-center mb-4",children:l.jsx("h1",{className:"text-3xl font-bold text-white",children:"Produtos e Adicionais"})}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>r("products"),className:`px-6 py-3 rounded-lg font-semibold ${n==="products"?"btn-primary text-white":"glass-effect text-gray-300"}`,children:"Produtos"}),l.jsx("button",{onClick:()=>r("addons"),className:`px-6 py-3 rounded-lg font-semibold ${n==="addons"?"btn-primary text-white":"glass-effect text-gray-300"}`,children:"Adicionais"})]})]}),n==="products"?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>p(!f),className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[l.jsx(mt,{className:"w-5 h-5"}),"Novo Produto"]}),f&&l.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:g?"Editar Produto":"Novo Produto"}),l.jsxs("form",{onSubmit:J,className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Nome do produto",value:x.name,onChange:C=>_({...x,name:C.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white focus:ring-2 focus:ring-yellow-400",required:!0}),l.jsx("textarea",{placeholder:"Descrio",value:x.description,onChange:C=>_({...x,description:C.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white resize-none",rows:3}),l.jsx("input",{type:"number",step:"0.01",placeholder:"Preo",value:x.price,onChange:C=>_({...x,price:parseFloat(C.target.value)}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white",required:!0}),l.jsxs("select",{value:x.category_id,onChange:C=>_({...x,category_id:C.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white",children:[l.jsx("option",{value:"",children:"Selecione a categoria"}),o.map(C=>l.jsx("option",{value:C.id,className:"bg-gray-900",children:C.name},C.id))]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-white font-semibold",children:"Imagem do Produto"}),l.jsx("input",{type:"file",accept:"image/*",onChange:I,className:"w-full px-4 py-3 rounded-lg glass-effect text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-yellow-500 file:text-black file:font-semibold hover:file:bg-yellow-400"}),N&&l.jsxs("div",{className:"mt-3 relative",children:[l.jsx("img",{src:N,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),l.jsx("button",{type:"button",onClick:()=>{A(""),j(null),_({...x,image_url:""})},className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700 text-white p-2 rounded-full transition-colors",title:"Remover imagem",children:l.jsx(cn,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{type:"submit",className:"flex-1 btn-primary text-white py-3 rounded-lg font-semibold",children:g?"Atualizar":"Salvar"}),g&&l.jsx("button",{type:"button",onClick:()=>{m(null),p(!1),_({name:"",description:"",price:0,category_id:"",active:!0,image_url:""}),j(null),A("")},className:"flex-1 bg-gray-600 text-white py-3 rounded-lg font-semibold",children:"Cancelar"})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(C=>l.jsxs("div",{className:"glass-effect rounded-xl overflow-hidden",children:[C.image_url&&l.jsx("img",{src:C.image_url,alt:C.name,className:"w-full h-48 object-cover"}),l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:C.name}),l.jsx("p",{className:"text-gray-300 text-sm mb-2",children:C.description}),l.jsxs("p",{className:"text-2xl font-bold text-yellow-400 mb-4",children:["R$ ",C.price.toFixed(2)]}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsxs("button",{onClick:()=>nr(C),className:"flex-1 bg-blue-600 text-white py-2 rounded-lg flex items-center justify-center gap-2",children:[l.jsx(bi,{className:"w-4 h-4"}),"Editar"]}),l.jsxs("button",{onClick:()=>ot(C.id),className:"flex-1 bg-red-600 text-white py-2 rounded-lg flex items-center justify-center gap-2",children:[l.jsx(Yn,{className:"w-4 h-4"}),"Excluir"]})]}),l.jsx("button",{onClick:()=>Oi(We===C.id?null:C.id),className:"w-full btn-primary text-white py-2 rounded-lg text-sm",children:We===C.id?"Fechar":"Gerenciar Adicionais"}),We===C.id&&l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsx("p",{className:"text-white font-semibold text-sm mb-2",children:"Grupos de Adicionais:"}),u.map(M=>{const ye=pn(C.id).includes(M.id);return l.jsxs("button",{onClick:()=>lt(C.id,M.id),className:`w-full px-3 py-2 rounded-lg text-sm transition-colors ${ye?"bg-green-600 text-white":"glass-effect text-gray-300 hover:bg-gray-700"}`,children:[ye?" ":"",M.name]},M.id)})]})]})]},C.id))})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("button",{onClick:()=>w(!v),className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[l.jsx(mt,{className:"w-5 h-5"}),"Novo Grupo"]}),l.jsxs("button",{onClick:()=>y(!b),className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[l.jsx(mt,{className:"w-5 h-5"}),"Novo Adicional"]})]}),v&&l.jsx("div",{className:"glass-effect rounded-xl p-6",children:l.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Nome do grupo",value:$.name,onChange:C=>T({...$,name:C.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white",required:!0}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("input",{type:"number",placeholder:"Quantidade mnima",value:$.min_quantity,onChange:C=>T({...$,min_quantity:parseInt(C.target.value)}),className:"px-4 py-3 rounded-lg glass-effect text-white"}),l.jsx("input",{type:"number",placeholder:"Quantidade mxima",value:$.max_quantity,onChange:C=>T({...$,max_quantity:parseInt(C.target.value)}),className:"px-4 py-3 rounded-lg glass-effect text-white"})]}),l.jsx("button",{type:"submit",className:"w-full btn-primary text-white py-3 rounded-lg font-semibold",children:"Criar Grupo"})]})}),b&&l.jsx("div",{className:"glass-effect rounded-xl p-6",children:l.jsxs("form",{onSubmit:fn,className:"space-y-4",children:[l.jsxs("select",{value:W.group_id,onChange:C=>ce({...W,group_id:C.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white",required:!0,children:[l.jsx("option",{value:"",children:"Selecione o grupo"}),u.map(C=>l.jsx("option",{value:C.id,className:"bg-gray-900",children:C.name},C.id))]}),l.jsx("input",{type:"text",placeholder:"Nome do adicional",value:W.name,onChange:C=>ce({...W,name:C.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white",required:!0}),l.jsx("input",{type:"number",step:"0.01",placeholder:"Preo (0 se grtis)",value:W.price,onChange:C=>ce({...W,price:parseFloat(C.target.value)}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white"}),l.jsx("button",{type:"submit",className:"w-full btn-primary text-white py-3 rounded-lg font-semibold",children:"Criar Adicional"})]})}),l.jsx("div",{className:"space-y-6",children:u.map(C=>l.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:C.name}),l.jsxs("p",{className:"text-gray-300 text-sm mb-4",children:["Quantidade: ",C.min_quantity," - ",C.max_quantity]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:d.filter(M=>M.group_id===C.id).map(M=>l.jsxs("div",{className:"glass-effect p-4 rounded-lg",children:[l.jsx("p",{className:"text-white font-semibold",children:M.name}),l.jsx("p",{className:"text-yellow-400",children:M.price>0?`R$ ${M.price.toFixed(2)}`:"Grtis"})]},M.id))})]},C.id))})]}),l.jsx(e,{})]})}function fv(){const{confirm:t,ConfirmDialog:e}=Pi(),[n,r]=S.useState([]),[s,i]=S.useState(!1),[o,a]=S.useState(null),[u,c]=S.useState({name:"",delivery_fee:0,active:!0});S.useEffect(()=>{d()},[]);const d=async()=>{const{data:v}=await R.from("neighborhoods").select("*").order("name");v&&r(v)},h=async v=>{v.preventDefault(),o?await R.from("neighborhoods").update(u).eq("id",o):await R.from("neighborhoods").insert(u),i(!1),a(null),c({name:"",delivery_fee:0,active:!0}),d()},f=v=>{c({name:v.name,delivery_fee:v.delivery_fee,active:v.active}),a(v.id),i(!0)},p=async v=>{await t({title:"Excluir Bairro",message:"Tem certeza que deseja excluir este bairro? As taxas de entrega sero removidas.",type:"danger"})&&(await R.from("neighborhoods").delete().eq("id",v),d())};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"glass-effect rounded-xl p-6",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-white",children:"Bairros de Entrega"}),l.jsxs("button",{onClick:()=>i(!s),className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[l.jsx(mt,{className:"w-5 h-5"}),"Novo Bairro"]})]})}),s&&l.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:o?"Editar Bairro":"Novo Bairro"}),l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Nome do bairro",value:u.name,onChange:v=>c({...u,name:v.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0}),l.jsx("input",{type:"number",step:"0.01",placeholder:"Taxa de entrega (R$)",value:u.delivery_fee,onChange:v=>c({...u,delivery_fee:parseFloat(v.target.value)}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0}),l.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:u.active,onChange:v=>c({...u,active:v.target.checked}),className:"w-5 h-5 rounded"}),"Ativo"]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{type:"submit",className:"flex-1 btn-primary text-white py-3 rounded-lg font-semibold",children:o?"Salvar":"Criar"}),l.jsx("button",{type:"button",onClick:()=>{i(!1),a(null),c({name:"",delivery_fee:0,active:!0})},className:"px-6 py-3 rounded-lg glass-effect text-gray-300 hover:text-white",children:"Cancelar"})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(v=>l.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:v.name}),l.jsx("span",{className:`px-3 py-1 rounded-lg text-sm ${v.active?"bg-green-600":"bg-gray-600"} text-white`,children:v.active?"Ativo":"Inativo"})]}),l.jsxs("p",{className:"text-2xl font-bold text-yellow-400 mb-4",children:["R$ ",v.delivery_fee.toFixed(2)]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>f(v),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[l.jsx(bi,{className:"w-4 h-4"}),"Editar"]}),l.jsxs("button",{onClick:()=>p(v.id),className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[l.jsx(Yn,{className:"w-4 h-4"}),"Excluir"]})]})]},v.id))}),l.jsx(e,{})]})}function pv(){const{confirm:t,ConfirmDialog:e}=Pi(),[n,r]=S.useState([]),[s,i]=S.useState(!1),[o,a]=S.useState(null),[u,c]=S.useState(null),[d,h]=S.useState(""),[f,p]=S.useState({title:"",description:"",price:"",image_url:"",active:!0,display_order:0});S.useEffect(()=>{v()},[]);const v=async()=>{const{data:x}=await R.from("promotions").select("*").order("display_order");x&&r(x)},w=x=>{var k;const _=(k=x.target.files)==null?void 0:k[0];if(_){c(_);const j=new FileReader;j.onloadend=()=>{h(j.result)},j.readAsDataURL(_)}},b=async x=>{const _=x.name.split(".").pop(),j=`promo-${Math.random().toString(36).substring(2)}-${Date.now()}.${_}`,{error:N}=await R.storage.from("product-images").upload(j,x);if(N)return console.error("Erro ao fazer upload:",N),null;const{data:A}=R.storage.from("product-images").getPublicUrl(j);return A.publicUrl},y=async x=>{x.preventDefault();let _=f.image_url;if(u){const N=await b(u);N&&(_=N)}const k=parseFloat(f.price.replace(",",".")),j={...f,price:k,image_url:_};o?await R.from("promotions").update(j).eq("id",o):await R.from("promotions").insert(j),i(!1),a(null),p({title:"",description:"",price:"",image_url:"",active:!0,display_order:0}),c(null),h(""),v()},g=x=>{p({...x,price:x.price.toString().replace(".",",")}),x.image_url&&h(x.image_url),a(x.id),i(!0),window.scrollTo({top:0,behavior:"smooth"})},m=async x=>{await t({title:"Excluir Promoo",message:"Tem certeza que deseja excluir esta promoo? Ela ser removida do carrossel.",type:"danger"})&&(await R.from("promotions").delete().eq("id",x),v())};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"glass-effect rounded-xl p-6",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-white",children:"Promoes"}),l.jsx("p",{className:"text-gray-400 mt-1",children:"Aparecem no carrossel do catlogo digital"})]}),l.jsxs("button",{onClick:()=>i(!s),className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[l.jsx(mt,{className:"w-5 h-5"}),"Nova Promoo"]})]})}),s&&l.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:o?"Editar Promoo":"Nova Promoo"}),l.jsxs("form",{onSubmit:y,className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Ttulo da promoo",value:f.title,onChange:x=>p({...f,title:x.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0}),l.jsx("textarea",{placeholder:"Descrio",value:f.description,onChange:x=>p({...f,description:x.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400 resize-none",rows:3,required:!0}),l.jsx("input",{type:"text",placeholder:"Preo (ex: 15,50)",value:f.price,onChange:x=>{const _=x.target.value.replace(/[^\d,]/g,"");p({...f,price:_})},className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white mb-2",children:"Imagem da Promoo"}),l.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"w-full px-4 py-3 rounded-lg glass-effect text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-yellow-600 file:text-white file:cursor-pointer hover:file:bg-yellow-700"}),d&&l.jsxs("div",{className:"mt-3 relative",children:[l.jsx("img",{src:d,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),l.jsx("button",{type:"button",onClick:()=>{h(""),c(null),p({...f,image_url:""})},className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700 text-white p-2 rounded-full transition-colors",title:"Remover imagem",children:l.jsx(cn,{className:"w-5 h-5"})})]})]}),l.jsx("input",{type:"number",placeholder:"Ordem de exibio",value:f.display_order,onChange:x=>p({...f,display_order:parseInt(x.target.value)}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"}),l.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:f.active,onChange:x=>p({...f,active:x.target.checked}),className:"w-5 h-5 rounded"}),"Ativa"]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{type:"submit",className:"flex-1 btn-primary text-white py-3 rounded-lg font-semibold",children:o?"Salvar":"Criar"}),l.jsx("button",{type:"button",onClick:()=>{i(!1),a(null),p({title:"",description:"",price:"",image_url:"",active:!0,display_order:0}),c(null),h("")},className:"px-6 py-3 rounded-lg glass-effect text-gray-300 hover:text-white",children:"Cancelar"})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(x=>l.jsxs("div",{className:"hero-card rounded-xl overflow-hidden",children:[x.image_url&&l.jsx("img",{src:x.image_url,alt:x.title,className:"w-full h-48 object-cover"}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsx("h3",{className:"text-2xl font-bold text-white",children:x.title}),l.jsx("span",{className:`px-3 py-1 rounded-lg text-sm ${x.active?"bg-green-600":"bg-gray-600"} text-white`,children:x.active?"Ativa":"Inativa"})]}),l.jsx("p",{className:"text-gray-300 mb-2",children:x.description}),l.jsxs("p",{className:"text-2xl font-bold text-yellow-400 mb-4",children:["R$ ",x.price.toFixed(2).replace(".",",")]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>g(x),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[l.jsx(bi,{className:"w-4 h-4"}),"Editar"]}),l.jsxs("button",{onClick:()=>m(x.id),className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[l.jsx(Yn,{className:"w-4 h-4"}),"Excluir"]})]})]})]},x.id))}),l.jsx(e,{})]})}function mv(){const[t,e]=S.useState({totalRevenue:0,totalOrders:0,topProducts:[],paymentMethods:{}}),[n,r]=S.useState({start:new Date(new Date().setDate(new Date().getDate()-30)).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]});S.useEffect(()=>{s()},[n]);const s=async()=>{const{data:o}=await R.from("orders").select("*, order_items(*, products(name))").gte("created_at",n.start).lte("created_at",n.end+"T23:59:59").eq("status","finalizado");if(o){const a=o.reduce((f,p)=>f+p.total,0),u=o.length,c={};o.forEach(f=>{var p;(p=f.order_items)==null||p.forEach(v=>{var b;const w=((b=v.products)==null?void 0:b.name)||"Desconhecido";c[w]=(c[w]||0)+v.quantity})});const d=Object.entries(c).map(([f,p])=>({name:f,count:p})).sort((f,p)=>p.count-f.count).slice(0,10),h={};o.forEach(f=>{h[f.payment_method]=(h[f.payment_method]||0)+1}),e({totalRevenue:a,totalOrders:u,topProducts:d,paymentMethods:h})}},i={pix:"PIX",dinheiro:"Dinheiro",debito:"Carto Dbito",credito:"Carto Crdito"};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Relatrios e Analytics"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-white font-semibold mb-2",children:"Data Inicial"}),l.jsx("input",{type:"date",value:n.start,onChange:o=>r({...n,start:o.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white focus:outline-none focus:ring-2 focus:ring-yellow-400"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white font-semibold mb-2",children:"Data Final"}),l.jsx("input",{type:"date",value:n.end,onChange:o=>r({...n,end:o.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white focus:outline-none focus:ring-2 focus:ring-yellow-400"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx("div",{className:"glass-effect rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center",children:l.jsx(hh,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-400 text-sm",children:"Faturamento Total"}),l.jsxs("p",{className:"text-3xl font-bold text-white",children:["R$ ",t.totalRevenue.toFixed(2)]})]})]})}),l.jsx("div",{className:"glass-effect rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center",children:l.jsx(fa,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-400 text-sm",children:"Total de Pedidos"}),l.jsx("p",{className:"text-3xl font-bold text-white",children:t.totalOrders})]})]})})]}),l.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(Am,{className:"w-6 h-6 text-yellow-400"}),l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Produtos Mais Vendidos"})]}),l.jsxs("div",{className:"space-y-3",children:[t.topProducts.map((o,a)=>l.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"w-8 h-8 rounded-full bg-yellow-600 flex items-center justify-center text-white font-bold",children:a+1}),l.jsx("span",{className:"text-white font-semibold",children:o.name})]}),l.jsxs("span",{className:"text-yellow-400 font-bold",children:[o.count," unidades"]})]},a)),t.topProducts.length===0&&l.jsx("p",{className:"text-center text-gray-400 py-8",children:"Nenhum produto vendido no perodo"})]})]}),l.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(dh,{className:"w-6 h-6 text-yellow-400"}),l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Formas de Pagamento"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[Object.entries(t.paymentMethods).map(([o,a])=>l.jsxs("div",{className:"glass-effect rounded-lg p-4 text-center",children:[l.jsx("p",{className:"text-gray-400 text-sm mb-2",children:i[o]||o}),l.jsx("p",{className:"text-3xl font-bold text-white",children:a}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"pedidos"})]},o)),Object.keys(t.paymentMethods).length===0&&l.jsx("p",{className:"col-span-full text-center text-gray-400 py-8",children:"Nenhum pagamento registrado no perodo"})]})]})]})}function gv(){const[t,e]=S.useState([]),[n,r]=S.useState(!1),[s,i]=S.useState(!0),[o,a]=S.useState({isOpen:!1,media:null}),u=pa();S.useEffect(()=>{c()},[]);async function c(){try{const{data:p,error:v}=await R.from("background_media").select("*").order("order_position",{ascending:!0});if(v)throw v;e(p||[])}catch(p){console.error("Erro ao carregar mdias:",p),u.error("Erro ao carregar mdias de fundo")}finally{i(!1)}}async function d(p){var g,m,x;const v=(g=p.target.files)==null?void 0:g[0];if(!v)return;const w=v.type.startsWith("image/"),b=v.type.startsWith("video/");if(!w&&!b){u.warning("Por favor, envie apenas imagens ou vdeos");return}const y=100*1024*1024;if(v.size>y){u.error("Arquivo muito grande. O tamanho mximo  100MB.");return}r(!0);try{const _=v.name.split(".").pop(),j=`${`${Date.now()}-${Math.random().toString(36).substring(7)}.${_}`}`,{error:N}=await R.storage.from("background-media").upload(j,v,{cacheControl:"3600",upsert:!1});if(N)throw console.error("Upload error:",N),N;const{data:{publicUrl:A}}=R.storage.from("background-media").getPublicUrl(j),{error:$}=await R.from("background_media").insert({file_url:A,file_type:w?"image":"video",order_position:t.length,is_active:!0});if($)throw $;u.success("Mdia enviada com sucesso!"),c()}catch(_){console.error("Erro ao fazer upload:",_);let k="Erro ao enviar mdia.";(m=_==null?void 0:_.message)!=null&&m.includes("Payload")?k="Arquivo muito grande. Tente com um arquivo menor.":(x=_==null?void 0:_.message)!=null&&x.includes("duplicate")?k="J existe um arquivo com este nome.":_!=null&&_.message&&(k=`Erro: ${_.message}`),u.error(k)}finally{r(!1),p.target.value=""}}async function h(){if(o.media)try{const p=o.media.file_url.split("/").pop();p&&await R.storage.from("background-media").remove([p]);const{error:v}=await R.from("background_media").delete().eq("id",o.media.id);if(v)throw v;u.success("Mdia excluda com sucesso!"),c()}catch(p){console.error("Erro ao excluir mdia:",p),u.error("Erro ao excluir mdia")}finally{a({isOpen:!1,media:null})}}async function f(p){try{const{error:v}=await R.from("background_media").update({is_active:!p.is_active}).eq("id",p.id);if(v)throw v;c()}catch(v){console.error("Erro ao atualizar mdia:",v),u.error("Erro ao atualizar mdia")}}return s?l.jsx("div",{className:"p-8 text-center",children:l.jsx("div",{className:"text-gray-400",children:"Carregando..."})}):l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Mdias de Fundo"}),l.jsx("p",{className:"text-gray-400",children:"Gerencie as imagens e vdeos que aparecem no fundo do site"})]}),l.jsx("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:l.jsxs("label",{className:"block cursor-pointer",children:[l.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center hover:border-red-500 transition-colors",children:[l.jsx(Im,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),l.jsx("p",{className:"text-white font-semibold mb-2",children:n?"Enviando...":"Clique para fazer upload"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Imagens (JPG, PNG, GIF) ou Vdeos (MP4, WebM)"})]}),l.jsx("input",{type:"file",accept:"image/*,video/*",onChange:d,disabled:n,className:"hidden"})]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(p=>l.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden border-2 border-gray-700",children:[l.jsxs("div",{className:"relative aspect-video bg-gray-900",children:[p.file_type==="image"?l.jsx("img",{src:p.file_url,alt:"Background",className:"w-full h-full object-cover"}):l.jsx("video",{src:p.file_url,className:"w-full h-full object-cover",muted:!0,loop:!0}),l.jsxs("div",{className:"absolute top-2 right-2 bg-black/70 px-2 py-1 rounded flex items-center gap-1",children:[p.file_type==="image"?l.jsx(ol,{className:"w-4 h-4 text-white"}):l.jsx(Dm,{className:"w-4 h-4 text-white"}),l.jsx("span",{className:"text-white text-xs uppercase",children:p.file_type})]})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("button",{onClick:()=>f(p),className:`px-3 py-1 rounded text-sm font-semibold transition-colors ${p.is_active?"bg-green-600 text-white hover:bg-green-700":"bg-gray-600 text-gray-300 hover:bg-gray-700"}`,children:p.is_active?"Ativo":"Inativo"}),l.jsx("button",{onClick:()=>a({isOpen:!0,media:p}),className:"p-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:l.jsx(Yn,{className:"w-4 h-4"})})]}),l.jsxs("p",{className:"text-gray-400 text-xs",children:["Adicionado em ",new Date(p.created_at).toLocaleDateString("pt-BR")]})]})]},p.id))}),t.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(ol,{className:"w-16 h-16 mx-auto mb-4 text-gray-600"}),l.jsx("p",{className:"text-gray-400",children:"Nenhuma mdia adicionada ainda"}),l.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Faa upload de imagens ou vdeos para aparecerem no fundo do site"})]})]}),l.jsx(Mh,{isOpen:o.isOpen,title:"Excluir Mdia",message:"Tem certeza que deseja excluir esta mdia? Esta ao no pode ser desfeita.",confirmText:"Excluir",cancelText:"Cancelar",onConfirm:h,onCancel:()=>a({isOpen:!1,media:null}),type:"danger"})]})}function vv(){const[t,e]=S.useState([]),[n,r]=S.useState(!0),[s,i]=S.useState("");S.useEffect(()=>{o()},[]);const o=async()=>{r(!0);const{data:u}=await R.from("customers").select("*").order("total_spent",{ascending:!1});u&&e(u),r(!1)},a=t.filter(u=>u.name.toLowerCase().includes(s.toLowerCase())||u.phone.includes(s));return l.jsxs("div",{className:"space-y-4 md:space-y-6",children:[l.jsxs("div",{className:"glass-effect rounded-xl p-4 md:p-6",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Clientes"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[l.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Total de Clientes"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:t.length})]}),l.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[l.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Total em Pedidos"}),l.jsxs("p",{className:"text-2xl font-bold text-yellow-400",children:["R$ ",t.reduce((u,c)=>u+c.total_spent,0).toFixed(2)]})]}),l.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[l.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Pedidos Realizados"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:t.reduce((u,c)=>u+c.total_orders,0)})]})]})]}),l.jsxs("div",{className:"glass-effect rounded-xl p-4 md:p-6",children:[l.jsx("input",{type:"text",placeholder:"Buscar por nome ou telefone...",value:s,onChange:u=>i(u.target.value),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400 mb-4"}),n?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("p",{className:"text-gray-400",children:"Carregando clientes..."})]}):a.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("p",{className:"text-xl text-gray-400",children:s?"Nenhum cliente encontrado":"Nenhum cliente cadastrado"})]}):l.jsx("div",{className:"space-y-3",children:a.map(u=>l.jsx("div",{className:"glass-effect rounded-lg p-4 hover:bg-white/10 transition-all",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:u.name}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[l.jsx(mh,{className:"w-4 h-4 flex-shrink-0"}),l.jsx("span",{children:u.phone})]}),l.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[l.jsx(fa,{className:"w-4 h-4 flex-shrink-0"}),l.jsxs("span",{children:[u.total_orders," pedido",u.total_orders!==1?"s":""]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[l.jsx(hh,{className:"w-4 h-4 flex-shrink-0"}),l.jsxs("span",{children:["R$ ",u.total_spent.toFixed(2)," gasto"]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[l.jsx(jm,{className:"w-4 h-4 flex-shrink-0"}),l.jsxs("span",{children:["ltimo: ",new Date(u.last_order_at).toLocaleDateString("pt-BR")]})]})]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-1",children:[l.jsx("span",{className:"text-xs text-gray-400",children:"Cliente desde"}),l.jsx("span",{className:"text-sm text-white font-semibold",children:new Date(u.created_at).toLocaleDateString("pt-BR")})]})]})},u.id))})]})]})}const yv=[{id:"orders",label:"Pedidos",icon:fa},{id:"newOrder",label:"Lanar Pedido",icon:Pm},{id:"customers",label:"Clientes",icon:Lm},{id:"categories",label:"Categorias",icon:Nm},{id:"products",label:"Produtos e Adicionais",icon:ph},{id:"delivery",label:"Delivery",icon:fh},{id:"promotions",label:"Promoes",icon:Cm},{id:"reports",label:"Relatrios",icon:km},{id:"backgroundMedia",label:"Mdias de Fundo",icon:ol}];function xv(){const[t,e]=S.useState("orders"),[n,r]=S.useState(!1),s=()=>{switch(t){case"orders":return l.jsx(Qu,{});case"newOrder":return l.jsx(cv,{});case"customers":return l.jsx(vv,{});case"categories":return l.jsx(dv,{});case"products":return l.jsx(hv,{});case"delivery":return l.jsx(fv,{});case"promotions":return l.jsx(pv,{});case"reports":return l.jsx(mv,{});case"backgroundMedia":return l.jsx(gv,{});default:return l.jsx(Qu,{})}};return l.jsxs("div",{className:"min-h-screen relative",children:[l.jsx(wa,{}),l.jsxs("div",{className:"relative z-10 flex",children:[n&&l.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-30",onClick:()=>r(!1)}),l.jsxs("aside",{className:`fixed lg:sticky top-0 h-screen glass-effect border-r border-white/10 transition-transform duration-300 z-40 ${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0 w-72 flex flex-col`,children:[l.jsx("div",{className:"p-4 border-b border-white/10",children:l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsx("img",{src:"/expresso-delivery_615dab6902eee3285f7eabcacf6ac2ee copy copy.png",alt:"Hero's Brasa Burguer",className:"h-16 w-auto object-contain"}),l.jsx("button",{onClick:()=>r(!1),className:"lg:hidden glass-effect p-2 rounded-lg text-white hover:bg-white/10 transition-colors flex-shrink-0",children:l.jsx(cn,{className:"w-5 h-5"})})]})}),l.jsx("nav",{className:"p-4 space-y-2 flex-1 overflow-y-auto",children:yv.map(i=>{const o=i.icon;return l.jsxs("button",{onClick:()=>{e(i.id),r(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-semibold transition-all ${t===i.id?"btn-primary text-white":"text-gray-300 hover:bg-white/5"}`,children:[l.jsx(o,{className:"w-5 h-5"}),i.label]},i.id)})})]}),!n&&l.jsx("button",{onClick:()=>r(!0),className:"lg:hidden fixed top-4 left-4 z-50 glass-effect p-3 rounded-lg text-white hover:bg-white/10 transition-colors",children:l.jsx(Tm,{className:"w-6 h-6"})}),l.jsx("main",{className:"flex-1 min-h-screen p-4 lg:p-8 pt-20 lg:pt-8",children:s()})]})]})}function wv(){const[t,e]=S.useState("landing");S.useEffect(()=>{const r=()=>{const s=window.location.hash.slice(1);e(s==="admin"?"admin":s==="catalog"?"catalog":"landing")};return r(),window.addEventListener("hashchange",r),()=>window.removeEventListener("hashchange",r)},[]);const n=()=>{window.location.hash="catalog"};return l.jsx(Fm,{children:l.jsxs(gm,{children:[t==="landing"&&l.jsx(iv,{onOrderNow:n}),t==="catalog"&&l.jsx(uv,{}),t==="admin"&&l.jsx(xv,{})]})})}ah(document.getElementById("root")).render(l.jsx(S.StrictMode,{children:l.jsx(wv,{})}));
