(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var nu={exports:{}},fi={},ru={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xr=Symbol.for("react.element"),Kh=Symbol.for("react.portal"),Gh=Symbol.for("react.fragment"),Qh=Symbol.for("react.strict_mode"),Jh=Symbol.for("react.profiler"),Xh=Symbol.for("react.provider"),Yh=Symbol.for("react.context"),Zh=Symbol.for("react.forward_ref"),ef=Symbol.for("react.suspense"),tf=Symbol.for("react.memo"),nf=Symbol.for("react.lazy"),El=Symbol.iterator;function rf(t){return t===null||typeof t!="object"?null:(t=El&&t[El]||t["@@iterator"],typeof t=="function"?t:null)}var su={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iu=Object.assign,ou={};function Xn(t,e,n){this.props=t,this.context=e,this.refs=ou,this.updater=n||su}Xn.prototype.isReactComponent={};Xn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function au(){}au.prototype=Xn.prototype;function ka(t,e,n){this.props=t,this.context=e,this.refs=ou,this.updater=n||su}var Na=ka.prototype=new au;Na.constructor=ka;iu(Na,Xn.prototype);Na.isPureReactComponent=!0;var Cl=Array.isArray,lu=Object.prototype.hasOwnProperty,Sa={current:null},cu={key:!0,ref:!0,__self:!0,__source:!0};function uu(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)lu.call(e,r)&&!cu.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Xr,type:t,key:i,ref:a,props:s,_owner:Sa.current}}function sf(t,e){return{$$typeof:Xr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ea(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xr}function of(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Pl=/\/+/g;function Di(t,e){return typeof t=="object"&&t!==null&&t.key!=null?of(""+t.key):e.toString(36)}function Ss(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Xr:case Kh:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Di(a,0):r,Cl(s)?(n="",t!=null&&(n=t.replace(Pl,"$&/")+"/"),Ss(s,e,n,"",function(u){return u})):s!=null&&(Ea(s)&&(s=sf(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Pl,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",Cl(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Di(i,l);a+=Ss(i,e,n,c,s)}else if(c=rf(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Di(i,l++),a+=Ss(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function is(t,e,n){if(t==null)return t;var r=[],s=0;return Ss(t,r,"","",function(i){return e.call(n,i,s++)}),r}function af(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ne={current:null},Es={transition:null},lf={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:Es,ReactCurrentOwner:Sa};function du(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:is,forEach:function(t,e,n){is(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return is(t,function(){e++}),e},toArray:function(t){return is(t,function(e){return e})||[]},only:function(t){if(!Ea(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};F.Component=Xn;F.Fragment=Gh;F.Profiler=Jh;F.PureComponent=ka;F.StrictMode=Qh;F.Suspense=ef;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lf;F.act=du;F.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=iu({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Sa.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)lu.call(e,c)&&!cu.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Xr,type:t.type,key:s,ref:i,props:r,_owner:a}};F.createContext=function(t){return t={$$typeof:Yh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Xh,_context:t},t.Consumer=t};F.createElement=uu;F.createFactory=function(t){var e=uu.bind(null,t);return e.type=t,e};F.createRef=function(){return{current:null}};F.forwardRef=function(t){return{$$typeof:Zh,render:t}};F.isValidElement=Ea;F.lazy=function(t){return{$$typeof:nf,_payload:{_status:-1,_result:t},_init:af}};F.memo=function(t,e){return{$$typeof:tf,type:t,compare:e===void 0?null:e}};F.startTransition=function(t){var e=Es.transition;Es.transition={};try{t()}finally{Es.transition=e}};F.unstable_act=du;F.useCallback=function(t,e){return Ne.current.useCallback(t,e)};F.useContext=function(t){return Ne.current.useContext(t)};F.useDebugValue=function(){};F.useDeferredValue=function(t){return Ne.current.useDeferredValue(t)};F.useEffect=function(t,e){return Ne.current.useEffect(t,e)};F.useId=function(){return Ne.current.useId()};F.useImperativeHandle=function(t,e,n){return Ne.current.useImperativeHandle(t,e,n)};F.useInsertionEffect=function(t,e){return Ne.current.useInsertionEffect(t,e)};F.useLayoutEffect=function(t,e){return Ne.current.useLayoutEffect(t,e)};F.useMemo=function(t,e){return Ne.current.useMemo(t,e)};F.useReducer=function(t,e,n){return Ne.current.useReducer(t,e,n)};F.useRef=function(t){return Ne.current.useRef(t)};F.useState=function(t){return Ne.current.useState(t)};F.useSyncExternalStore=function(t,e,n){return Ne.current.useSyncExternalStore(t,e,n)};F.useTransition=function(){return Ne.current.useTransition()};F.version="18.3.1";ru.exports=F;var k=ru.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cf=k,uf=Symbol.for("react.element"),df=Symbol.for("react.fragment"),hf=Object.prototype.hasOwnProperty,ff=cf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pf={key:!0,ref:!0,__self:!0,__source:!0};function hu(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)hf.call(e,r)&&!pf.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:uf,type:t,key:i,ref:a,props:s,_owner:ff.current}}fi.Fragment=df;fi.jsx=hu;fi.jsxs=hu;nu.exports=fi;var o=nu.exports,fu={exports:{}},De={},pu={exports:{}},mu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,L){var D=R.length;R.push(L);e:for(;0<D;){var X=D-1>>>1,se=R[X];if(0<s(se,L))R[X]=L,R[D]=se,D=X;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var L=R[0],D=R.pop();if(D!==L){R[0]=D;e:for(var X=0,se=R.length,mn=se>>>1;X<mn;){var ct=2*(X+1)-1,ir=R[ct],ut=ct+1,gn=R[ut];if(0>s(ir,D))ut<se&&0>s(gn,ir)?(R[X]=gn,R[ut]=D,X=ut):(R[X]=ir,R[ct]=D,X=ct);else if(ut<se&&0>s(gn,D))R[X]=gn,R[ut]=D,X=ut;else break e}}return L}function s(R,L){var D=R.sortIndex-L.sortIndex;return D!==0?D:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,m=3,v=!1,f=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(R){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=R)r(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(u)}}function y(R){if(_=!1,p(R),!f)if(n(c)!==null)f=!0,lt(w);else{var L=n(u);L!==null&&me(y,L.startTime-R)}}function w(R,L){f=!1,_&&(_=!1,x(N),N=-1),v=!0;var D=m;try{for(p(L),d=n(c);d!==null&&(!(d.expirationTime>L)||R&&!C());){var X=d.callback;if(typeof X=="function"){d.callback=null,m=d.priorityLevel;var se=X(d.expirationTime<=L);L=t.unstable_now(),typeof se=="function"?d.callback=se:d===n(c)&&r(c),p(L)}else r(c);d=n(c)}if(d!==null)var mn=!0;else{var ct=n(u);ct!==null&&me(y,ct.startTime-L),mn=!1}return mn}finally{d=null,m=D,v=!1}}var b=!1,j=null,N=-1,I=5,$=-1;function C(){return!(t.unstable_now()-$<I)}function O(){if(j!==null){var R=t.unstable_now();$=R;var L=!0;try{L=j(!0,R)}finally{L?H():(b=!1,j=null)}}else b=!1}var H;if(typeof g=="function")H=function(){g(O)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,sr=ne.port2;ne.port1.onmessage=O,H=function(){sr.postMessage(null)}}else H=function(){S(O,0)};function lt(R){j=R,b||(b=!0,H())}function me(R,L){N=S(function(){R(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){f||v||(f=!0,lt(w))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(R){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var D=m;m=L;try{return R()}finally{m=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var D=m;m=R;try{return L()}finally{m=D}},t.unstable_scheduleCallback=function(R,L,D){var X=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?X+D:X):D=X,R){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=D+se,R={id:h++,callback:L,priorityLevel:R,startTime:D,expirationTime:se,sortIndex:-1},D>X?(R.sortIndex=D,e(u,R),n(c)===null&&R===n(u)&&(_?(x(N),N=-1):_=!0,me(y,D-X))):(R.sortIndex=se,e(c,R),f||v||(f=!0,lt(w))),R},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(R){var L=m;return function(){var D=m;m=L;try{return R.apply(this,arguments)}finally{m=D}}}})(mu);pu.exports=mu;var mf=pu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf=k,Le=mf;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gu=new Set,$r={};function dn(t,e){qn(t,e),qn(t+"Capture",e)}function qn(t,e){for($r[t]=e,t=0;t<e.length;t++)gu.add(e[t])}var yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xo=Object.prototype.hasOwnProperty,vf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tl={},Ol={};function yf(t){return xo.call(Ol,t)?!0:xo.call(Tl,t)?!1:vf.test(t)?Ol[t]=!0:(Tl[t]=!0,!1)}function xf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wf(t,e,n,r){if(e===null||typeof e>"u"||xf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Se(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pe[t]=new Se(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pe[e]=new Se(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pe[t]=new Se(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pe[t]=new Se(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pe[t]=new Se(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pe[t]=new Se(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pe[t]=new Se(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pe[t]=new Se(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pe[t]=new Se(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ca=/[\-:]([a-z])/g;function Pa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ca,Pa);pe[e]=new Se(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ca,Pa);pe[e]=new Se(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ca,Pa);pe[e]=new Se(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pe[t]=new Se(t,1,!1,t.toLowerCase(),null,!1,!1)});pe.xlinkHref=new Se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pe[t]=new Se(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ta(t,e,n,r){var s=pe.hasOwnProperty(e)?pe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wf(e,n,s,r)&&(n=null),r||s===null?yf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var bt=gf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,os=Symbol.for("react.element"),Nn=Symbol.for("react.portal"),Sn=Symbol.for("react.fragment"),Oa=Symbol.for("react.strict_mode"),wo=Symbol.for("react.profiler"),vu=Symbol.for("react.provider"),yu=Symbol.for("react.context"),Ra=Symbol.for("react.forward_ref"),_o=Symbol.for("react.suspense"),bo=Symbol.for("react.suspense_list"),$a=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),xu=Symbol.for("react.offscreen"),Rl=Symbol.iterator;function ar(t){return t===null||typeof t!="object"?null:(t=Rl&&t[Rl]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,zi;function gr(t){if(zi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zi=e&&e[1]||""}return`
`+zi+t}var Mi=!1;function Ui(t,e){if(!t||Mi)return"";Mi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Mi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?gr(t):""}function _f(t){switch(t.tag){case 5:return gr(t.type);case 16:return gr("Lazy");case 13:return gr("Suspense");case 19:return gr("SuspenseList");case 0:case 2:case 15:return t=Ui(t.type,!1),t;case 11:return t=Ui(t.type.render,!1),t;case 1:return t=Ui(t.type,!0),t;default:return""}}function jo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Sn:return"Fragment";case Nn:return"Portal";case wo:return"Profiler";case Oa:return"StrictMode";case _o:return"Suspense";case bo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yu:return(t.displayName||"Context")+".Consumer";case vu:return(t._context.displayName||"Context")+".Provider";case Ra:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $a:return e=t.displayName||null,e!==null?e:jo(t.type)||"Memo";case St:e=t._payload,t=t._init;try{return jo(t(e))}catch{}}return null}function bf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jo(e);case 8:return e===Oa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ft(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wu(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jf(t){var e=wu(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function as(t){t._valueTracker||(t._valueTracker=jf(t))}function _u(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=wu(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ko(t,e){var n=e.checked;return ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $l(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ft(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bu(t,e){e=e.checked,e!=null&&Ta(t,"checked",e,!1)}function No(t,e){bu(t,e);var n=Ft(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?So(t,e.type,n):e.hasOwnProperty("defaultValue")&&So(t,e.type,Ft(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Al(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function So(t,e,n){(e!=="number"||zs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vr=Array.isArray;function Dn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ft(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Eo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Il(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(vr(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ft(n)}}function ju(t,e){var n=Ft(e.value),r=Ft(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ll(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ku(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Co(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ku(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ls,Nu=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ls=ls||document.createElement("div"),ls.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ls.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ar(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kf=["Webkit","ms","Moz","O"];Object.keys(_r).forEach(function(t){kf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_r[e]=_r[t]})});function Su(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_r.hasOwnProperty(t)&&_r[t]?(""+e).trim():e+"px"}function Eu(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Su(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Nf=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Po(t,e){if(e){if(Nf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function To(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oo=null;function Aa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ro=null,zn=null,Mn=null;function Dl(t){if(t=es(t)){if(typeof Ro!="function")throw Error(E(280));var e=t.stateNode;e&&(e=yi(e),Ro(t.stateNode,t.type,e))}}function Cu(t){zn?Mn?Mn.push(t):Mn=[t]:zn=t}function Pu(){if(zn){var t=zn,e=Mn;if(Mn=zn=null,Dl(t),e)for(t=0;t<e.length;t++)Dl(e[t])}}function Tu(t,e){return t(e)}function Ou(){}var Fi=!1;function Ru(t,e,n){if(Fi)return t(e,n);Fi=!0;try{return Tu(t,e,n)}finally{Fi=!1,(zn!==null||Mn!==null)&&(Ou(),Pu())}}function Ir(t,e){var n=t.stateNode;if(n===null)return null;var r=yi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var $o=!1;if(yt)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){$o=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{$o=!1}function Sf(t,e,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var br=!1,Ms=null,Us=!1,Ao=null,Ef={onError:function(t){br=!0,Ms=t}};function Cf(t,e,n,r,s,i,a,l,c){br=!1,Ms=null,Sf.apply(Ef,arguments)}function Pf(t,e,n,r,s,i,a,l,c){if(Cf.apply(this,arguments),br){if(br){var u=Ms;br=!1,Ms=null}else throw Error(E(198));Us||(Us=!0,Ao=u)}}function hn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $u(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zl(t){if(hn(t)!==t)throw Error(E(188))}function Tf(t){var e=t.alternate;if(!e){if(e=hn(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return zl(s),t;if(i===r)return zl(s),e;i=i.sibling}throw Error(E(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function Au(t){return t=Tf(t),t!==null?Iu(t):null}function Iu(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Iu(t);if(e!==null)return e;t=t.sibling}return null}var Lu=Le.unstable_scheduleCallback,Ml=Le.unstable_cancelCallback,Of=Le.unstable_shouldYield,Rf=Le.unstable_requestPaint,re=Le.unstable_now,$f=Le.unstable_getCurrentPriorityLevel,Ia=Le.unstable_ImmediatePriority,Du=Le.unstable_UserBlockingPriority,Fs=Le.unstable_NormalPriority,Af=Le.unstable_LowPriority,zu=Le.unstable_IdlePriority,pi=null,it=null;function If(t){if(it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(pi,t,void 0,(t.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:zf,Lf=Math.log,Df=Math.LN2;function zf(t){return t>>>=0,t===0?32:31-(Lf(t)/Df|0)|0}var cs=64,us=4194304;function yr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=yr(l):(i&=a,i!==0&&(r=yr(i)))}else a=n&~s,a!==0?r=yr(a):i!==0&&(r=yr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ye(e),s=1<<n,r|=t[n],e&=~s;return r}function Mf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Ye(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=Mf(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Io(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Mu(){var t=cs;return cs<<=1,!(cs&4194240)&&(cs=64),t}function Bi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ye(e),t[e]=n}function Ff(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ye(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function La(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ye(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var W=0;function Uu(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Fu,Da,Bu,qu,Hu,Lo=!1,ds=[],$t=null,At=null,It=null,Lr=new Map,Dr=new Map,Ct=[],Bf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ul(t,e){switch(t){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Lr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dr.delete(e.pointerId)}}function cr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=es(e),e!==null&&Da(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function qf(t,e,n,r,s){switch(e){case"focusin":return $t=cr($t,t,e,n,r,s),!0;case"dragenter":return At=cr(At,t,e,n,r,s),!0;case"mouseover":return It=cr(It,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Lr.set(i,cr(Lr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Dr.set(i,cr(Dr.get(i)||null,t,e,n,r,s)),!0}return!1}function Wu(t){var e=en(t.target);if(e!==null){var n=hn(e);if(n!==null){if(e=n.tag,e===13){if(e=$u(n),e!==null){t.blockedOn=e,Hu(t.priority,function(){Bu(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Do(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Oo=r,n.target.dispatchEvent(r),Oo=null}else return e=es(n),e!==null&&Da(e),t.blockedOn=n,!1;e.shift()}return!0}function Fl(t,e,n){Cs(t)&&n.delete(e)}function Hf(){Lo=!1,$t!==null&&Cs($t)&&($t=null),At!==null&&Cs(At)&&(At=null),It!==null&&Cs(It)&&(It=null),Lr.forEach(Fl),Dr.forEach(Fl)}function ur(t,e){t.blockedOn===e&&(t.blockedOn=null,Lo||(Lo=!0,Le.unstable_scheduleCallback(Le.unstable_NormalPriority,Hf)))}function zr(t){function e(s){return ur(s,t)}if(0<ds.length){ur(ds[0],t);for(var n=1;n<ds.length;n++){var r=ds[n];r.blockedOn===t&&(r.blockedOn=null)}}for($t!==null&&ur($t,t),At!==null&&ur(At,t),It!==null&&ur(It,t),Lr.forEach(e),Dr.forEach(e),n=0;n<Ct.length;n++)r=Ct[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ct.length&&(n=Ct[0],n.blockedOn===null);)Wu(n),n.blockedOn===null&&Ct.shift()}var Un=bt.ReactCurrentBatchConfig,qs=!0;function Wf(t,e,n,r){var s=W,i=Un.transition;Un.transition=null;try{W=1,za(t,e,n,r)}finally{W=s,Un.transition=i}}function Vf(t,e,n,r){var s=W,i=Un.transition;Un.transition=null;try{W=4,za(t,e,n,r)}finally{W=s,Un.transition=i}}function za(t,e,n,r){if(qs){var s=Do(t,e,n,r);if(s===null)Yi(t,e,r,Hs,n),Ul(t,r);else if(qf(s,t,e,n,r))r.stopPropagation();else if(Ul(t,r),e&4&&-1<Bf.indexOf(t)){for(;s!==null;){var i=es(s);if(i!==null&&Fu(i),i=Do(t,e,n,r),i===null&&Yi(t,e,r,Hs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Yi(t,e,r,null,n)}}var Hs=null;function Do(t,e,n,r){if(Hs=null,t=Aa(r),t=en(t),t!==null)if(e=hn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$u(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hs=t,null}function Vu(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($f()){case Ia:return 1;case Du:return 4;case Fs:case Af:return 16;case zu:return 536870912;default:return 16}default:return 16}}var Ot=null,Ma=null,Ps=null;function Ku(){if(Ps)return Ps;var t,e=Ma,n=e.length,r,s="value"in Ot?Ot.value:Ot.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Ps=s.slice(t,1<r?1-r:void 0)}function Ts(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hs(){return!0}function Bl(){return!1}function ze(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hs:Bl,this.isPropagationStopped=Bl,this}return ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),e}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=ze(Yn),Zr=ee({},Yn,{view:0,detail:0}),Kf=ze(Zr),qi,Hi,dr,mi=ee({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dr&&(dr&&t.type==="mousemove"?(qi=t.screenX-dr.screenX,Hi=t.screenY-dr.screenY):Hi=qi=0,dr=t),qi)},movementY:function(t){return"movementY"in t?t.movementY:Hi}}),ql=ze(mi),Gf=ee({},mi,{dataTransfer:0}),Qf=ze(Gf),Jf=ee({},Zr,{relatedTarget:0}),Wi=ze(Jf),Xf=ee({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),Yf=ze(Xf),Zf=ee({},Yn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ep=ze(Zf),tp=ee({},Yn,{data:0}),Hl=ze(tp),np={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ip(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sp[t])?!!e[t]:!1}function Fa(){return ip}var op=ee({},Zr,{key:function(t){if(t.key){var e=np[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ts(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fa,charCode:function(t){return t.type==="keypress"?Ts(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ts(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ap=ze(op),lp=ee({},mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wl=ze(lp),cp=ee({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fa}),up=ze(cp),dp=ee({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),hp=ze(dp),fp=ee({},mi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pp=ze(fp),mp=[9,13,27,32],Ba=yt&&"CompositionEvent"in window,jr=null;yt&&"documentMode"in document&&(jr=document.documentMode);var gp=yt&&"TextEvent"in window&&!jr,Gu=yt&&(!Ba||jr&&8<jr&&11>=jr),Vl=" ",Kl=!1;function Qu(t,e){switch(t){case"keyup":return mp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ju(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var En=!1;function vp(t,e){switch(t){case"compositionend":return Ju(e);case"keypress":return e.which!==32?null:(Kl=!0,Vl);case"textInput":return t=e.data,t===Vl&&Kl?null:t;default:return null}}function yp(t,e){if(En)return t==="compositionend"||!Ba&&Qu(t,e)?(t=Ku(),Ps=Ma=Ot=null,En=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gu&&e.locale!=="ko"?null:e.data;default:return null}}var xp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xp[t.type]:e==="textarea"}function Xu(t,e,n,r){Cu(r),e=Ws(e,"onChange"),0<e.length&&(n=new Ua("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var kr=null,Mr=null;function wp(t){ld(t,0)}function gi(t){var e=Tn(t);if(_u(e))return t}function _p(t,e){if(t==="change")return e}var Yu=!1;if(yt){var Vi;if(yt){var Ki="oninput"in document;if(!Ki){var Ql=document.createElement("div");Ql.setAttribute("oninput","return;"),Ki=typeof Ql.oninput=="function"}Vi=Ki}else Vi=!1;Yu=Vi&&(!document.documentMode||9<document.documentMode)}function Jl(){kr&&(kr.detachEvent("onpropertychange",Zu),Mr=kr=null)}function Zu(t){if(t.propertyName==="value"&&gi(Mr)){var e=[];Xu(e,Mr,t,Aa(t)),Ru(wp,e)}}function bp(t,e,n){t==="focusin"?(Jl(),kr=e,Mr=n,kr.attachEvent("onpropertychange",Zu)):t==="focusout"&&Jl()}function jp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gi(Mr)}function kp(t,e){if(t==="click")return gi(e)}function Np(t,e){if(t==="input"||t==="change")return gi(e)}function Sp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var et=typeof Object.is=="function"?Object.is:Sp;function Ur(t,e){if(et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!xo.call(e,s)||!et(t[s],e[s]))return!1}return!0}function Xl(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yl(t,e){var n=Xl(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xl(n)}}function ed(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ed(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function td(){for(var t=window,e=zs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zs(t.document)}return e}function qa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ep(t){var e=td(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ed(n.ownerDocument.documentElement,n)){if(r!==null&&qa(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Yl(n,i);var a=Yl(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Cp=yt&&"documentMode"in document&&11>=document.documentMode,Cn=null,zo=null,Nr=null,Mo=!1;function Zl(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mo||Cn==null||Cn!==zs(r)||(r=Cn,"selectionStart"in r&&qa(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nr&&Ur(Nr,r)||(Nr=r,r=Ws(zo,"onSelect"),0<r.length&&(e=new Ua("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Cn)))}function fs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pn={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionend:fs("Transition","TransitionEnd")},Gi={},nd={};yt&&(nd=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function vi(t){if(Gi[t])return Gi[t];if(!Pn[t])return t;var e=Pn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nd)return Gi[t]=e[n];return t}var rd=vi("animationend"),sd=vi("animationiteration"),id=vi("animationstart"),od=vi("transitionend"),ad=new Map,ec="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ht(t,e){ad.set(t,e),dn(e,[t])}for(var Qi=0;Qi<ec.length;Qi++){var Ji=ec[Qi],Pp=Ji.toLowerCase(),Tp=Ji[0].toUpperCase()+Ji.slice(1);Ht(Pp,"on"+Tp)}Ht(rd,"onAnimationEnd");Ht(sd,"onAnimationIteration");Ht(id,"onAnimationStart");Ht("dblclick","onDoubleClick");Ht("focusin","onFocus");Ht("focusout","onBlur");Ht(od,"onTransitionEnd");qn("onMouseEnter",["mouseout","mouseover"]);qn("onMouseLeave",["mouseout","mouseover"]);qn("onPointerEnter",["pointerout","pointerover"]);qn("onPointerLeave",["pointerout","pointerover"]);dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dn("onBeforeInput",["compositionend","keypress","textInput","paste"]);dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Op=new Set("cancel close invalid load scroll toggle".split(" ").concat(xr));function tc(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Pf(r,e,void 0,t),t.currentTarget=null}function ld(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;tc(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;tc(s,l,u),i=c}}}if(Us)throw t=Ao,Us=!1,Ao=null,t}function G(t,e){var n=e[Ho];n===void 0&&(n=e[Ho]=new Set);var r=t+"__bubble";n.has(r)||(cd(e,t,2,!1),n.add(r))}function Xi(t,e,n){var r=0;e&&(r|=4),cd(n,t,r,e)}var ps="_reactListening"+Math.random().toString(36).slice(2);function Fr(t){if(!t[ps]){t[ps]=!0,gu.forEach(function(n){n!=="selectionchange"&&(Op.has(n)||Xi(n,!1,t),Xi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ps]||(e[ps]=!0,Xi("selectionchange",!1,e))}}function cd(t,e,n,r){switch(Vu(e)){case 1:var s=Wf;break;case 4:s=Vf;break;default:s=za}n=s.bind(null,e,n,t),s=void 0,!$o||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Yi(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=en(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}Ru(function(){var u=i,h=Aa(n),d=[];e:{var m=ad.get(t);if(m!==void 0){var v=Ua,f=t;switch(t){case"keypress":if(Ts(n)===0)break e;case"keydown":case"keyup":v=ap;break;case"focusin":f="focus",v=Wi;break;case"focusout":f="blur",v=Wi;break;case"beforeblur":case"afterblur":v=Wi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Qf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=up;break;case rd:case sd:case id:v=Yf;break;case od:v=hp;break;case"scroll":v=Kf;break;case"wheel":v=pp;break;case"copy":case"cut":case"paste":v=ep;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Wl}var _=(e&4)!==0,S=!_&&t==="scroll",x=_?m!==null?m+"Capture":null:m;_=[];for(var g=u,p;g!==null;){p=g;var y=p.stateNode;if(p.tag===5&&y!==null&&(p=y,x!==null&&(y=Ir(g,x),y!=null&&_.push(Br(g,y,p)))),S)break;g=g.return}0<_.length&&(m=new v(m,f,null,n,h),d.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==Oo&&(f=n.relatedTarget||n.fromElement)&&(en(f)||f[xt]))break e;if((v||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,v?(f=n.relatedTarget||n.toElement,v=u,f=f?en(f):null,f!==null&&(S=hn(f),f!==S||f.tag!==5&&f.tag!==6)&&(f=null)):(v=null,f=u),v!==f)){if(_=ql,y="onMouseLeave",x="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(_=Wl,y="onPointerLeave",x="onPointerEnter",g="pointer"),S=v==null?m:Tn(v),p=f==null?m:Tn(f),m=new _(y,g+"leave",v,n,h),m.target=S,m.relatedTarget=p,y=null,en(h)===u&&(_=new _(x,g+"enter",f,n,h),_.target=p,_.relatedTarget=S,y=_),S=y,v&&f)t:{for(_=v,x=f,g=0,p=_;p;p=vn(p))g++;for(p=0,y=x;y;y=vn(y))p++;for(;0<g-p;)_=vn(_),g--;for(;0<p-g;)x=vn(x),p--;for(;g--;){if(_===x||x!==null&&_===x.alternate)break t;_=vn(_),x=vn(x)}_=null}else _=null;v!==null&&nc(d,m,v,_,!1),f!==null&&S!==null&&nc(d,S,f,_,!0)}}e:{if(m=u?Tn(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var w=_p;else if(Gl(m))if(Yu)w=Np;else{w=jp;var b=bp}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(w=kp);if(w&&(w=w(t,u))){Xu(d,w,n,h);break e}b&&b(t,m,u),t==="focusout"&&(b=m._wrapperState)&&b.controlled&&m.type==="number"&&So(m,"number",m.value)}switch(b=u?Tn(u):window,t){case"focusin":(Gl(b)||b.contentEditable==="true")&&(Cn=b,zo=u,Nr=null);break;case"focusout":Nr=zo=Cn=null;break;case"mousedown":Mo=!0;break;case"contextmenu":case"mouseup":case"dragend":Mo=!1,Zl(d,n,h);break;case"selectionchange":if(Cp)break;case"keydown":case"keyup":Zl(d,n,h)}var j;if(Ba)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else En?Qu(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Gu&&n.locale!=="ko"&&(En||N!=="onCompositionStart"?N==="onCompositionEnd"&&En&&(j=Ku()):(Ot=h,Ma="value"in Ot?Ot.value:Ot.textContent,En=!0)),b=Ws(u,N),0<b.length&&(N=new Hl(N,t,null,n,h),d.push({event:N,listeners:b}),j?N.data=j:(j=Ju(n),j!==null&&(N.data=j)))),(j=gp?vp(t,n):yp(t,n))&&(u=Ws(u,"onBeforeInput"),0<u.length&&(h=new Hl("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=j))}ld(d,e)})}function Br(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ws(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ir(t,n),i!=null&&r.unshift(Br(t,i,s)),i=Ir(t,e),i!=null&&r.push(Br(t,i,s))),t=t.return}return r}function vn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nc(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Ir(n,i),c!=null&&a.unshift(Br(n,c,l))):s||(c=Ir(n,i),c!=null&&a.push(Br(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Rp=/\r\n?/g,$p=/\u0000|\uFFFD/g;function rc(t){return(typeof t=="string"?t:""+t).replace(Rp,`
`).replace($p,"")}function ms(t,e,n){if(e=rc(e),rc(t)!==e&&n)throw Error(E(425))}function Vs(){}var Uo=null,Fo=null;function Bo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qo=typeof setTimeout=="function"?setTimeout:void 0,Ap=typeof clearTimeout=="function"?clearTimeout:void 0,sc=typeof Promise=="function"?Promise:void 0,Ip=typeof queueMicrotask=="function"?queueMicrotask:typeof sc<"u"?function(t){return sc.resolve(null).then(t).catch(Lp)}:qo;function Lp(t){setTimeout(function(){throw t})}function Zi(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),zr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);zr(e)}function Lt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ic(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zn=Math.random().toString(36).slice(2),st="__reactFiber$"+Zn,qr="__reactProps$"+Zn,xt="__reactContainer$"+Zn,Ho="__reactEvents$"+Zn,Dp="__reactListeners$"+Zn,zp="__reactHandles$"+Zn;function en(t){var e=t[st];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xt]||n[st]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ic(t);t!==null;){if(n=t[st])return n;t=ic(t)}return e}t=n,n=t.parentNode}return null}function es(t){return t=t[st]||t[xt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Tn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function yi(t){return t[qr]||null}var Wo=[],On=-1;function Wt(t){return{current:t}}function Q(t){0>On||(t.current=Wo[On],Wo[On]=null,On--)}function K(t,e){On++,Wo[On]=t.current,t.current=e}var Bt={},xe=Wt(Bt),Te=Wt(!1),on=Bt;function Hn(t,e){var n=t.type.contextTypes;if(!n)return Bt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Oe(t){return t=t.childContextTypes,t!=null}function Ks(){Q(Te),Q(xe)}function oc(t,e,n){if(xe.current!==Bt)throw Error(E(168));K(xe,e),K(Te,n)}function ud(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(E(108,bf(t)||"Unknown",s));return ee({},n,r)}function Gs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bt,on=xe.current,K(xe,t),K(Te,Te.current),!0}function ac(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=ud(t,e,on),r.__reactInternalMemoizedMergedChildContext=t,Q(Te),Q(xe),K(xe,t)):Q(Te),K(Te,n)}var pt=null,xi=!1,eo=!1;function dd(t){pt===null?pt=[t]:pt.push(t)}function Mp(t){xi=!0,dd(t)}function Vt(){if(!eo&&pt!==null){eo=!0;var t=0,e=W;try{var n=pt;for(W=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pt=null,xi=!1}catch(s){throw pt!==null&&(pt=pt.slice(t+1)),Lu(Ia,Vt),s}finally{W=e,eo=!1}}return null}var Rn=[],$n=0,Qs=null,Js=0,Me=[],Ue=0,an=null,mt=1,gt="";function Jt(t,e){Rn[$n++]=Js,Rn[$n++]=Qs,Qs=t,Js=e}function hd(t,e,n){Me[Ue++]=mt,Me[Ue++]=gt,Me[Ue++]=an,an=t;var r=mt;t=gt;var s=32-Ye(r)-1;r&=~(1<<s),n+=1;var i=32-Ye(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,mt=1<<32-Ye(e)+s|n<<s|r,gt=i+t}else mt=1<<i|n<<s|r,gt=t}function Ha(t){t.return!==null&&(Jt(t,1),hd(t,1,0))}function Wa(t){for(;t===Qs;)Qs=Rn[--$n],Rn[$n]=null,Js=Rn[--$n],Rn[$n]=null;for(;t===an;)an=Me[--Ue],Me[Ue]=null,gt=Me[--Ue],Me[Ue]=null,mt=Me[--Ue],Me[Ue]=null}var Ie=null,Ae=null,J=!1,Xe=null;function fd(t,e){var n=Fe(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lc(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ie=t,Ae=Lt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ie=t,Ae=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=an!==null?{id:mt,overflow:gt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fe(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ie=t,Ae=null,!0):!1;default:return!1}}function Vo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ko(t){if(J){var e=Ae;if(e){var n=e;if(!lc(t,e)){if(Vo(t))throw Error(E(418));e=Lt(n.nextSibling);var r=Ie;e&&lc(t,e)?fd(r,n):(t.flags=t.flags&-4097|2,J=!1,Ie=t)}}else{if(Vo(t))throw Error(E(418));t.flags=t.flags&-4097|2,J=!1,Ie=t}}}function cc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ie=t}function gs(t){if(t!==Ie)return!1;if(!J)return cc(t),J=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bo(t.type,t.memoizedProps)),e&&(e=Ae)){if(Vo(t))throw pd(),Error(E(418));for(;e;)fd(t,e),e=Lt(e.nextSibling)}if(cc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ae=Lt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ae=null}}else Ae=Ie?Lt(t.stateNode.nextSibling):null;return!0}function pd(){for(var t=Ae;t;)t=Lt(t.nextSibling)}function Wn(){Ae=Ie=null,J=!1}function Va(t){Xe===null?Xe=[t]:Xe.push(t)}var Up=bt.ReactCurrentBatchConfig;function hr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function vs(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function uc(t){var e=t._init;return e(t._payload)}function md(t){function e(x,g){if(t){var p=x.deletions;p===null?(x.deletions=[g],x.flags|=16):p.push(g)}}function n(x,g){if(!t)return null;for(;g!==null;)e(x,g),g=g.sibling;return null}function r(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function s(x,g){return x=Ut(x,g),x.index=0,x.sibling=null,x}function i(x,g,p){return x.index=p,t?(p=x.alternate,p!==null?(p=p.index,p<g?(x.flags|=2,g):p):(x.flags|=2,g)):(x.flags|=1048576,g)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,g,p,y){return g===null||g.tag!==6?(g=ao(p,x.mode,y),g.return=x,g):(g=s(g,p),g.return=x,g)}function c(x,g,p,y){var w=p.type;return w===Sn?h(x,g,p.props.children,y,p.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===St&&uc(w)===g.type)?(y=s(g,p.props),y.ref=hr(x,g,p),y.return=x,y):(y=Ds(p.type,p.key,p.props,null,x.mode,y),y.ref=hr(x,g,p),y.return=x,y)}function u(x,g,p,y){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=lo(p,x.mode,y),g.return=x,g):(g=s(g,p.children||[]),g.return=x,g)}function h(x,g,p,y,w){return g===null||g.tag!==7?(g=sn(p,x.mode,y,w),g.return=x,g):(g=s(g,p),g.return=x,g)}function d(x,g,p){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ao(""+g,x.mode,p),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case os:return p=Ds(g.type,g.key,g.props,null,x.mode,p),p.ref=hr(x,null,g),p.return=x,p;case Nn:return g=lo(g,x.mode,p),g.return=x,g;case St:var y=g._init;return d(x,y(g._payload),p)}if(vr(g)||ar(g))return g=sn(g,x.mode,p,null),g.return=x,g;vs(x,g)}return null}function m(x,g,p,y){var w=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return w!==null?null:l(x,g,""+p,y);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case os:return p.key===w?c(x,g,p,y):null;case Nn:return p.key===w?u(x,g,p,y):null;case St:return w=p._init,m(x,g,w(p._payload),y)}if(vr(p)||ar(p))return w!==null?null:h(x,g,p,y,null);vs(x,p)}return null}function v(x,g,p,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return x=x.get(p)||null,l(g,x,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case os:return x=x.get(y.key===null?p:y.key)||null,c(g,x,y,w);case Nn:return x=x.get(y.key===null?p:y.key)||null,u(g,x,y,w);case St:var b=y._init;return v(x,g,p,b(y._payload),w)}if(vr(y)||ar(y))return x=x.get(p)||null,h(g,x,y,w,null);vs(g,y)}return null}function f(x,g,p,y){for(var w=null,b=null,j=g,N=g=0,I=null;j!==null&&N<p.length;N++){j.index>N?(I=j,j=null):I=j.sibling;var $=m(x,j,p[N],y);if($===null){j===null&&(j=I);break}t&&j&&$.alternate===null&&e(x,j),g=i($,g,N),b===null?w=$:b.sibling=$,b=$,j=I}if(N===p.length)return n(x,j),J&&Jt(x,N),w;if(j===null){for(;N<p.length;N++)j=d(x,p[N],y),j!==null&&(g=i(j,g,N),b===null?w=j:b.sibling=j,b=j);return J&&Jt(x,N),w}for(j=r(x,j);N<p.length;N++)I=v(j,x,N,p[N],y),I!==null&&(t&&I.alternate!==null&&j.delete(I.key===null?N:I.key),g=i(I,g,N),b===null?w=I:b.sibling=I,b=I);return t&&j.forEach(function(C){return e(x,C)}),J&&Jt(x,N),w}function _(x,g,p,y){var w=ar(p);if(typeof w!="function")throw Error(E(150));if(p=w.call(p),p==null)throw Error(E(151));for(var b=w=null,j=g,N=g=0,I=null,$=p.next();j!==null&&!$.done;N++,$=p.next()){j.index>N?(I=j,j=null):I=j.sibling;var C=m(x,j,$.value,y);if(C===null){j===null&&(j=I);break}t&&j&&C.alternate===null&&e(x,j),g=i(C,g,N),b===null?w=C:b.sibling=C,b=C,j=I}if($.done)return n(x,j),J&&Jt(x,N),w;if(j===null){for(;!$.done;N++,$=p.next())$=d(x,$.value,y),$!==null&&(g=i($,g,N),b===null?w=$:b.sibling=$,b=$);return J&&Jt(x,N),w}for(j=r(x,j);!$.done;N++,$=p.next())$=v(j,x,N,$.value,y),$!==null&&(t&&$.alternate!==null&&j.delete($.key===null?N:$.key),g=i($,g,N),b===null?w=$:b.sibling=$,b=$);return t&&j.forEach(function(O){return e(x,O)}),J&&Jt(x,N),w}function S(x,g,p,y){if(typeof p=="object"&&p!==null&&p.type===Sn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case os:e:{for(var w=p.key,b=g;b!==null;){if(b.key===w){if(w=p.type,w===Sn){if(b.tag===7){n(x,b.sibling),g=s(b,p.props.children),g.return=x,x=g;break e}}else if(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===St&&uc(w)===b.type){n(x,b.sibling),g=s(b,p.props),g.ref=hr(x,b,p),g.return=x,x=g;break e}n(x,b);break}else e(x,b);b=b.sibling}p.type===Sn?(g=sn(p.props.children,x.mode,y,p.key),g.return=x,x=g):(y=Ds(p.type,p.key,p.props,null,x.mode,y),y.ref=hr(x,g,p),y.return=x,x=y)}return a(x);case Nn:e:{for(b=p.key;g!==null;){if(g.key===b)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){n(x,g.sibling),g=s(g,p.children||[]),g.return=x,x=g;break e}else{n(x,g);break}else e(x,g);g=g.sibling}g=lo(p,x.mode,y),g.return=x,x=g}return a(x);case St:return b=p._init,S(x,g,b(p._payload),y)}if(vr(p))return f(x,g,p,y);if(ar(p))return _(x,g,p,y);vs(x,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,g!==null&&g.tag===6?(n(x,g.sibling),g=s(g,p),g.return=x,x=g):(n(x,g),g=ao(p,x.mode,y),g.return=x,x=g),a(x)):n(x,g)}return S}var Vn=md(!0),gd=md(!1),Xs=Wt(null),Ys=null,An=null,Ka=null;function Ga(){Ka=An=Ys=null}function Qa(t){var e=Xs.current;Q(Xs),t._currentValue=e}function Go(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fn(t,e){Ys=t,Ka=An=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pe=!0),t.firstContext=null)}function He(t){var e=t._currentValue;if(Ka!==t)if(t={context:t,memoizedValue:e,next:null},An===null){if(Ys===null)throw Error(E(308));An=t,Ys.dependencies={lanes:0,firstContext:t}}else An=An.next=t;return e}var tn=null;function Ja(t){tn===null?tn=[t]:tn.push(t)}function vd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ja(e)):(n.next=s.next,s.next=n),e.interleaved=n,wt(t,r)}function wt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Et=!1;function Xa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Dt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,wt(t,n)}return s=r.interleaved,s===null?(e.next=e,Ja(r)):(e.next=s.next,s.next=e),r.interleaved=e,wt(t,n)}function Os(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,La(t,n)}}function dc(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zs(t,e,n,r){var s=t.updateQueue;Et=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;a=0,h=u=c=null,l=i;do{var m=l.lane,v=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var f=t,_=l;switch(m=e,v=n,_.tag){case 1:if(f=_.payload,typeof f=="function"){d=f.call(v,d,m);break e}d=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=_.payload,m=typeof f=="function"?f.call(v,d,m):f,m==null)break e;d=ee({},d,m);break e;case 2:Et=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=v,c=d):h=h.next=v,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);cn|=a,t.lanes=a,t.memoizedState=d}}function hc(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(E(191,s));s.call(r)}}}var ts={},ot=Wt(ts),Hr=Wt(ts),Wr=Wt(ts);function nn(t){if(t===ts)throw Error(E(174));return t}function Ya(t,e){switch(K(Wr,e),K(Hr,t),K(ot,ts),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Co(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Co(e,t)}Q(ot),K(ot,e)}function Kn(){Q(ot),Q(Hr),Q(Wr)}function xd(t){nn(Wr.current);var e=nn(ot.current),n=Co(e,t.type);e!==n&&(K(Hr,t),K(ot,n))}function Za(t){Hr.current===t&&(Q(ot),Q(Hr))}var Y=Wt(0);function ei(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var to=[];function el(){for(var t=0;t<to.length;t++)to[t]._workInProgressVersionPrimary=null;to.length=0}var Rs=bt.ReactCurrentDispatcher,no=bt.ReactCurrentBatchConfig,ln=0,Z=null,le=null,ue=null,ti=!1,Sr=!1,Vr=0,Fp=0;function ge(){throw Error(E(321))}function tl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!et(t[n],e[n]))return!1;return!0}function nl(t,e,n,r,s,i){if(ln=i,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rs.current=t===null||t.memoizedState===null?Wp:Vp,t=n(r,s),Sr){i=0;do{if(Sr=!1,Vr=0,25<=i)throw Error(E(301));i+=1,ue=le=null,e.updateQueue=null,Rs.current=Kp,t=n(r,s)}while(Sr)}if(Rs.current=ni,e=le!==null&&le.next!==null,ln=0,ue=le=Z=null,ti=!1,e)throw Error(E(300));return t}function rl(){var t=Vr!==0;return Vr=0,t}function nt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?Z.memoizedState=ue=t:ue=ue.next=t,ue}function We(){if(le===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=le.next;var e=ue===null?Z.memoizedState:ue.next;if(e!==null)ue=e,le=t;else{if(t===null)throw Error(E(310));le=t,t={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},ue===null?Z.memoizedState=ue=t:ue=ue.next=t}return ue}function Kr(t,e){return typeof e=="function"?e(t):e}function ro(t){var e=We(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=le,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var h=u.lane;if((ln&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,a=r):c=c.next=d,Z.lanes|=h,cn|=h}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,et(r,e.memoizedState)||(Pe=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Z.lanes|=i,cn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function so(t){var e=We(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);et(i,e.memoizedState)||(Pe=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function wd(){}function _d(t,e){var n=Z,r=We(),s=e(),i=!et(r.memoizedState,s);if(i&&(r.memoizedState=s,Pe=!0),r=r.queue,sl(kd.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ue!==null&&ue.memoizedState.tag&1){if(n.flags|=2048,Gr(9,jd.bind(null,n,r,s,e),void 0,null),de===null)throw Error(E(349));ln&30||bd(n,e,s)}return s}function bd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jd(t,e,n,r){e.value=n,e.getSnapshot=r,Nd(e)&&Sd(t)}function kd(t,e,n){return n(function(){Nd(e)&&Sd(t)})}function Nd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!et(t,n)}catch{return!0}}function Sd(t){var e=wt(t,1);e!==null&&Ze(e,t,1,-1)}function fc(t){var e=nt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:t},e.queue=t,t=t.dispatch=Hp.bind(null,Z,t),[e.memoizedState,t]}function Gr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ed(){return We().memoizedState}function $s(t,e,n,r){var s=nt();Z.flags|=t,s.memoizedState=Gr(1|e,n,void 0,r===void 0?null:r)}function wi(t,e,n,r){var s=We();r=r===void 0?null:r;var i=void 0;if(le!==null){var a=le.memoizedState;if(i=a.destroy,r!==null&&tl(r,a.deps)){s.memoizedState=Gr(e,n,i,r);return}}Z.flags|=t,s.memoizedState=Gr(1|e,n,i,r)}function pc(t,e){return $s(8390656,8,t,e)}function sl(t,e){return wi(2048,8,t,e)}function Cd(t,e){return wi(4,2,t,e)}function Pd(t,e){return wi(4,4,t,e)}function Td(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Od(t,e,n){return n=n!=null?n.concat([t]):null,wi(4,4,Td.bind(null,e,t),n)}function il(){}function Rd(t,e){var n=We();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $d(t,e){var n=We();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ad(t,e,n){return ln&21?(et(n,e)||(n=Mu(),Z.lanes|=n,cn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pe=!0),t.memoizedState=n)}function Bp(t,e){var n=W;W=n!==0&&4>n?n:4,t(!0);var r=no.transition;no.transition={};try{t(!1),e()}finally{W=n,no.transition=r}}function Id(){return We().memoizedState}function qp(t,e,n){var r=Mt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ld(t))Dd(e,n);else if(n=vd(t,e,n,r),n!==null){var s=ke();Ze(n,t,r,s),zd(n,e,r)}}function Hp(t,e,n){var r=Mt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ld(t))Dd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,et(l,a)){var c=e.interleaved;c===null?(s.next=s,Ja(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=vd(t,e,s,r),n!==null&&(s=ke(),Ze(n,t,r,s),zd(n,e,r))}}function Ld(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function Dd(t,e){Sr=ti=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,La(t,n)}}var ni={readContext:He,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},Wp={readContext:He,useCallback:function(t,e){return nt().memoizedState=[t,e===void 0?null:e],t},useContext:He,useEffect:pc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$s(4194308,4,Td.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $s(4194308,4,t,e)},useInsertionEffect:function(t,e){return $s(4,2,t,e)},useMemo:function(t,e){var n=nt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=nt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=qp.bind(null,Z,t),[r.memoizedState,t]},useRef:function(t){var e=nt();return t={current:t},e.memoizedState=t},useState:fc,useDebugValue:il,useDeferredValue:function(t){return nt().memoizedState=t},useTransition:function(){var t=fc(!1),e=t[0];return t=Bp.bind(null,t[1]),nt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Z,s=nt();if(J){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),de===null)throw Error(E(349));ln&30||bd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,pc(kd.bind(null,r,i,t),[t]),r.flags|=2048,Gr(9,jd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=nt(),e=de.identifierPrefix;if(J){var n=gt,r=mt;n=(r&~(1<<32-Ye(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Fp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Vp={readContext:He,useCallback:Rd,useContext:He,useEffect:sl,useImperativeHandle:Od,useInsertionEffect:Cd,useLayoutEffect:Pd,useMemo:$d,useReducer:ro,useRef:Ed,useState:function(){return ro(Kr)},useDebugValue:il,useDeferredValue:function(t){var e=We();return Ad(e,le.memoizedState,t)},useTransition:function(){var t=ro(Kr)[0],e=We().memoizedState;return[t,e]},useMutableSource:wd,useSyncExternalStore:_d,useId:Id,unstable_isNewReconciler:!1},Kp={readContext:He,useCallback:Rd,useContext:He,useEffect:sl,useImperativeHandle:Od,useInsertionEffect:Cd,useLayoutEffect:Pd,useMemo:$d,useReducer:so,useRef:Ed,useState:function(){return so(Kr)},useDebugValue:il,useDeferredValue:function(t){var e=We();return le===null?e.memoizedState=t:Ad(e,le.memoizedState,t)},useTransition:function(){var t=so(Kr)[0],e=We().memoizedState;return[t,e]},useMutableSource:wd,useSyncExternalStore:_d,useId:Id,unstable_isNewReconciler:!1};function Ge(t,e){if(t&&t.defaultProps){e=ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Qo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _i={isMounted:function(t){return(t=t._reactInternals)?hn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ke(),s=Mt(t),i=vt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Dt(t,i,s),e!==null&&(Ze(e,t,s,r),Os(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ke(),s=Mt(t),i=vt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Dt(t,i,s),e!==null&&(Ze(e,t,s,r),Os(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ke(),r=Mt(t),s=vt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Dt(t,s,r),e!==null&&(Ze(e,t,r,n),Os(e,t,r))}};function mc(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Ur(n,r)||!Ur(s,i):!0}function Md(t,e,n){var r=!1,s=Bt,i=e.contextType;return typeof i=="object"&&i!==null?i=He(i):(s=Oe(e)?on:xe.current,r=e.contextTypes,i=(r=r!=null)?Hn(t,s):Bt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_i,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function gc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_i.enqueueReplaceState(e,e.state,null)}function Jo(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Xa(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=He(i):(i=Oe(e)?on:xe.current,s.context=Hn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Qo(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&_i.enqueueReplaceState(s,s.state,null),Zs(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Gn(t,e){try{var n="",r=e;do n+=_f(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function io(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Gp=typeof WeakMap=="function"?WeakMap:Map;function Ud(t,e,n){n=vt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){si||(si=!0,aa=r),Xo(t,e)},n}function Fd(t,e,n){n=vt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Xo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Xo(t,e),typeof r!="function"&&(zt===null?zt=new Set([this]):zt.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function vc(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Gp;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=lm.bind(null,t,e,n),e.then(t,t))}function yc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xc(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vt(-1,1),e.tag=2,Dt(n,e,1))),n.lanes|=1),t)}var Qp=bt.ReactCurrentOwner,Pe=!1;function je(t,e,n,r){e.child=t===null?gd(e,null,n,r):Vn(e,t.child,n,r)}function wc(t,e,n,r,s){n=n.render;var i=e.ref;return Fn(e,s),r=nl(t,e,n,r,i,s),n=rl(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_t(t,e,s)):(J&&n&&Ha(e),e.flags|=1,je(t,e,r,s),e.child)}function _c(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!fl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Bd(t,e,i,r,s)):(t=Ds(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ur,n(a,r)&&t.ref===e.ref)return _t(t,e,s)}return e.flags|=1,t=Ut(i,r),t.ref=e.ref,t.return=e,e.child=t}function Bd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ur(i,r)&&t.ref===e.ref)if(Pe=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Pe=!0);else return e.lanes=t.lanes,_t(t,e,s)}return Yo(t,e,n,r,s)}function qd(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(Ln,$e),$e|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,K(Ln,$e),$e|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,K(Ln,$e),$e|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,K(Ln,$e),$e|=r;return je(t,e,s,n),e.child}function Hd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Yo(t,e,n,r,s){var i=Oe(n)?on:xe.current;return i=Hn(e,i),Fn(e,s),n=nl(t,e,n,r,i,s),r=rl(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_t(t,e,s)):(J&&r&&Ha(e),e.flags|=1,je(t,e,n,s),e.child)}function bc(t,e,n,r,s){if(Oe(n)){var i=!0;Gs(e)}else i=!1;if(Fn(e,s),e.stateNode===null)As(t,e),Md(e,n,r),Jo(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=He(u):(u=Oe(n)?on:xe.current,u=Hn(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&gc(e,a,r,u),Et=!1;var m=e.memoizedState;a.state=m,Zs(e,r,a,s),c=e.memoizedState,l!==r||m!==c||Te.current||Et?(typeof h=="function"&&(Qo(e,n,h,r),c=e.memoizedState),(l=Et||mc(e,n,l,r,m,c,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,yd(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Ge(e.type,l),a.props=u,d=e.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=He(c):(c=Oe(n)?on:xe.current,c=Hn(e,c));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==d||m!==c)&&gc(e,a,r,c),Et=!1,m=e.memoizedState,a.state=m,Zs(e,r,a,s);var f=e.memoizedState;l!==d||m!==f||Te.current||Et?(typeof v=="function"&&(Qo(e,n,v,r),f=e.memoizedState),(u=Et||mc(e,n,u,r,m,f,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,f,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,f,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=f),a.props=r,a.state=f,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Zo(t,e,n,r,i,s)}function Zo(t,e,n,r,s,i){Hd(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&ac(e,n,!1),_t(t,e,i);r=e.stateNode,Qp.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Vn(e,t.child,null,i),e.child=Vn(e,null,l,i)):je(t,e,l,i),e.memoizedState=r.state,s&&ac(e,n,!0),e.child}function Wd(t){var e=t.stateNode;e.pendingContext?oc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&oc(t,e.context,!1),Ya(t,e.containerInfo)}function jc(t,e,n,r,s){return Wn(),Va(s),e.flags|=256,je(t,e,n,r),e.child}var ea={dehydrated:null,treeContext:null,retryLane:0};function ta(t){return{baseLanes:t,cachePool:null,transitions:null}}function Vd(t,e,n){var r=e.pendingProps,s=Y.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),K(Y,s&1),t===null)return Ko(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ki(a,r,0,null),t=sn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ta(n),e.memoizedState=ea,t):ol(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Jp(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ut(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ut(l,i):(i=sn(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?ta(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=ea,r}return i=t.child,t=i.sibling,r=Ut(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ol(t,e){return e=ki({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ys(t,e,n,r){return r!==null&&Va(r),Vn(e,t.child,null,n),t=ol(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Jp(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=io(Error(E(422))),ys(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ki({mode:"visible",children:r.children},s,0,null),i=sn(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Vn(e,t.child,null,a),e.child.memoizedState=ta(a),e.memoizedState=ea,i);if(!(e.mode&1))return ys(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(E(419)),r=io(i,r,void 0),ys(t,e,a,r)}if(l=(a&t.childLanes)!==0,Pe||l){if(r=de,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,wt(t,s),Ze(r,t,s,-1))}return hl(),r=io(Error(E(421))),ys(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=cm.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ae=Lt(s.nextSibling),Ie=e,J=!0,Xe=null,t!==null&&(Me[Ue++]=mt,Me[Ue++]=gt,Me[Ue++]=an,mt=t.id,gt=t.overflow,an=e),e=ol(e,r.children),e.flags|=4096,e)}function kc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Go(t.return,e,n)}function oo(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Kd(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(je(t,e,r.children,n),r=Y.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kc(t,n,e);else if(t.tag===19)kc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(K(Y,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ei(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),oo(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ei(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}oo(e,!0,n,null,i);break;case"together":oo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function As(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _t(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),cn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=Ut(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ut(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Xp(t,e,n){switch(e.tag){case 3:Wd(e),Wn();break;case 5:xd(e);break;case 1:Oe(e.type)&&Gs(e);break;case 4:Ya(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;K(Xs,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(K(Y,Y.current&1),e.flags|=128,null):n&e.child.childLanes?Vd(t,e,n):(K(Y,Y.current&1),t=_t(t,e,n),t!==null?t.sibling:null);K(Y,Y.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Kd(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(Y,Y.current),r)break;return null;case 22:case 23:return e.lanes=0,qd(t,e,n)}return _t(t,e,n)}var Gd,na,Qd,Jd;Gd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};na=function(){};Qd=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,nn(ot.current);var i=null;switch(n){case"input":s=ko(t,s),r=ko(t,r),i=[];break;case"select":s=ee({},s,{value:void 0}),r=ee({},r,{value:void 0}),i=[];break;case"textarea":s=Eo(t,s),r=Eo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vs)}Po(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($r.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($r.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&G("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Jd=function(t,e,n,r){n!==r&&(e.flags|=4)};function fr(t,e){if(!J)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Yp(t,e,n){var r=e.pendingProps;switch(Wa(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(e),null;case 1:return Oe(e.type)&&Ks(),ve(e),null;case 3:return r=e.stateNode,Kn(),Q(Te),Q(xe),el(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xe!==null&&(ua(Xe),Xe=null))),na(t,e),ve(e),null;case 5:Za(e);var s=nn(Wr.current);if(n=e.type,t!==null&&e.stateNode!=null)Qd(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return ve(e),null}if(t=nn(ot.current),gs(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[st]=e,r[qr]=i,t=(e.mode&1)!==0,n){case"dialog":G("cancel",r),G("close",r);break;case"iframe":case"object":case"embed":G("load",r);break;case"video":case"audio":for(s=0;s<xr.length;s++)G(xr[s],r);break;case"source":G("error",r);break;case"img":case"image":case"link":G("error",r),G("load",r);break;case"details":G("toggle",r);break;case"input":$l(r,i),G("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},G("invalid",r);break;case"textarea":Il(r,i),G("invalid",r)}Po(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ms(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ms(r.textContent,l,t),s=["children",""+l]):$r.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&G("scroll",r)}switch(n){case"input":as(r),Al(r,i,!0);break;case"textarea":as(r),Ll(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Vs)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ku(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[st]=e,t[qr]=r,Gd(t,e,!1,!1),e.stateNode=t;e:{switch(a=To(n,r),n){case"dialog":G("cancel",t),G("close",t),s=r;break;case"iframe":case"object":case"embed":G("load",t),s=r;break;case"video":case"audio":for(s=0;s<xr.length;s++)G(xr[s],t);s=r;break;case"source":G("error",t),s=r;break;case"img":case"image":case"link":G("error",t),G("load",t),s=r;break;case"details":G("toggle",t),s=r;break;case"input":$l(t,r),s=ko(t,r),G("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ee({},r,{value:void 0}),G("invalid",t);break;case"textarea":Il(t,r),s=Eo(t,r),G("invalid",t);break;default:s=r}Po(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Eu(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Nu(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ar(t,c):typeof c=="number"&&Ar(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($r.hasOwnProperty(i)?c!=null&&i==="onScroll"&&G("scroll",t):c!=null&&Ta(t,i,c,a))}switch(n){case"input":as(t),Al(t,r,!1);break;case"textarea":as(t),Ll(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ft(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Dn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Dn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Vs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ve(e),null;case 6:if(t&&e.stateNode!=null)Jd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=nn(Wr.current),nn(ot.current),gs(e)){if(r=e.stateNode,n=e.memoizedProps,r[st]=e,(i=r.nodeValue!==n)&&(t=Ie,t!==null))switch(t.tag){case 3:ms(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ms(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[st]=e,e.stateNode=r}return ve(e),null;case 13:if(Q(Y),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(J&&Ae!==null&&e.mode&1&&!(e.flags&128))pd(),Wn(),e.flags|=98560,i=!1;else if(i=gs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[st]=e}else Wn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ve(e),i=!1}else Xe!==null&&(ua(Xe),Xe=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Y.current&1?ce===0&&(ce=3):hl())),e.updateQueue!==null&&(e.flags|=4),ve(e),null);case 4:return Kn(),na(t,e),t===null&&Fr(e.stateNode.containerInfo),ve(e),null;case 10:return Qa(e.type._context),ve(e),null;case 17:return Oe(e.type)&&Ks(),ve(e),null;case 19:if(Q(Y),i=e.memoizedState,i===null)return ve(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)fr(i,!1);else{if(ce!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ei(t),a!==null){for(e.flags|=128,fr(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return K(Y,Y.current&1|2),e.child}t=t.sibling}i.tail!==null&&re()>Qn&&(e.flags|=128,r=!0,fr(i,!1),e.lanes=4194304)}else{if(!r)if(t=ei(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!J)return ve(e),null}else 2*re()-i.renderingStartTime>Qn&&n!==1073741824&&(e.flags|=128,r=!0,fr(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=re(),e.sibling=null,n=Y.current,K(Y,r?n&1|2:n&1),e):(ve(e),null);case 22:case 23:return dl(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$e&1073741824&&(ve(e),e.subtreeFlags&6&&(e.flags|=8192)):ve(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function Zp(t,e){switch(Wa(e),e.tag){case 1:return Oe(e.type)&&Ks(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Kn(),Q(Te),Q(xe),el(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Za(e),null;case 13:if(Q(Y),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));Wn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Q(Y),null;case 4:return Kn(),null;case 10:return Qa(e.type._context),null;case 22:case 23:return dl(),null;case 24:return null;default:return null}}var xs=!1,ye=!1,em=typeof WeakSet=="function"?WeakSet:Set,A=null;function In(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){te(t,e,r)}else n.current=null}function ra(t,e,n){try{n()}catch(r){te(t,e,r)}}var Nc=!1;function tm(t,e){if(Uo=qs,t=td(),qa(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=t,m=null;t:for(;;){for(var v;d!==n||s!==0&&d.nodeType!==3||(l=a+s),d!==i||r!==0&&d.nodeType!==3||(c=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(v=d.firstChild)!==null;)m=d,d=v;for(;;){if(d===t)break t;if(m===n&&++u===s&&(l=a),m===i&&++h===r&&(c=a),(v=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fo={focusedElem:t,selectionRange:n},qs=!1,A=e;A!==null;)if(e=A,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,A=t;else for(;A!==null;){e=A;try{var f=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var _=f.memoizedProps,S=f.memoizedState,x=e.stateNode,g=x.getSnapshotBeforeUpdate(e.elementType===e.type?_:Ge(e.type,_),S);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(y){te(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,A=t;break}A=e.return}return f=Nc,Nc=!1,f}function Er(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ra(e,n,i)}s=s.next}while(s!==r)}}function bi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sa(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Xd(t){var e=t.alternate;e!==null&&(t.alternate=null,Xd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[st],delete e[qr],delete e[Ho],delete e[Dp],delete e[zp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Yd(t){return t.tag===5||t.tag===3||t.tag===4}function Sc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ia(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vs));else if(r!==4&&(t=t.child,t!==null))for(ia(t,e,n),t=t.sibling;t!==null;)ia(t,e,n),t=t.sibling}function oa(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(oa(t,e,n),t=t.sibling;t!==null;)oa(t,e,n),t=t.sibling}var he=null,Qe=!1;function jt(t,e,n){for(n=n.child;n!==null;)Zd(t,e,n),n=n.sibling}function Zd(t,e,n){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(pi,n)}catch{}switch(n.tag){case 5:ye||In(n,e);case 6:var r=he,s=Qe;he=null,jt(t,e,n),he=r,Qe=s,he!==null&&(Qe?(t=he,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):he.removeChild(n.stateNode));break;case 18:he!==null&&(Qe?(t=he,n=n.stateNode,t.nodeType===8?Zi(t.parentNode,n):t.nodeType===1&&Zi(t,n),zr(t)):Zi(he,n.stateNode));break;case 4:r=he,s=Qe,he=n.stateNode.containerInfo,Qe=!0,jt(t,e,n),he=r,Qe=s;break;case 0:case 11:case 14:case 15:if(!ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&ra(n,e,a),s=s.next}while(s!==r)}jt(t,e,n);break;case 1:if(!ye&&(In(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){te(n,e,l)}jt(t,e,n);break;case 21:jt(t,e,n);break;case 22:n.mode&1?(ye=(r=ye)||n.memoizedState!==null,jt(t,e,n),ye=r):jt(t,e,n);break;default:jt(t,e,n)}}function Ec(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new em),e.forEach(function(r){var s=um.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ve(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:he=l.stateNode,Qe=!1;break e;case 3:he=l.stateNode.containerInfo,Qe=!0;break e;case 4:he=l.stateNode.containerInfo,Qe=!0;break e}l=l.return}if(he===null)throw Error(E(160));Zd(i,a,s),he=null,Qe=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){te(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)eh(e,t),e=e.sibling}function eh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ve(e,t),tt(t),r&4){try{Er(3,t,t.return),bi(3,t)}catch(_){te(t,t.return,_)}try{Er(5,t,t.return)}catch(_){te(t,t.return,_)}}break;case 1:Ve(e,t),tt(t),r&512&&n!==null&&In(n,n.return);break;case 5:if(Ve(e,t),tt(t),r&512&&n!==null&&In(n,n.return),t.flags&32){var s=t.stateNode;try{Ar(s,"")}catch(_){te(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&bu(s,i),To(l,a);var u=To(l,i);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];h==="style"?Eu(s,d):h==="dangerouslySetInnerHTML"?Nu(s,d):h==="children"?Ar(s,d):Ta(s,h,d,u)}switch(l){case"input":No(s,i);break;case"textarea":ju(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Dn(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?Dn(s,!!i.multiple,i.defaultValue,!0):Dn(s,!!i.multiple,i.multiple?[]:"",!1))}s[qr]=i}catch(_){te(t,t.return,_)}}break;case 6:if(Ve(e,t),tt(t),r&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){te(t,t.return,_)}}break;case 3:if(Ve(e,t),tt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zr(e.containerInfo)}catch(_){te(t,t.return,_)}break;case 4:Ve(e,t),tt(t);break;case 13:Ve(e,t),tt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(cl=re())),r&4&&Ec(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(ye=(u=ye)||h,Ve(e,t),ye=u):Ve(e,t),tt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(A=t,h=t.child;h!==null;){for(d=A=h;A!==null;){switch(m=A,v=m.child,m.tag){case 0:case 11:case 14:case 15:Er(4,m,m.return);break;case 1:In(m,m.return);var f=m.stateNode;if(typeof f.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(_){te(r,n,_)}}break;case 5:In(m,m.return);break;case 22:if(m.memoizedState!==null){Pc(d);continue}}v!==null?(v.return=m,A=v):Pc(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Su("display",a))}catch(_){te(t,t.return,_)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){te(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ve(e,t),tt(t),r&4&&Ec(t);break;case 21:break;default:Ve(e,t),tt(t)}}function tt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Yd(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ar(s,""),r.flags&=-33);var i=Sc(t);oa(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Sc(t);ia(t,l,a);break;default:throw Error(E(161))}}catch(c){te(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nm(t,e,n){A=t,th(t)}function th(t,e,n){for(var r=(t.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||xs;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ye;l=xs;var u=ye;if(xs=a,(ye=c)&&!u)for(A=s;A!==null;)a=A,c=a.child,a.tag===22&&a.memoizedState!==null?Tc(s):c!==null?(c.return=a,A=c):Tc(s);for(;i!==null;)A=i,th(i),i=i.sibling;A=s,xs=l,ye=u}Cc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):Cc(t)}}function Cc(t){for(;A!==null;){var e=A;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ye||bi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ye)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ge(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&hc(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}hc(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&zr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ye||e.flags&512&&sa(e)}catch(m){te(e,e.return,m)}}if(e===t){A=null;break}if(n=e.sibling,n!==null){n.return=e.return,A=n;break}A=e.return}}function Pc(t){for(;A!==null;){var e=A;if(e===t){A=null;break}var n=e.sibling;if(n!==null){n.return=e.return,A=n;break}A=e.return}}function Tc(t){for(;A!==null;){var e=A;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bi(4,e)}catch(c){te(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){te(e,s,c)}}var i=e.return;try{sa(e)}catch(c){te(e,i,c)}break;case 5:var a=e.return;try{sa(e)}catch(c){te(e,a,c)}}}catch(c){te(e,e.return,c)}if(e===t){A=null;break}var l=e.sibling;if(l!==null){l.return=e.return,A=l;break}A=e.return}}var rm=Math.ceil,ri=bt.ReactCurrentDispatcher,al=bt.ReactCurrentOwner,Be=bt.ReactCurrentBatchConfig,q=0,de=null,ie=null,fe=0,$e=0,Ln=Wt(0),ce=0,Qr=null,cn=0,ji=0,ll=0,Cr=null,Ee=null,cl=0,Qn=1/0,ht=null,si=!1,aa=null,zt=null,ws=!1,Rt=null,ii=0,Pr=0,la=null,Is=-1,Ls=0;function ke(){return q&6?re():Is!==-1?Is:Is=re()}function Mt(t){return t.mode&1?q&2&&fe!==0?fe&-fe:Up.transition!==null?(Ls===0&&(Ls=Mu()),Ls):(t=W,t!==0||(t=window.event,t=t===void 0?16:Vu(t.type)),t):1}function Ze(t,e,n,r){if(50<Pr)throw Pr=0,la=null,Error(E(185));Yr(t,n,r),(!(q&2)||t!==de)&&(t===de&&(!(q&2)&&(ji|=n),ce===4&&Pt(t,fe)),Re(t,r),n===1&&q===0&&!(e.mode&1)&&(Qn=re()+500,xi&&Vt()))}function Re(t,e){var n=t.callbackNode;Uf(t,e);var r=Bs(t,t===de?fe:0);if(r===0)n!==null&&Ml(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ml(n),e===1)t.tag===0?Mp(Oc.bind(null,t)):dd(Oc.bind(null,t)),Ip(function(){!(q&6)&&Vt()}),n=null;else{switch(Uu(r)){case 1:n=Ia;break;case 4:n=Du;break;case 16:n=Fs;break;case 536870912:n=zu;break;default:n=Fs}n=ch(n,nh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nh(t,e){if(Is=-1,Ls=0,q&6)throw Error(E(327));var n=t.callbackNode;if(Bn()&&t.callbackNode!==n)return null;var r=Bs(t,t===de?fe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=oi(t,r);else{e=r;var s=q;q|=2;var i=sh();(de!==t||fe!==e)&&(ht=null,Qn=re()+500,rn(t,e));do try{om();break}catch(l){rh(t,l)}while(!0);Ga(),ri.current=i,q=s,ie!==null?e=0:(de=null,fe=0,e=ce)}if(e!==0){if(e===2&&(s=Io(t),s!==0&&(r=s,e=ca(t,s))),e===1)throw n=Qr,rn(t,0),Pt(t,r),Re(t,re()),n;if(e===6)Pt(t,r);else{if(s=t.current.alternate,!(r&30)&&!sm(s)&&(e=oi(t,r),e===2&&(i=Io(t),i!==0&&(r=i,e=ca(t,i))),e===1))throw n=Qr,rn(t,0),Pt(t,r),Re(t,re()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:Xt(t,Ee,ht);break;case 3:if(Pt(t,r),(r&130023424)===r&&(e=cl+500-re(),10<e)){if(Bs(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ke(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=qo(Xt.bind(null,t,Ee,ht),e);break}Xt(t,Ee,ht);break;case 4:if(Pt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Ye(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rm(r/1960))-r,10<r){t.timeoutHandle=qo(Xt.bind(null,t,Ee,ht),r);break}Xt(t,Ee,ht);break;case 5:Xt(t,Ee,ht);break;default:throw Error(E(329))}}}return Re(t,re()),t.callbackNode===n?nh.bind(null,t):null}function ca(t,e){var n=Cr;return t.current.memoizedState.isDehydrated&&(rn(t,e).flags|=256),t=oi(t,e),t!==2&&(e=Ee,Ee=n,e!==null&&ua(e)),t}function ua(t){Ee===null?Ee=t:Ee.push.apply(Ee,t)}function sm(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!et(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pt(t,e){for(e&=~ll,e&=~ji,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ye(e),r=1<<n;t[n]=-1,e&=~r}}function Oc(t){if(q&6)throw Error(E(327));Bn();var e=Bs(t,0);if(!(e&1))return Re(t,re()),null;var n=oi(t,e);if(t.tag!==0&&n===2){var r=Io(t);r!==0&&(e=r,n=ca(t,r))}if(n===1)throw n=Qr,rn(t,0),Pt(t,e),Re(t,re()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xt(t,Ee,ht),Re(t,re()),null}function ul(t,e){var n=q;q|=1;try{return t(e)}finally{q=n,q===0&&(Qn=re()+500,xi&&Vt())}}function un(t){Rt!==null&&Rt.tag===0&&!(q&6)&&Bn();var e=q;q|=1;var n=Be.transition,r=W;try{if(Be.transition=null,W=1,t)return t()}finally{W=r,Be.transition=n,q=e,!(q&6)&&Vt()}}function dl(){$e=Ln.current,Q(Ln)}function rn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ap(n)),ie!==null)for(n=ie.return;n!==null;){var r=n;switch(Wa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ks();break;case 3:Kn(),Q(Te),Q(xe),el();break;case 5:Za(r);break;case 4:Kn();break;case 13:Q(Y);break;case 19:Q(Y);break;case 10:Qa(r.type._context);break;case 22:case 23:dl()}n=n.return}if(de=t,ie=t=Ut(t.current,null),fe=$e=e,ce=0,Qr=null,ll=ji=cn=0,Ee=Cr=null,tn!==null){for(e=0;e<tn.length;e++)if(n=tn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}tn=null}return t}function rh(t,e){do{var n=ie;try{if(Ga(),Rs.current=ni,ti){for(var r=Z.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ti=!1}if(ln=0,ue=le=Z=null,Sr=!1,Vr=0,al.current=null,n===null||n.return===null){ce=1,Qr=e,ie=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=fe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=yc(a);if(v!==null){v.flags&=-257,xc(v,a,l,i,e),v.mode&1&&vc(i,u,e),e=v,c=u;var f=e.updateQueue;if(f===null){var _=new Set;_.add(c),e.updateQueue=_}else f.add(c);break e}else{if(!(e&1)){vc(i,u,e),hl();break e}c=Error(E(426))}}else if(J&&l.mode&1){var S=yc(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),xc(S,a,l,i,e),Va(Gn(c,l));break e}}i=c=Gn(c,l),ce!==4&&(ce=2),Cr===null?Cr=[i]:Cr.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=Ud(i,c,e);dc(i,x);break e;case 1:l=c;var g=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(zt===null||!zt.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var y=Fd(i,l,e);dc(i,y);break e}}i=i.return}while(i!==null)}oh(n)}catch(w){e=w,ie===n&&n!==null&&(ie=n=n.return);continue}break}while(!0)}function sh(){var t=ri.current;return ri.current=ni,t===null?ni:t}function hl(){(ce===0||ce===3||ce===2)&&(ce=4),de===null||!(cn&268435455)&&!(ji&268435455)||Pt(de,fe)}function oi(t,e){var n=q;q|=2;var r=sh();(de!==t||fe!==e)&&(ht=null,rn(t,e));do try{im();break}catch(s){rh(t,s)}while(!0);if(Ga(),q=n,ri.current=r,ie!==null)throw Error(E(261));return de=null,fe=0,ce}function im(){for(;ie!==null;)ih(ie)}function om(){for(;ie!==null&&!Of();)ih(ie)}function ih(t){var e=lh(t.alternate,t,$e);t.memoizedProps=t.pendingProps,e===null?oh(t):ie=e,al.current=null}function oh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Zp(n,e),n!==null){n.flags&=32767,ie=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ce=6,ie=null;return}}else if(n=Yp(n,e,$e),n!==null){ie=n;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);ce===0&&(ce=5)}function Xt(t,e,n){var r=W,s=Be.transition;try{Be.transition=null,W=1,am(t,e,n,r)}finally{Be.transition=s,W=r}return null}function am(t,e,n,r){do Bn();while(Rt!==null);if(q&6)throw Error(E(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ff(t,i),t===de&&(ie=de=null,fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ws||(ws=!0,ch(Fs,function(){return Bn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Be.transition,Be.transition=null;var a=W;W=1;var l=q;q|=4,al.current=null,tm(t,n),eh(n,t),Ep(Fo),qs=!!Uo,Fo=Uo=null,t.current=n,nm(n),Rf(),q=l,W=a,Be.transition=i}else t.current=n;if(ws&&(ws=!1,Rt=t,ii=s),i=t.pendingLanes,i===0&&(zt=null),If(n.stateNode),Re(t,re()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(si)throw si=!1,t=aa,aa=null,t;return ii&1&&t.tag!==0&&Bn(),i=t.pendingLanes,i&1?t===la?Pr++:(Pr=0,la=t):Pr=0,Vt(),null}function Bn(){if(Rt!==null){var t=Uu(ii),e=Be.transition,n=W;try{if(Be.transition=null,W=16>t?16:t,Rt===null)var r=!1;else{if(t=Rt,Rt=null,ii=0,q&6)throw Error(E(331));var s=q;for(q|=4,A=t.current;A!==null;){var i=A,a=i.child;if(A.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(A=u;A!==null;){var h=A;switch(h.tag){case 0:case 11:case 15:Er(8,h,i)}var d=h.child;if(d!==null)d.return=h,A=d;else for(;A!==null;){h=A;var m=h.sibling,v=h.return;if(Xd(h),h===u){A=null;break}if(m!==null){m.return=v,A=m;break}A=v}}}var f=i.alternate;if(f!==null){var _=f.child;if(_!==null){f.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}A=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,A=a;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Er(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,A=x;break e}A=i.return}}var g=t.current;for(A=g;A!==null;){a=A;var p=a.child;if(a.subtreeFlags&2064&&p!==null)p.return=a,A=p;else e:for(a=g;A!==null;){if(l=A,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bi(9,l)}}catch(w){te(l,l.return,w)}if(l===a){A=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,A=y;break e}A=l.return}}if(q=s,Vt(),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(pi,t)}catch{}r=!0}return r}finally{W=n,Be.transition=e}}return!1}function Rc(t,e,n){e=Gn(n,e),e=Ud(t,e,1),t=Dt(t,e,1),e=ke(),t!==null&&(Yr(t,1,e),Re(t,e))}function te(t,e,n){if(t.tag===3)Rc(t,t,n);else for(;e!==null;){if(e.tag===3){Rc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zt===null||!zt.has(r))){t=Gn(n,t),t=Fd(e,t,1),e=Dt(e,t,1),t=ke(),e!==null&&(Yr(e,1,t),Re(e,t));break}}e=e.return}}function lm(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ke(),t.pingedLanes|=t.suspendedLanes&n,de===t&&(fe&n)===n&&(ce===4||ce===3&&(fe&130023424)===fe&&500>re()-cl?rn(t,0):ll|=n),Re(t,e)}function ah(t,e){e===0&&(t.mode&1?(e=us,us<<=1,!(us&130023424)&&(us=4194304)):e=1);var n=ke();t=wt(t,e),t!==null&&(Yr(t,e,n),Re(t,n))}function cm(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ah(t,n)}function um(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),ah(t,n)}var lh;lh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Te.current)Pe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pe=!1,Xp(t,e,n);Pe=!!(t.flags&131072)}else Pe=!1,J&&e.flags&1048576&&hd(e,Js,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;As(t,e),t=e.pendingProps;var s=Hn(e,xe.current);Fn(e,n),s=nl(null,e,r,t,s,n);var i=rl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Oe(r)?(i=!0,Gs(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xa(e),s.updater=_i,e.stateNode=s,s._reactInternals=e,Jo(e,r,t,n),e=Zo(null,e,r,!0,i,n)):(e.tag=0,J&&i&&Ha(e),je(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(As(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=hm(r),t=Ge(r,t),s){case 0:e=Yo(null,e,r,t,n);break e;case 1:e=bc(null,e,r,t,n);break e;case 11:e=wc(null,e,r,t,n);break e;case 14:e=_c(null,e,r,Ge(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ge(r,s),Yo(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ge(r,s),bc(t,e,r,s,n);case 3:e:{if(Wd(e),t===null)throw Error(E(387));r=e.pendingProps,i=e.memoizedState,s=i.element,yd(t,e),Zs(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Gn(Error(E(423)),e),e=jc(t,e,r,n,s);break e}else if(r!==s){s=Gn(Error(E(424)),e),e=jc(t,e,r,n,s);break e}else for(Ae=Lt(e.stateNode.containerInfo.firstChild),Ie=e,J=!0,Xe=null,n=gd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wn(),r===s){e=_t(t,e,n);break e}je(t,e,r,n)}e=e.child}return e;case 5:return xd(e),t===null&&Ko(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Bo(r,s)?a=null:i!==null&&Bo(r,i)&&(e.flags|=32),Hd(t,e),je(t,e,a,n),e.child;case 6:return t===null&&Ko(e),null;case 13:return Vd(t,e,n);case 4:return Ya(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vn(e,null,r,n):je(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ge(r,s),wc(t,e,r,s,n);case 7:return je(t,e,e.pendingProps,n),e.child;case 8:return je(t,e,e.pendingProps.children,n),e.child;case 12:return je(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,K(Xs,r._currentValue),r._currentValue=a,i!==null)if(et(i.value,a)){if(i.children===s.children&&!Te.current){e=_t(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=vt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Go(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(E(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Go(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}je(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Fn(e,n),s=He(s),r=r(s),e.flags|=1,je(t,e,r,n),e.child;case 14:return r=e.type,s=Ge(r,e.pendingProps),s=Ge(r.type,s),_c(t,e,r,s,n);case 15:return Bd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ge(r,s),As(t,e),e.tag=1,Oe(r)?(t=!0,Gs(e)):t=!1,Fn(e,n),Md(e,r,s),Jo(e,r,s,n),Zo(null,e,r,!0,t,n);case 19:return Kd(t,e,n);case 22:return qd(t,e,n)}throw Error(E(156,e.tag))};function ch(t,e){return Lu(t,e)}function dm(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fe(t,e,n,r){return new dm(t,e,n,r)}function fl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hm(t){if(typeof t=="function")return fl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ra)return 11;if(t===$a)return 14}return 2}function Ut(t,e){var n=t.alternate;return n===null?(n=Fe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ds(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")fl(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Sn:return sn(n.children,s,i,e);case Oa:a=8,s|=8;break;case wo:return t=Fe(12,n,e,s|2),t.elementType=wo,t.lanes=i,t;case _o:return t=Fe(13,n,e,s),t.elementType=_o,t.lanes=i,t;case bo:return t=Fe(19,n,e,s),t.elementType=bo,t.lanes=i,t;case xu:return ki(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vu:a=10;break e;case yu:a=9;break e;case Ra:a=11;break e;case $a:a=14;break e;case St:a=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Fe(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function sn(t,e,n,r){return t=Fe(7,t,r,e),t.lanes=n,t}function ki(t,e,n,r){return t=Fe(22,t,r,e),t.elementType=xu,t.lanes=n,t.stateNode={isHidden:!1},t}function ao(t,e,n){return t=Fe(6,t,null,e),t.lanes=n,t}function lo(t,e,n){return e=Fe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fm(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bi(0),this.expirationTimes=Bi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pl(t,e,n,r,s,i,a,l,c){return t=new fm(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Fe(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xa(i),t}function pm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function uh(t){if(!t)return Bt;t=t._reactInternals;e:{if(hn(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Oe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(Oe(n))return ud(t,n,e)}return e}function dh(t,e,n,r,s,i,a,l,c){return t=pl(n,r,!0,t,s,i,a,l,c),t.context=uh(null),n=t.current,r=ke(),s=Mt(n),i=vt(r,s),i.callback=e??null,Dt(n,i,s),t.current.lanes=s,Yr(t,s,r),Re(t,r),t}function Ni(t,e,n,r){var s=e.current,i=ke(),a=Mt(s);return n=uh(n),e.context===null?e.context=n:e.pendingContext=n,e=vt(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Dt(s,e,a),t!==null&&(Ze(t,s,a,i),Os(t,s,a)),a}function ai(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $c(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ml(t,e){$c(t,e),(t=t.alternate)&&$c(t,e)}function mm(){return null}var hh=typeof reportError=="function"?reportError:function(t){console.error(t)};function gl(t){this._internalRoot=t}Si.prototype.render=gl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));Ni(t,e,null,null)};Si.prototype.unmount=gl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;un(function(){Ni(null,t,null,null)}),e[xt]=null}};function Si(t){this._internalRoot=t}Si.prototype.unstable_scheduleHydration=function(t){if(t){var e=qu();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ct.length&&e!==0&&e<Ct[n].priority;n++);Ct.splice(n,0,t),n===0&&Wu(t)}};function vl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ei(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ac(){}function gm(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ai(a);i.call(u)}}var a=dh(e,r,t,0,null,!1,!1,"",Ac);return t._reactRootContainer=a,t[xt]=a.current,Fr(t.nodeType===8?t.parentNode:t),un(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ai(c);l.call(u)}}var c=pl(t,0,!1,null,null,!1,!1,"",Ac);return t._reactRootContainer=c,t[xt]=c.current,Fr(t.nodeType===8?t.parentNode:t),un(function(){Ni(e,c,n,r)}),c}function Ci(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=ai(a);l.call(c)}}Ni(e,a,t,s)}else a=gm(n,e,t,s,r);return ai(a)}Fu=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yr(e.pendingLanes);n!==0&&(La(e,n|1),Re(e,re()),!(q&6)&&(Qn=re()+500,Vt()))}break;case 13:un(function(){var r=wt(t,1);if(r!==null){var s=ke();Ze(r,t,1,s)}}),ml(t,1)}};Da=function(t){if(t.tag===13){var e=wt(t,134217728);if(e!==null){var n=ke();Ze(e,t,134217728,n)}ml(t,134217728)}};Bu=function(t){if(t.tag===13){var e=Mt(t),n=wt(t,e);if(n!==null){var r=ke();Ze(n,t,e,r)}ml(t,e)}};qu=function(){return W};Hu=function(t,e){var n=W;try{return W=t,e()}finally{W=n}};Ro=function(t,e,n){switch(e){case"input":if(No(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=yi(r);if(!s)throw Error(E(90));_u(r),No(r,s)}}}break;case"textarea":ju(t,n);break;case"select":e=n.value,e!=null&&Dn(t,!!n.multiple,e,!1)}};Tu=ul;Ou=un;var vm={usingClientEntryPoint:!1,Events:[es,Tn,yi,Cu,Pu,ul]},pr={findFiberByHostInstance:en,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ym={bundleType:pr.bundleType,version:pr.version,rendererPackageName:pr.rendererPackageName,rendererConfig:pr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Au(t),t===null?null:t.stateNode},findFiberByHostInstance:pr.findFiberByHostInstance||mm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_s.isDisabled&&_s.supportsFiber)try{pi=_s.inject(ym),it=_s}catch{}}De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vm;De.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vl(e))throw Error(E(200));return pm(t,e,null,n)};De.createRoot=function(t,e){if(!vl(t))throw Error(E(299));var n=!1,r="",s=hh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=pl(t,1,!1,null,null,n,!1,r,s),t[xt]=e.current,Fr(t.nodeType===8?t.parentNode:t),new gl(e)};De.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Au(e),t=t===null?null:t.stateNode,t};De.flushSync=function(t){return un(t)};De.hydrate=function(t,e,n){if(!Ei(e))throw Error(E(200));return Ci(null,t,e,!0,n)};De.hydrateRoot=function(t,e,n){if(!vl(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=hh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=dh(e,null,t,1,n??null,s,!1,i,a),t[xt]=e.current,Fr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Si(e)};De.render=function(t,e,n){if(!Ei(e))throw Error(E(200));return Ci(null,t,e,!1,n)};De.unmountComponentAtNode=function(t){if(!Ei(t))throw Error(E(40));return t._reactRootContainer?(un(function(){Ci(null,null,t,!1,function(){t._reactRootContainer=null,t[xt]=null})}),!0):!1};De.unstable_batchedUpdates=ul;De.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ei(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return Ci(t,e,n,!1,r)};De.version="18.3.1-next-f1338f8080-20240426";function fh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fh)}catch(t){console.error(t)}}fh(),fu.exports=De;var xm=fu.exports,ph,Ic=xm;ph=Ic.createRoot,Ic.hydrateRoot;const mh=k.createContext(void 0);function wm({children:t}){const[e,n]=k.useState([]),r=u=>{n(h=>[...h,{...u,id:Date.now().toString()}])},s=u=>{n(h=>h.filter(d=>d.id!==u))},i=(u,h)=>{if(h<=0){s(u);return}n(d=>d.map(m=>m.id===u?{...m,quantity:h}:m))},a=()=>{n([])},l=()=>e.reduce((u,h)=>{const d=h.productPrice*h.quantity,m=h.addons.reduce((v,f)=>v+f.price*f.quantity,0)*h.quantity;return u+d+m},0),c=()=>l();return o.jsx(mh.Provider,{value:{items:e,addItem:r,removeItem:s,updateQuantity:i,clearCart:a,getTotal:c,getSubtotal:l},children:t})}function Pi(){const t=k.useContext(mh);if(!t)throw new Error("useCart must be used within CartProvider");return t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _m={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),M=(t,e)=>{const n=k.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},h)=>k.createElement("svg",{ref:h,..._m,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${bm(t)}`,l].join(" "),...u},[...e.map(([d,m])=>k.createElement(d,m)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=M("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=M("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=M("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=M("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=M("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=M("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=M("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=M("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=M("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=M("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=M("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=M("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=M("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=M("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=M("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=M("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=M("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=M("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=M("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=M("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=M("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=M("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=M("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=M("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=M("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=M("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=M("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=M("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=M("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=M("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=M("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=M("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=M("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=M("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=M("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=M("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=M("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=M("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=M("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=M("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Vm({id:t,type:e,message:n,duration:r=5e3,onClose:s}){k.useEffect(()=>{if(r>0){const l=setTimeout(()=>s(t),r);return()=>clearTimeout(l)}},[t,r,s]);const i={success:o.jsx(li,{className:"w-6 h-6"}),error:o.jsx(Wm,{className:"w-6 h-6"}),warning:o.jsx(jm,{className:"w-6 h-6"}),info:o.jsx(Tm,{className:"w-6 h-6"})},a={success:"bg-green-600 border-green-500",error:"bg-red-600 border-red-500",warning:"bg-yellow-600 border-yellow-500",info:"bg-blue-600 border-blue-500"};return o.jsxs("div",{className:`${a[e]} border-l-4 rounded-lg shadow-2xl p-4 mb-3 flex items-start gap-3 backdrop-blur-xl bg-opacity-95 animate-slide-in-right`,children:[o.jsx("div",{className:"text-white flex-shrink-0",children:i[e]}),o.jsx("p",{className:"text-white flex-1 font-medium",children:n}),o.jsx("button",{onClick:()=>s(t),className:"text-white/80 hover:text-white transition-colors flex-shrink-0",children:o.jsx(fn,{className:"w-5 h-5"})})]})}function Km({toasts:t,onClose:e}){return o.jsx("div",{className:"fixed top-4 right-4 z-[9999] w-full max-w-md pointer-events-none",children:o.jsx("div",{className:"pointer-events-auto space-y-2",children:t.map(n=>o.jsx(Vm,{...n,onClose:e},n.id))})})}const wh=k.createContext(void 0);function Gm({children:t}){const[e,n]=k.useState([]),r=(u,h,d=5e3)=>{const m=Math.random().toString(36).substring(2,9);n(v=>[...v,{id:m,type:u,message:h,duration:d}])},s=u=>{n(h=>h.filter(d=>d.id!==u))},i=u=>r("success",u),a=u=>r("error",u),l=u=>r("warning",u),c=u=>r("info",u);return o.jsxs(wh.Provider,{value:{showToast:r,success:i,error:a,warning:l,info:c},children:[t,o.jsx(Km,{toasts:e,onClose:s})]})}function _l(){const t=k.useContext(wh);if(!t)throw new Error("useToast must be used within ToastProvider");return t}const Qm="modulepreload",Jm=function(t){return"/"+t},Lc={},ns=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=Jm(c),c in Lc)return;Lc[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Qm,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((m,v)=>{d.addEventListener("load",m),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Xm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ns(async()=>{const{default:r}=await Promise.resolve().then(()=>tr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class bl extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Ym extends bl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Dc extends bl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class zc extends bl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var fa;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(fa||(fa={}));var Zm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(h){try{u(r.next(h))}catch(d){a(d)}}function c(h){try{u(r.throw(h))}catch(d){a(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class eg{constructor(e,{headers:n={},customFetch:r,region:s=fa.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Xm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Zm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let h;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(l["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(l["Content-Type"]="application/json",h=JSON.stringify(a)));const d=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:h}).catch(_=>{throw new Ym(_)}),m=d.headers.get("x-relay-error");if(m&&m==="true")throw new Dc(d);if(!d.ok)throw new zc(d);let v=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return v==="application/json"?f=yield d.json():v==="application/octet-stream"?f=yield d.blob():v==="text/event-stream"?f=d:v==="multipart/form-data"?f=yield d.formData():f=yield d.text(),{data:f,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof zc||s instanceof Dc?s.context:void 0}}})}}var Ce={},jl={},Oi={},rs={},Ri={},$i={},tg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Jn=tg();const ng=Jn.fetch,_h=Jn.fetch.bind(Jn),bh=Jn.Headers,rg=Jn.Request,sg=Jn.Response,tr=Object.freeze(Object.defineProperty({__proto__:null,Headers:bh,Request:rg,Response:sg,default:_h,fetch:ng},Symbol.toStringTag,{value:"Module"})),ig=Vh(tr);var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});let og=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ai.default=og;var jh=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($i,"__esModule",{value:!0});const ag=jh(ig),lg=jh(Ai);let cg=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=ag.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,c,u;let h=null,d=null,m=null,v=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?d=g:d=JSON.parse(g))}const S=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),x=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");S&&x&&x.length>1&&(m=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(h={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,m=null,v=406,f="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const S=await i.text();try{h=JSON.parse(S),Array.isArray(h)&&i.status===404&&(d=[],h=null,v=200,f="OK")}catch{i.status===404&&S===""?(v=204,f="No Content"):h={message:S}}if(h&&this.isMaybeSingle&&(!((u=h==null?void 0:h.details)===null||u===void 0)&&u.includes("0 rows"))&&(h=null,v=200,f="OK"),h&&this.shouldThrowOnError)throw new lg.default(h)}return{error:h,data:d,count:m,status:v,statusText:f}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};$i.default=cg;var ug=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ri,"__esModule",{value:!0});const dg=ug($i);let hg=class extends dg.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ri.default=hg;var fg=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rs,"__esModule",{value:!0});const pg=fg(Ri);let mg=class extends pg.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};rs.default=mg;var gg=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oi,"__esModule",{value:!0});const mr=gg(rs);let vg=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new mr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new mr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var a;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new mr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new mr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new mr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Oi.default=vg;var kh=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jl,"__esModule",{value:!0});const yg=kh(Oi),xg=kh(rs);let wg=class Nh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new yg.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Nh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let l;const c=new URL(`${this.url}/rpc/${e}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([d,m])=>m!==void 0).map(([d,m])=>[d,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([d,m])=>{c.searchParams.append(d,m)})):(l="POST",u=n);const h=new Headers(this.headers);return i&&h.set("Prefer",`count=${i}`),new xg.default({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};jl.default=wg;var nr=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.PostgrestError=Ce.PostgrestBuilder=Ce.PostgrestTransformBuilder=Ce.PostgrestFilterBuilder=Ce.PostgrestQueryBuilder=Ce.PostgrestClient=void 0;const Sh=nr(jl);Ce.PostgrestClient=Sh.default;const Eh=nr(Oi);Ce.PostgrestQueryBuilder=Eh.default;const Ch=nr(rs);Ce.PostgrestFilterBuilder=Ch.default;const Ph=nr(Ri);Ce.PostgrestTransformBuilder=Ph.default;const Th=nr($i);Ce.PostgrestBuilder=Th.default;const Oh=nr(Ai);Ce.PostgrestError=Oh.default;var _g=Ce.default={PostgrestClient:Sh.default,PostgrestQueryBuilder:Eh.default,PostgrestFilterBuilder:Ch.default,PostgrestTransformBuilder:Ph.default,PostgrestBuilder:Th.default,PostgrestError:Oh.default};const{PostgrestClient:bg,PostgrestQueryBuilder:zv,PostgrestFilterBuilder:Mv,PostgrestTransformBuilder:Uv,PostgrestBuilder:Fv,PostgrestError:Bv}=_g;class jg{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const kg="2.15.5",Ng=`realtime-js/${kg}`,Sg="1.0.0",pa=1e4,Eg=1e3,Cg=100;var Tr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Tr||(Tr={}));var oe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(oe||(oe={}));var Je;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Je||(Je={}));var ma;(function(t){t.websocket="websocket"})(ma||(ma={}));var Zt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Zt||(Zt={}));class Pg{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(e.slice(a,a+s));a=a+s;const c=r.decode(e.slice(a,a+i));a=a+i;const u=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Rh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var V;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(V||(V={}));const Mc=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,a)=>(i[a]=Tg(a,t,e,s),i),{})},Tg=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,a=n[t];return i&&!r.includes(i)?$h(i,a):ga(a)},$h=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Ag(e,n)}switch(t){case V.bool:return Og(e);case V.float4:case V.float8:case V.int2:case V.int4:case V.int8:case V.numeric:case V.oid:return Rg(e);case V.json:case V.jsonb:return $g(e);case V.timestamp:return Ig(e);case V.abstime:case V.date:case V.daterange:case V.int4range:case V.int8range:case V.money:case V.reltime:case V.text:case V.time:case V.timestamptz:case V.timetz:case V.tsrange:case V.tstzrange:return ga(e);default:return ga(e)}},ga=t=>t,Og=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Rg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},$g=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Ag=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>$h(e,l))}return t},Ig=t=>typeof t=="string"?t.replace(" ","T"):t,Ah=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class co{constructor(e,n,r={},s=pa){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Uc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Uc||(Uc={}));class Or{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Or.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Or.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Or.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),a=this.transformState(n),l={},c={};return this.map(i,(u,h)=>{a[u]||(c[u]=h)}),this.map(a,(u,h)=>{const d=i[u];if(d){const m=h.map(S=>S.presence_ref),v=d.map(S=>S.presence_ref),f=h.filter(S=>v.indexOf(S.presence_ref)<0),_=d.filter(S=>m.indexOf(S.presence_ref)<0);f.length>0&&(l[u]=f),_.length>0&&(c[u]=_)}else l[u]=h}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const h=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),h.length>0){const d=e[l].map(v=>v.presence_ref),m=h.filter(v=>d.indexOf(v.presence_ref)<0);e[l].unshift(...m)}r(l,h,c)}),this.map(a,(l,c)=>{let u=e[l];if(!u)return;const h=c.map(d=>d.presence_ref);u=u.filter(d=>h.indexOf(d.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Fc||(Fc={}));var Rr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Rr||(Rr={}));var ft;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ft||(ft={}));class kl{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new co(this,Je.join,this.params,this.timeout),this.rejoinTimer=new Rh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=oe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Je.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Or(this),this.broadcastEndpointURL=Ah(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==oe.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[Rr.PRESENCE]&&this.bindings[Rr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},m={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(ft.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(ft.CLOSED)),this.updateJoinPayload(Object.assign({config:m},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var f;if(this.socket.setAuth(),v===void 0){e==null||e(ft.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(f=_==null?void 0:_.length)!==null&&f!==void 0?f:0,x=[];for(let g=0;g<S;g++){const p=_[g],{filter:{event:y,schema:w,table:b,filter:j}}=p,N=v&&v[g];if(N&&N.event===y&&N.schema===w&&N.table===b&&N.filter===j)x.push(Object.assign(Object.assign({},p),{id:N.id}));else{this.unsubscribe(),this.state=oe.errored,e==null||e(ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(ft.SUBSCRIBED);return}}).receive("error",v=>{this.state=oe.errored,e==null||e(ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===oe.joined&&e===Rr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=oe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Je.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new co(this,Je.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=oe.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new co(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Cg){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const a=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:h}=Je;if(r&&[l,c,u,h].indexOf(a)>=0&&r!==this._joinRef())return;let m=this._onMessage(a,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var f,_,S;return((f=v.filter)===null||f===void 0?void 0:f.event)==="*"||((S=(_=v.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===a}).map(v=>v.callback(m,r)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var f,_,S,x,g,p;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const y=v.id,w=(f=v.filter)===null||f===void 0?void 0:f.event;return y&&((_=n.ids)===null||_===void 0?void 0:_.includes(y))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const y=(g=(x=v==null?void 0:v.filter)===null||x===void 0?void 0:x.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return y==="*"||y===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof m=="object"&&"ids"in m){const f=m.data,{schema:_,table:S,commit_timestamp:x,type:g,errors:p}=f;m=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:x,eventType:g,new:{},old:{},errors:p}),this._getPayloadRecords(f))}v.callback(m,r)})}_isClosed(){return this.state===oe.closed}_isJoined(){return this.state===oe.joined}_isJoining(){return this.state===oe.joining}_isLeaving(){return this.state===oe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&kl.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Je.close,{},e)}_onError(e){this._on(Je.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=oe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Mc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Mc(e.columns,e.old_record)),n}}const uo=()=>{},bs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Lg=[1e3,2e3,5e3,1e4],Dg=1e4,zg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Mg{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pa,this.transport=null,this.heartbeatIntervalMs=bs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=uo,this.ref=0,this.reconnectTimer=null,this.logger=uo,this.conn=null,this.sendBuffer=[],this.serializer=new Pg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>ns(async()=>{const{default:l}=await Promise.resolve().then(()=>tr);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${ma.websocket}`,this.httpEndpoint=Ah(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Sg}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Tr.connecting:return Zt.Connecting;case Tr.open:return Zt.Open;case Tr.closing:return Zt.Closing;default:return Zt.Closed}}isConnected(){return this.connectionState()===Zt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new kl(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,a=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Eg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},bs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:a}=n,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Je.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([zg],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Ng};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Je.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Rh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,a,l,c,u,h;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:pa,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:bs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:uo,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:d=>Lg[d-1]||Dg,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(d,m)=>m(JSON.stringify(d)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Nl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ae(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Ug extends Nl{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class va extends Nl{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Fg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(h){try{u(r.next(h))}catch(d){a(d)}}function c(h){try{u(r.throw(h))}catch(d){a(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const Ih=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ns(async()=>{const{default:r}=await Promise.resolve().then(()=>tr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Bg=()=>Fg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ns(()=>Promise.resolve().then(()=>tr),void 0)).Response:Response}),ya=t=>{if(Array.isArray(t))return t.map(n=>ya(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ya(r)}),e},qg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var pn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(h){try{u(r.next(h))}catch(d){a(d)}}function c(h){try{u(r.throw(h))}catch(d){a(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const ho=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Hg=(t,e,n)=>pn(void 0,void 0,void 0,function*(){const r=yield Bg();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new Ug(ho(s),i,a))}).catch(s=>{e(new va(ho(s),s))}):e(new va(ho(t),t))}),Wg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(qg(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function ss(t,e,n,r,s,i){return pn(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(n,Wg(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>Hg(c,l,r))})})}function di(t,e,n,r){return pn(this,void 0,void 0,function*(){return ss(t,"GET",e,n,r)})}function rt(t,e,n,r,s){return pn(this,void 0,void 0,function*(){return ss(t,"POST",e,r,s,n)})}function xa(t,e,n,r,s){return pn(this,void 0,void 0,function*(){return ss(t,"PUT",e,r,s,n)})}function Vg(t,e,n,r){return pn(this,void 0,void 0,function*(){return ss(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Lh(t,e,n,r,s){return pn(this,void 0,void 0,function*(){return ss(t,"DELETE",e,r,s,n)})}var be=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(h){try{u(r.next(h))}catch(d){a(d)}}function c(h){try{u(r.throw(h))}catch(d){a(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const Kg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Gg{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Ih(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return be(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Bc),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),h=this._getFinalPath(u),d=yield(e=="PUT"?xa:rt)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ae(i))return{data:null,error:i};throw i}})}upload(e,n,r){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return be(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Bc.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const d=yield xa(this.fetch,l.toString(),c,{headers:h});return{data:{path:i,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ae(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return be(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield rt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new Nl("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}update(e,n,r){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return be(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}copy(e,n,r){return be(this,void 0,void 0,function*(){try{return{data:{path:(yield rt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return be(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield rt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return be(this,void 0,void 0,function*(){try{const s=yield rt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}download(e,n){return be(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield di(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ae(l))return{data:null,error:l};throw l}})}info(e){return be(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield di(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ya(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}exists(e){return be(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Vg(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r)&&r instanceof va){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return be(this,void 0,void 0,function*(){try{return{data:yield Lh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}list(e,n,r){return be(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Kg),n),{prefix:e||""});return{data:yield rt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}listV2(e,n){return be(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield rt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Qg="2.12.1",Jg={"X-Client-Info":`storage-js/${Qg}`};var yn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(h){try{u(r.next(h))}catch(d){a(d)}}function c(h){try{u(r.throw(h))}catch(d){a(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class Xg{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Jg),n),this.fetch=Ih(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return yn(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}getBucket(e){return yn(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return yn(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return yn(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}emptyBucket(e){return yn(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}deleteBucket(e){return yn(this,void 0,void 0,function*(){try{return{data:yield Lh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}}class Yg extends Xg{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new Gg(this.url,this.headers,e,this.fetch)}}const Zg="2.57.4";let wr="";typeof Deno<"u"?wr="deno":typeof document<"u"?wr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wr="react-native":wr="node";const e0={"X-Client-Info":`supabase-js-${wr}/${Zg}`},t0={headers:e0},n0={schema:"public"},r0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},s0={};var i0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(h){try{u(r.next(h))}catch(d){a(d)}}function c(h){try{u(r.throw(h))}catch(d){a(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const o0=t=>{let e;return t?e=t:typeof fetch>"u"?e=_h:e=fetch,(...n)=>e(...n)},a0=()=>typeof Headers>"u"?bh:Headers,l0=(t,e,n)=>{const r=o0(n),s=a0();return(i,a)=>i0(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},a),{headers:u}))})};var c0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(h){try{u(r.next(h))}catch(d){a(d)}}function c(h){try{u(r.throw(h))}catch(d){a(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};function u0(t){return t.endsWith("/")?t:t+"/"}function d0(t,e){var n,r;const{db:s,auth:i,realtime:a,global:l}=t,{db:c,auth:u,realtime:h,global:d}=e,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},h),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>c0(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function h0(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(u0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Dh="2.71.1",jn=30*1e3,wa=3,fo=wa*jn,f0="http://localhost:9999",p0="supabase.auth.token",m0={"X-Client-Info":`gotrue-js/${Dh}`},_a="X-Supabase-Api-Version",zh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},g0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,v0=10*60*1e3;class Sl extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function z(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class y0 extends Sl{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function x0(t){return z(t)&&t.name==="AuthApiError"}class Mh extends Sl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Kt extends Sl{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Nt extends Kt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function w0(t){return z(t)&&t.name==="AuthSessionMissingError"}class js extends Kt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ks extends Kt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ns extends Kt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _0(t){return z(t)&&t.name==="AuthImplicitGrantRedirectError"}class qc extends Kt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ba extends Kt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function po(t){return z(t)&&t.name==="AuthRetryableFetchError"}class Hc extends Kt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ja extends Kt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const hi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wc=` 	
\r=`.split(""),b0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Wc.length;e+=1)t[Wc[e].charCodeAt(0)]=-2;for(let e=0;e<hi.length;e+=1)t[hi[e].charCodeAt(0)]=e;return t})();function Vc(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(hi[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(hi[r]),e.queuedBits-=6}}function Uh(t,e,n){const r=b0[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Kc(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{N0(a,r,n)};for(let a=0;a<t.length;a+=1)Uh(t.charCodeAt(a),s,i);return e.join("")}function j0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function k0(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}j0(r,e)}}function N0(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function S0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Uh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function E0(t){const e=[];return k0(t,n=>e.push(n)),new Uint8Array(e)}function C0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Vc(s,n,r)),Vc(null,n,r),e.join("")}function P0(t){return Math.round(Date.now()/1e3)+t}function T0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ke=()=>typeof window<"u"&&typeof document<"u",Gt={tested:!1,writable:!1},Fh=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gt.tested)return Gt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Gt.tested=!0,Gt.writable=!0}catch{Gt.tested=!0,Gt.writable=!1}return Gt.writable};function O0(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Bh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ns(async()=>{const{default:r}=await Promise.resolve().then(()=>tr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},R0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",kn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Qt=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},kt=async(t,e)=>{await t.removeItem(e)};class Ii{constructor(){this.promise=new Ii.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ii.promiseConstructor=Promise;function mo(t){const e=t.split(".");if(e.length!==3)throw new ja("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!g0.test(e[r]))throw new ja("JWT not in base64url format");return{header:JSON.parse(Kc(e[0])),payload:JSON.parse(Kc(e[1])),signature:S0(e[2]),raw:{header:e[0],payload:e[1]}}}async function $0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function A0(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function I0(t){return("0"+t.toString(16)).substr(-2)}function L0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,I0).join("")}async function D0(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function z0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await D0(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xn(t,e,n=!1){const r=L0();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await kn(t,`${e}-code-verifier`,s);const i=await z0(r);return[i,r===i?"plain":"s256"]}const M0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function U0(t){const e=t.headers.get(_a);if(!e||!e.match(M0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function F0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function B0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const q0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wn(t){if(!q0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function go(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Gc(t){return JSON.parse(JSON.stringify(t))}var H0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Yt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),W0=[502,503,504];async function Qc(t){var e;if(!R0(t))throw new ba(Yt(t),0);if(W0.includes(t.status))throw new ba(Yt(t),t.status);let n;try{n=await t.json()}catch(i){throw new Mh(Yt(i),i)}let r;const s=U0(t);if(s&&s.getTime()>=zh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Hc(Yt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Nt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Hc(Yt(n),t.status,n.weak_password.reasons);throw new y0(Yt(n),t.status||500,r)}const V0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function U(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[_a]||(i[_a]=zh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await K0(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function K0(t,e,n,r,s,i){const a=V0(e,r,s,i);let l;try{l=await t(n,Object.assign({},a))}catch(c){throw console.error(c),new ba(Yt(c),0)}if(l.ok||await Qc(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Qc(c)}}function dt(t){var e;let n=null;X0(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=P0(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Jc(t){const e=dt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Tt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function G0(t){return{data:t,error:null}}function Q0(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,a=H0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function J0(t){return t}function X0(t){return t.access_token&&t.refresh_token&&t.expires_in}const vo=["global","local","others"];var Y0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Z0{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Bh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=vo[0]){if(vo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vo.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Tt})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Y0(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Q0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(z(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Tt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:J0});if(h.error)throw h.error;const d=await h.json(),m=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(f=>{const _=parseInt(f.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(f.split(";")[1].split("=")[1]);u[`${S}Page`]=_}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(z(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){wn(e);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Tt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){wn(e);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Tt})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){wn(e);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Tt})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){wn(e.userId);try{const{data:n,error:r}=await U(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(z(n))return{data:null,error:n};throw n}}async _deleteFactor(e){wn(e.userId),wn(e.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}}function Xc(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function ev(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const _n={debug:!!(globalThis&&Fh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class tv extends qh{}async function nv(t,e,n){_n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),_n.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){_n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{_n.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw _n.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new tv(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(_n.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}ev();const rv={url:f0,storageKey:p0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:m0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Yc(t,e,n){return await n()}const bn={};class Jr{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jr.nextInstanceID,Jr.nextInstanceID+=1,this.instanceID>0&&Ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},rv),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Z0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Bh(s.fetch),this.lock=s.lock||Yc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ke()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=nv:this.lock=Yc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Fh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Xc(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=bn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){bn[this.storageKey]=Object.assign(Object.assign({},bn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=bn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){bn[this.storageKey]=Object.assign(Object.assign({},bn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Dh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=O0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ke()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),_0(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return z(n)?{error:n}:{error:new Mh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:dt}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:h,password:d,options:m}=e;let v=null,f=null;this.flowType==="pkce"&&([v,f]=await xn(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:h,password:d,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:f},xform:dt})}else if("phone"in e){const{phone:h,password:d,options:m}=e;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:d,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:dt})}else throw new ks("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:a,options:l}=e;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Jc})}else if("phone"in e){const{phone:i,password:a,options:l}=e;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Jc})}else throw new ks("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new js}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,a,l,c,u,h,d,m,v;let f,_;if("message"in e)f=e.message,_=e.signature;else{const{chain:S,wallet:x,statement:g,options:p}=e;let y;if(Ke())if(typeof x=="object")y=x;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))y=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=x}const w=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in y&&y.signIn){const b=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),g?{statement:g}:null));let j;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")j=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)j=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)f=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),_=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${w.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((d=(h=p==null?void 0:p.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||d===void 0)&&d.length?["Resources",...p.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const b=await y.signMessage(new TextEncoder().encode(f),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=b}}try{const{data:S,error:x}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:C0(_)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:dt});if(x)throw x;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new js}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:x})}catch(S){if(z(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const n=await Qt(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:dt});if(await kt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new js}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=e,l=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:dt}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new js}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,a;try{if("email"in e){const{email:l,options:c}=e;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await xn(this.storage,this.storageKey));const{error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:h}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new ks("You must provide either an email or phone number.")}catch(l){if(z(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:dt});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await xn(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:G0})}catch(i){if(z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Nt;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(z(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:a}=await U(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:a,error:l}=await U(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new ks("You must provide either an email or phone number and a type")}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Qt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<fo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Qt(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=go()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,h)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,h))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Tt}):await this._useSession(async n=>{var r,s,i;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nt}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Tt})})}catch(n){if(z(n))return w0(n)&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Nt;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await xn(this.storage,this.storageKey));const{data:u,error:h}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Tt});if(h)throw h;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Nt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=mo(e.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(z(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:l}=n;if(l)throw l;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Nt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ke())throw new Ns("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ns(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new qc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ns("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new qc("No code detected.");const{data:g,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!a||!u)throw new Ns("No session defined in URL");const h=Math.round(Date.now()/1e3),d=parseInt(l);let m=h+d;c&&(m=parseInt(c));const v=m-h;v*1e3<=jn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${d}s`);const f=m-d;h-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,m,h):h-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,m,h);const{data:_,error:S}=await this._getUser(i);if(S)throw S;const x={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:m,refresh_token:a,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(r){if(z(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Qt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(x0(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=T0(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await xn(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,l,c,u,h;const{data:d,error:m}=i;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return Ke()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(z(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await A0(async s=>(s>0&&await $0(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:dt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&po(i)&&Date.now()+a-r<jn})}catch(r){if(this._debug(n,"error",r),z(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ke()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Qt(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Qt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await kn(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:go()}else if(s&&!s.user&&!s.user){const a=await Qt(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await kt(this.storage,this.storageKey+"-user"),await kn(this.storage,this.storageKey,s)):s.user=go()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<fo;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${fo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),po(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ii;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Nt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),z(i)){const a={session:null,error:i};return po(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await kn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Gc(s);await kn(this.storage,this.storageKey,i)}else{const s=Gc(n);await kn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await kt(this.storage,this.storageKey),await kt(this.storage,this.storageKey+"-code-verifier"),await kt(this.storage,this.storageKey+"-user"),this.userStorage&&await kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),jn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/jn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${jn}ms, refresh threshold is ${wa} ticks`),s<=wa&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof qh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await xn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await U(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:a,error:l}=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(z(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(z(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=mo(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const h=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+v0>s)return r;const{data:i,error:a}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:f}=await this.getSession();if(f||!v.session)return{data:null,error:f};r=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=mo(r);n!=null&&n.allowExpired||F0(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const h=B0(s.alg),d=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,a,E0(`${l}.${c}`)))throw new ja("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}}Jr.nextInstanceID=0;const sv=Jr;class iv extends sv{constructor(e){super(e)}}var ov=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(h){try{u(r.next(h))}catch(d){a(d)}}function c(h){try{u(r.throw(h))}catch(d){a(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class av{constructor(e,n,r){var s,i,a;this.supabaseUrl=e,this.supabaseKey=n;const l=h0(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:n0,realtime:s0,auth:Object.assign(Object.assign({},r0),{storageKey:c}),global:t0},h=d0(r??{},u);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(d,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=l0(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new bg(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Yg(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new eg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return ov(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:a,flowType:l,lock:c,debug:u},h,d){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iv({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:c,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Mg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lv=(t,e,n)=>new av(t,e,n);function cv(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}cv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const uv="https://kanpcfffaprewzdcloxx.supabase.co",dv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImthbnBjZmZmYXByZXd6ZGNsb3h4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkzODM5NTcsImV4cCI6MjA4NDk1OTk1N30.1koLhtp9oP3iIY25gV_0pZ2YGyLElxFXWmb1chI_SOU",T=lv(uv,dv,{db:{schema:"public"},auth:{persistSession:!1,autoRefreshToken:!1},global:{headers:{"X-Client-Info":"supabase-js-web"}}}),Zc=["https://images.pexels.com/photos/1058775/pexels-photo-1058775.jpeg?auto=compress&cs=tinysrgb&w=1600","https://images.pexels.com/photos/1762851/pexels-photo-1762851.jpeg?auto=compress&cs=tinysrgb&w=1600","https://images.pexels.com/photos/1670977/pexels-photo-1670977.jpeg?auto=compress&cs=tinysrgb&w=1600","https://images.pexels.com/photos/1337386/pexels-photo-1337386.jpeg?auto=compress&cs=tinysrgb&w=1600"];function rr(){const[t,e]=k.useState(0),[n,r]=k.useState(Zc),[s,i]=k.useState([]);k.useEffect(()=>{a();const u=T.channel("background_media_changes").on("postgres_changes",{event:"*",schema:"public",table:"background_media"},()=>{a()}).subscribe();return()=>{T.removeChannel(u)}},[]);async function a(){try{const{data:u,error:h}=await T.from("background_media").select("file_url, file_type").eq("is_active",!0).order("order_position",{ascending:!0});if(h)throw h;u&&u.length>0?(r(u.map(d=>d.file_url)),i(u.map(d=>d.file_type))):(r(Zc),i([]))}catch(u){console.error("Erro ao carregar mdias:",u)}}const l=()=>{e(u=>(u+1)%n.length)};k.useEffect(()=>{if((s[t]||"image")==="image"){const h=setTimeout(l,5e3);return()=>clearTimeout(h)}},[t,n.length,s]);const c=s[t]||"image";return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-gray-900 via-black to-gray-800 z-0"}),o.jsx("div",{className:"fixed inset-0 z-0 overflow-hidden",children:c==="video"?o.jsx("video",{autoPlay:!0,muted:!0,playsInline:!0,onEnded:l,className:"absolute inset-0 w-full h-full object-cover transition-opacity duration-[800ms] ease-in-out",style:{opacity:.6},children:o.jsx("source",{src:n[t],type:"video/mp4"})},n[t]):o.jsx("div",{className:"absolute inset-0 transition-opacity duration-[800ms] ease-in-out",style:{backgroundImage:`url(${n[t]})`,backgroundSize:"cover",backgroundPosition:"center",opacity:.6}},n[t])}),o.jsx("div",{className:"fixed inset-0 bg-gradient-to-t from-black/75 via-black/40 to-black/60 z-0 pointer-events-none"}),o.jsx("div",{className:"fixed inset-0 bg-gradient-to-r from-red-950/20 via-transparent to-blue-950/20 z-0 pointer-events-none"})]})}function hv({onOrderNow:t}){return o.jsxs("div",{className:"min-h-screen relative flex items-center justify-center",children:[o.jsx(rr,{}),o.jsx("div",{className:"relative z-10 container mx-auto px-4",children:o.jsxs("div",{className:"max-w-3xl mx-auto text-center space-y-8",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx("img",{src:"/expresso-delivery_615dab6902eee3285f7eabcacf6ac2ee.png",alt:"Hero's Brasa Burguer",className:"w-64 md:w-96 h-auto object-contain"})}),o.jsx("div",{className:"space-y-3",children:o.jsx("p",{className:"text-lg md:text-xl text-yellow-400 font-semibold",children:"Hamburgueria dos Super-Heris"})}),o.jsx("button",{onClick:t,className:"btn-primary text-white px-12 py-6 rounded-2xl text-2xl md:text-3xl font-bold shadow-2xl hover:scale-105 transition-transform duration-300 animate-bounce",children:" FAA SEU PEDIDO AGORA"}),o.jsx("div",{className:"glass-effect rounded-xl p-5 mt-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4 md:gap-8 text-gray-200 text-sm md:text-base",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{children:"Tera a Sbado - 18h30 s 23h00"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{children:"(66) 99936-5994"})]})]})})]})})]})}function fv(){const[t,e]=k.useState([]);return k.useEffect(()=>{const n=["from-orange-600 via-orange-400 to-yellow-300","from-red-600 via-orange-500 to-yellow-400","from-yellow-600 via-yellow-400 to-white","from-orange-500 via-yellow-300 to-yellow-100"],r=()=>{const i=[];for(let a=0;a<50;a++)i.push({id:Math.random(),x:Math.random()*100,y:-5,size:Math.random()*5+1.5,duration:Math.random()*4+2,delay:Math.random()*6,offsetX:(Math.random()-.5)*200,color:n[Math.floor(Math.random()*n.length)]});e(i)};r();const s=setInterval(r,1e4);return()=>clearInterval(s)},[]),o.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-[5]",children:t.map(n=>o.jsx("div",{className:"absolute animate-spark",style:{left:`${n.x}%`,bottom:`${n.y}%`,width:`${n.size}px`,height:`${n.size}px`,animationDuration:`${n.duration}s`,animationDelay:`${n.delay}s`,"--offset-x":`${n.offsetX}px`},children:o.jsx("div",{className:`w-full h-full rounded-full bg-gradient-to-t ${n.color} shadow-[0_0_15px_rgba(251,146,60,0.9)] blur-[0.5px]`})},n.id))})}function pv({product:t,onClose:e}){const[n,r]=k.useState([]),[s,i]=k.useState([]),[a,l]=k.useState({}),[c,u]=k.useState(1),[h,d]=k.useState(""),{addItem:m}=Pi();k.useEffect(()=>{v()},[t.id]),k.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const v=async()=>{const{data:p}=await T.from("product_addon_groups").select("addon_group_id").eq("product_id",t.id);if(p&&p.length>0){const y=p.map(j=>j.addon_group_id),{data:w}=await T.from("addon_groups").select("*").in("id",y),{data:b}=await T.from("addons").select("*").in("group_id",y).eq("active",!0);w&&r(w),b&&i(b)}},f=(p,y)=>{const w=n.find(N=>N.id===y);if(!w)return;const j=Object.entries(a).filter(([N])=>{var I;return((I=s.find($=>$.id===N))==null?void 0:I.group_id)===y}).reduce((N,[,I])=>N+I,0);l(N=>{if((N[p]||0)>0){const{[p]:$,...C}=N;return C}else if(j<w.max_quantity)return{...N,[p]:1};return N})},_=(p,y,w)=>{const b=n.find(I=>I.id===y);if(!b)return;const N=Object.entries(a).filter(([I])=>{var $;return(($=s.find(C=>C.id===I))==null?void 0:$.group_id)===y}).reduce((I,[,$])=>I+$,0);l(I=>{const C=(I[p]||0)+w;if(C<=0){const{[p]:O,...H}=I;return H}return w>0&&N>=b.max_quantity?I:{...I,[p]:C}})},S=()=>n.every(p=>{const w=Object.entries(a).filter(([b])=>{var j;return((j=s.find(N=>N.id===b))==null?void 0:j.group_id)===p.id}).reduce((b,[,j])=>b+j,0);return w>=p.min_quantity&&w<=p.max_quantity}),x=()=>{if(!S())return;const p=Object.entries(a).map(([y,w])=>{const b=s.find(j=>j.id===y);return{id:y,name:b.name,price:b.price,quantity:w}});m({id:"",productId:t.id,productName:t.name,productPrice:t.price,quantity:c,addons:p,notes:h}),e()},g=()=>{const p=Object.entries(a).reduce((y,[w,b])=>{const j=s.find(N=>N.id===w);return y+((j==null?void 0:j.price)||0)*b},0);return(t.price+p)*c};return o.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4 overflow-hidden",children:o.jsxs("div",{className:"glass-effect rounded-2xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"glass-effect border-b border-white/10 flex-shrink-0",children:[t.image_url&&o.jsx("img",{src:t.image_url,alt:t.name,className:"w-full h-40 object-cover rounded-t-2xl"}),o.jsxs("div",{className:"p-4 flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:t.name}),o.jsx("p",{className:"text-gray-300 text-sm line-clamp-2",children:t.description}),o.jsxs("p",{className:"text-xl font-bold text-yellow-400 mt-2",children:["R$ ",t.price.toFixed(2)]})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors flex-shrink-0",children:o.jsx(fn,{className:"w-6 h-6"})})]})]}),o.jsxs("div",{className:"p-4 overflow-y-auto scrollbar-thin flex-1",children:[n.map(p=>{const y=s.filter(b=>b.group_id===p.id),w=Object.entries(a).filter(([b])=>{var j;return((j=s.find(N=>N.id===b))==null?void 0:j.group_id)===p.id}).reduce((b,[,j])=>b+j,0);return o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("h3",{className:"text-base font-semibold text-white",children:[p.name,p.required&&o.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),o.jsxs("span",{className:"text-sm text-gray-400",children:[w,"/",p.max_quantity]})]}),o.jsxs("p",{className:"text-xs text-gray-400 mb-2",children:["Escolha de ",p.min_quantity," a ",p.max_quantity," opes"]}),o.jsx("div",{className:"space-y-2",children:y.map(b=>{const j=a[b.id]||0;return o.jsx("div",{className:`glass-effect rounded-lg p-3 transition-all ${j>0?"ring-2 ring-yellow-400":""}`,children:o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-white font-medium text-sm",children:b.name}),o.jsx("p",{className:"text-xs text-gray-400",children:b.price>0?`+ R$ ${b.price.toFixed(2)}`:"Grtis"})]}),j>0?o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.jsx("button",{onClick:()=>_(b.id,p.id,-1),className:"w-7 h-7 rounded-full bg-red-600 hover:bg-red-700 text-white flex items-center justify-center transition-colors",children:o.jsx(ha,{className:"w-3 h-3"})}),o.jsx("span",{className:"text-white font-semibold w-5 text-center text-sm",children:j}),o.jsx("button",{onClick:()=>_(b.id,p.id,1),className:"w-7 h-7 rounded-full bg-green-600 hover:bg-green-700 text-white flex items-center justify-center transition-colors",children:o.jsx(at,{className:"w-3 h-3"})})]}):o.jsx("button",{onClick:()=>f(b.id,p.id),className:"btn-primary text-white px-3 py-1.5 rounded-lg text-xs flex-shrink-0",children:"Adicionar"})]})},b.id)})})]},p.id)}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-white font-semibold mb-2 text-sm",children:"Observaes (opcional)"}),o.jsx("textarea",{value:h,onChange:p=>d(p.target.value),placeholder:"Ex: Sem cebola, ponto da carne...",className:"w-full px-3 py-2 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400 resize-none text-sm",rows:2})]}),o.jsx("div",{className:"glass-effect rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-white font-semibold text-sm",children:"Quantidade"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>u(Math.max(1,c-1)),className:"w-8 h-8 rounded-full bg-red-600 hover:bg-red-700 text-white flex items-center justify-center transition-colors",children:o.jsx(ha,{className:"w-4 h-4"})}),o.jsx("span",{className:"text-white font-bold text-lg w-8 text-center",children:c}),o.jsx("button",{onClick:()=>u(c+1),className:"w-8 h-8 rounded-full bg-green-600 hover:bg-green-700 text-white flex items-center justify-center transition-colors",children:o.jsx(at,{className:"w-4 h-4"})})]})]})})]}),o.jsx("div",{className:"glass-effect p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("button",{onClick:x,disabled:!S(),className:"w-full btn-primary text-white py-3 rounded-xl font-bold text-base disabled:opacity-50 disabled:cursor-not-allowed",children:["Adicionar - R$ ",g().toFixed(2)]})})]})})}function mv({onBack:t,onClose:e}){const{items:n,getSubtotal:r,clearCart:s}=Pi(),i=_l(),[a,l]=k.useState([]),[c,u]=k.useState("info"),[h,d]=k.useState(""),[m,v]=k.useState({subtotal:0,deliveryFee:0,total:0}),[f,_]=k.useState({customerName:"",customerPhone:"",deliveryType:"delivery",neighborhoodId:"",street:"",houseNumber:"",paymentMethod:"pix",referencePoint:""}),[S,x]=k.useState(""),[g,p]=k.useState(!1),[y,w]=k.useState({});k.useEffect(()=>{b()},[]),k.useEffect(()=>{const C=O=>{O.target.closest(".neighborhood-autocomplete")||p(!1)};return g&&document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[g]);const b=async()=>{const{data:C}=await T.from("delivery_areas").select("*").eq("active",!0).order("name");C&&l(C)},j=()=>{if(f.deliveryType==="pickup")return 0;const C=a.find(O=>O.id===f.neighborhoodId);return(C==null?void 0:C.delivery_fee)||0},N=()=>r()+j(),I=()=>{const C={};return f.customerName.trim()||(C.customerName="Nome  obrigatrio"),f.customerPhone.trim()||(C.customerPhone="Telefone  obrigatrio"),f.deliveryType==="delivery"&&(f.neighborhoodId||(C.neighborhoodId="Selecione o bairro"),f.street.trim()||(C.street="Nome da rua  obrigatrio"),f.houseNumber.trim()||(C.houseNumber="Nmero da casa  obrigatrio")),w(C),Object.keys(C).length===0},$=async C=>{if(C.preventDefault(),!!I())try{const O=`#${Date.now().toString().slice(-6)}`;let{data:H}=await T.from("customers").select("*").eq("phone",f.customerPhone).maybeSingle(),ne;if(H){const{data:me}=await T.from("customers").update({name:f.customerName,last_order_at:new Date().toISOString(),total_orders:H.total_orders+1,total_spent:H.total_spent+N()}).eq("id",H.id).select().single();ne=me.id}else{const{data:me}=await T.from("customers").insert({name:f.customerName,phone:f.customerPhone,total_orders:1,total_spent:N()}).select().single();ne=me.id}const{data:sr,error:lt}=await T.from("orders").insert({order_number:O,customer_id:ne,customer_name:f.customerName,customer_phone:f.customerPhone,delivery_type:f.deliveryType,payment_method:f.paymentMethod,status:"pending",neighborhood_id:f.deliveryType==="delivery"?f.neighborhoodId:null,street:f.deliveryType==="delivery"?f.street:null,house_number:f.deliveryType==="delivery"?f.houseNumber:null,address:f.deliveryType==="delivery"?`${f.street}, ${f.houseNumber}`:null,reference_point:f.deliveryType==="delivery"?f.referencePoint:null,subtotal:r(),delivery_fee:j(),total:N()}).select().single();if(lt)throw lt;for(const me of n){const{data:R,error:L}=await T.from("order_items").insert({order_id:sr.id,product_id:me.productId,product_name:me.productName,product_price:me.productPrice,quantity:me.quantity,notes:me.notes}).select().single();if(L)throw L;for(const D of me.addons)await T.from("order_item_addons").insert({order_item_id:R.id,addon_id:D.id,addon_name:D.name,addon_price:D.price,quantity:D.quantity})}d(O),v({subtotal:r(),deliveryFee:j(),total:N()}),u("success"),s()}catch(O){console.error("Error creating order:",O),i.error("Erro ao criar pedido. Tente novamente.")}};return c==="success"?o.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"glass-effect rounded-2xl max-w-md w-full p-8 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(li,{className:"w-12 h-12 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Pedido Realizado!"}),o.jsxs("p",{className:"text-xl text-gray-300 mb-2",children:["Nmero do pedido: ",o.jsx("span",{className:"text-yellow-400 font-bold",children:h})]}),o.jsx("p",{className:"text-gray-400 mb-8",children:f.deliveryType==="delivery"?"Seu pedido est sendo preparado e ser entregue em breve!":"Seu pedido est sendo preparado! Aguarde para retirada."}),o.jsxs("div",{className:"glass-effect rounded-lg p-4 mb-6 text-left",children:[o.jsx("h3",{className:"text-white font-semibold mb-3",children:"Resumo do Pedido"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between text-gray-300",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["R$ ",m.subtotal.toFixed(2)]})]}),f.deliveryType==="delivery"&&o.jsxs("div",{className:"flex justify-between text-gray-300",children:[o.jsx("span",{children:"Taxa de entrega"}),o.jsxs("span",{children:["R$ ",m.deliveryFee.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-white font-bold text-base pt-2 border-t border-white/10",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["R$ ",m.total.toFixed(2)]})]})]})]}),o.jsx("button",{onClick:e,className:"w-full btn-primary text-white py-3 rounded-xl font-semibold",children:"Fechar"})]})}):o.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 overflow-y-auto",children:o.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:o.jsxs("div",{className:"glass-effect rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto scrollbar-thin",children:[o.jsxs("div",{className:"sticky top-0 glass-effect p-6 border-b border-white/10 flex items-center gap-4",children:[o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:o.jsx(Nm,{className:"w-6 h-6"})}),o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Finalizar Pedido"})]}),o.jsxs("form",{onSubmit:$,className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-white font-semibold mb-2",children:"Nome completo *"}),o.jsx("input",{type:"text",value:f.customerName,onChange:C=>_({...f,customerName:C.target.value}),className:`w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 ${y.customerName?"ring-2 ring-red-500":"focus:ring-yellow-400"}`,placeholder:"Seu nome"}),y.customerName&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.customerName})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white font-semibold mb-2",children:"Telefone *"}),o.jsx("input",{type:"tel",value:f.customerPhone,onChange:C=>_({...f,customerPhone:C.target.value}),className:`w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 ${y.customerPhone?"ring-2 ring-red-500":"focus:ring-yellow-400"}`,placeholder:"(00) 00000-0000"}),y.customerPhone&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.customerPhone})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white font-semibold mb-3",children:"Tipo de pedido *"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("button",{type:"button",onClick:()=>_({...f,deliveryType:"delivery"}),className:`p-4 rounded-lg font-semibold transition-all ${f.deliveryType==="delivery"?"btn-primary text-white":"glass-effect text-gray-300 hover:text-white"}`,children:" Entrega"}),o.jsx("button",{type:"button",onClick:()=>_({...f,deliveryType:"pickup"}),className:`p-4 rounded-lg font-semibold transition-all ${f.deliveryType==="pickup"?"btn-primary text-white":"glass-effect text-gray-300 hover:text-white"}`,children:" Retirada"})]})]}),f.deliveryType==="delivery"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative neighborhood-autocomplete",children:[o.jsx("label",{className:"block text-white font-semibold mb-2",children:"Bairro *"}),o.jsx("input",{type:"text",placeholder:"Digite para buscar o bairro...",value:S,onChange:C=>{x(C.target.value),p(!0),C.target.value===""&&_({...f,neighborhoodId:""})},onFocus:()=>p(!0),className:`w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 ${y.neighborhoodId?"ring-2 ring-red-500":"focus:ring-yellow-400"}`}),g&&S&&o.jsxs("div",{className:"absolute z-50 w-full mt-1 max-h-60 overflow-y-auto bg-gray-900 rounded-lg border-2 border-yellow-400 shadow-2xl",children:[a.filter(C=>C.name.toLowerCase().includes(S.toLowerCase())).map(C=>o.jsxs("button",{type:"button",onClick:()=>{_({...f,neighborhoodId:C.id}),x(C.name),p(!1)},className:"w-full px-4 py-3 text-left text-white hover:bg-yellow-400/30 transition-colors border-b border-gray-700 last:border-b-0",children:[o.jsx("div",{className:"font-semibold text-base",children:C.name}),o.jsxs("div",{className:"text-sm font-bold text-yellow-400 mt-1",children:["Taxa: R$ ",C.delivery_fee.toFixed(2)]})]},C.id)),a.filter(C=>C.name.toLowerCase().includes(S.toLowerCase())).length===0&&o.jsx("div",{className:"px-4 py-3 text-gray-400 text-center",children:"Nenhum bairro encontrado"})]}),y.neighborhoodId&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.neighborhoodId})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-white font-semibold mb-2",children:"Nome da rua *"}),o.jsx("input",{type:"text",value:f.street,onChange:C=>_({...f,street:C.target.value}),className:`w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 ${y.street?"ring-2 ring-red-500":"focus:ring-yellow-400"}`,placeholder:"Ex: Rua das Flores"}),y.street&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.street})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white font-semibold mb-2",children:"Nmero *"}),o.jsx("input",{type:"text",value:f.houseNumber,onChange:C=>_({...f,houseNumber:C.target.value}),className:`w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 ${y.houseNumber?"ring-2 ring-red-500":"focus:ring-yellow-400"}`,placeholder:"Ex: 123"}),y.houseNumber&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:y.houseNumber})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white font-semibold mb-2",children:"Ponto de referncia (opcional)"}),o.jsx("input",{type:"text",value:f.referencePoint,onChange:C=>_({...f,referencePoint:C.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",placeholder:"Ex: Prximo ao mercado, casa amarela..."})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white font-semibold mb-3",children:"Forma de pagamento *"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{value:"pix",label:" PIX"},{value:"dinheiro",label:" Dinheiro"},{value:"debito",label:" Dbito"},{value:"credito",label:" Crdito"}].map(C=>o.jsx("button",{type:"button",onClick:()=>_({...f,paymentMethod:C.value}),className:`p-3 rounded-lg font-semibold transition-all ${f.paymentMethod===C.value?"btn-primary text-white":"glass-effect text-gray-300 hover:text-white"}`,children:C.label},C.value))})]}),o.jsxs("div",{className:"glass-effect rounded-lg p-6 space-y-3",children:[o.jsx("h3",{className:"text-white font-semibold text-lg",children:"Resumo"}),o.jsxs("div",{className:"flex justify-between text-gray-300",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["R$ ",r().toFixed(2)]})]}),f.deliveryType==="delivery"&&o.jsxs("div",{className:"flex justify-between text-gray-300",children:[o.jsx("span",{children:"Taxa de entrega"}),o.jsxs("span",{children:["R$ ",j().toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-white font-bold text-xl pt-3 border-t border-white/10",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{className:"text-yellow-400",children:["R$ ",N().toFixed(2)]})]})]}),o.jsx("button",{type:"submit",className:"w-full btn-primary text-white py-4 rounded-xl font-bold text-lg",children:"Confirmar Pedido"})]})]})})})}function gv({onClose:t}){const{items:e,removeItem:n,updateQuantity:r,getSubtotal:s}=Pi(),[i,a]=k.useState(!1);return i?o.jsx(mv,{onBack:()=>a(!1),onClose:t}):o.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-end md:items-center justify-center",children:o.jsxs("div",{className:"glass-effect rounded-t-3xl md:rounded-2xl w-full md:max-w-2xl md:max-h-[90vh] flex flex-col max-h-[90vh]",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Seu Carrinho"}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:o.jsx(fn,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin p-6",children:e.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("p",{className:"text-xl text-gray-400",children:"Seu carrinho est vazio"}),o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Adicione produtos para continuar"})]}):o.jsx("div",{className:"space-y-4",children:e.map(l=>{const c=(l.productPrice+l.addons.reduce((u,h)=>u+h.price*h.quantity,0))*l.quantity;return o.jsxs("div",{className:"glass-effect rounded-xl p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:l.productName}),o.jsxs("p",{className:"text-sm text-gray-400",children:["R$ ",l.productPrice.toFixed(2)]})]}),o.jsx("button",{onClick:()=>n(l.id),className:"text-red-400 hover:text-red-300 transition-colors",children:o.jsx(er,{className:"w-5 h-5"})})]}),l.addons.length>0&&o.jsx("div",{className:"mb-3 pl-4 border-l-2 border-yellow-400/30",children:l.addons.map((u,h)=>o.jsxs("p",{className:"text-sm text-gray-300",children:["+ ",u.name," ",u.quantity>1&&`(${u.quantity}x)`,u.price>0&&` - R$ ${(u.price*u.quantity).toFixed(2)}`]},h))}),l.notes&&o.jsxs("p",{className:"text-sm text-gray-400 mb-3 italic",children:["Obs: ",l.notes]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>r(l.id,l.quantity-1),className:"w-8 h-8 rounded-full bg-red-600 hover:bg-red-700 text-white flex items-center justify-center transition-colors",children:o.jsx(ha,{className:"w-4 h-4"})}),o.jsx("span",{className:"text-white font-semibold w-6 text-center",children:l.quantity}),o.jsx("button",{onClick:()=>r(l.id,l.quantity+1),className:"w-8 h-8 rounded-full bg-green-600 hover:bg-green-700 text-white flex items-center justify-center transition-colors",children:o.jsx(at,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:"text-lg font-bold text-yellow-400",children:["R$ ",c.toFixed(2)]})})]})]},l.id)})})}),e.length>0&&o.jsxs("div",{className:"p-6 border-t border-white/10 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between text-lg",children:[o.jsx("span",{className:"text-gray-300",children:"Subtotal"}),o.jsxs("span",{className:"text-white font-semibold",children:["R$ ",s().toFixed(2)]})]}),o.jsx("button",{onClick:()=>a(!0),className:"w-full btn-primary text-white py-4 rounded-xl font-bold text-lg",children:"Finalizar Pedido"})]})]})})}function vv(){var N,I,$,C;const[t,e]=k.useState([]),[n,r]=k.useState([]),[s,i]=k.useState([]),[a,l]=k.useState("all"),[c,u]=k.useState(""),[h,d]=k.useState(null),[m,v]=k.useState(!1),[f,_]=k.useState(0),{items:S,addItem:x}=Pi();k.useEffect(()=>{g(),p(),y()},[]),k.useEffect(()=>{if(s.length>1){const O=setInterval(()=>{_(H=>(H+1)%s.length)},5e3);return()=>clearInterval(O)}},[s.length]);const g=async()=>{const{data:O}=await T.from("categories").select("*").eq("active",!0).order("display_order");O&&e(O)},p=async()=>{const{data:O}=await T.from("products").select("*").eq("active",!0).order("display_order");O&&r(O)},y=async()=>{const{data:O}=await T.from("promotions").select("*").eq("active",!0).order("display_order");O&&i(O)},w=n.filter(O=>{const H=a==="all"||O.category_id===a,ne=O.name.toLowerCase().includes(c.toLowerCase())||O.description.toLowerCase().includes(c.toLowerCase());return H&&ne}),b=t.map(O=>({category:O,products:w.filter(H=>H.category_id===O.id)})).filter(O=>O.products.length>0),j=S.reduce((O,H)=>O+H.quantity,0);return o.jsxs("div",{className:"min-h-screen relative",children:[o.jsx(rr,{}),o.jsx(fv,{}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("header",{className:"glass-effect sticky top-0 z-50 border-b border-white/10",children:o.jsx("div",{className:"container mx-auto px-3 md:px-4 py-3 md:py-4",children:o.jsxs("div",{className:"flex items-center justify-between gap-2 md:gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 md:gap-3 min-w-0",children:[o.jsx("img",{src:"/expresso-delivery_615dab6902eee3285f7eabcacf6ac2ee.png",alt:"Hero's Brasa Burguer",className:"h-10 md:h-12 w-auto object-contain flex-shrink-0"}),o.jsx("div",{className:"min-w-0",children:o.jsx("p",{className:"text-xs md:text-sm text-gray-300 truncate",children:"Hamburgueria dos Super-Heris"})})]}),o.jsxs("button",{onClick:()=>v(!0),className:"relative btn-primary text-white px-3 md:px-6 py-2 md:py-3 rounded-lg font-semibold flex items-center gap-1 md:gap-2 flex-shrink-0 text-sm md:text-base",children:[o.jsx(Mm,{className:"w-4 h-4 md:w-5 md:h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Carrinho"}),j>0&&o.jsx("span",{className:"absolute -top-1 -right-1 md:-top-2 md:-right-2 bg-red-600 text-white rounded-full w-5 h-5 md:w-6 md:h-6 flex items-center justify-center text-xs md:text-sm font-bold",children:j})]})]})})}),s.length>0&&o.jsx("div",{className:"container mx-auto px-3 md:px-4 py-4 md:py-6",children:o.jsxs("div",{className:"relative overflow-hidden rounded-2xl hero-card",children:[((N=s[f])==null?void 0:N.image_url)&&o.jsx("img",{src:s[f].image_url,alt:s[f].title,className:"w-full h-48 md:h-64 object-cover"}),o.jsxs("div",{className:"p-4 md:p-6 lg:p-8",children:[o.jsxs("div",{className:"relative z-10",children:[o.jsx("h3",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white mb-2",children:(I=s[f])==null?void 0:I.title}),o.jsx("p",{className:"text-sm md:text-base lg:text-lg text-gray-200 mb-3",children:($=s[f])==null?void 0:$.description}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("span",{className:"text-2xl md:text-3xl font-bold text-yellow-400",children:["R$ ",(C=s[f])==null?void 0:C.price.toFixed(2).replace(".",",")]}),o.jsx("button",{onClick:()=>{const O=s[f];x({id:Date.now().toString(),productId:O.id,productName:O.title,productPrice:O.price,quantity:1,addons:[],notes:""})},className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold hover:scale-105 transition-transform",children:"Adicionar ao Carrinho"})]})]}),s.length>1&&o.jsx("div",{className:"flex gap-2 mt-4",children:s.map((O,H)=>o.jsx("button",{onClick:()=>_(H),className:`w-2 h-2 rounded-full transition-all ${H===f?"bg-yellow-400 w-8":"bg-white/30"}`},H))})]})]})}),o.jsxs("div",{className:"container mx-auto px-3 md:px-4 py-4 md:py-6",children:[o.jsx("div",{className:"mb-4 md:mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(zm,{className:"absolute left-3 md:left-4 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4 md:w-5 md:h-5"}),o.jsx("input",{type:"text",placeholder:"Buscar produtos...",value:c,onChange:O=>u(O.target.value),className:"w-full pl-10 md:pl-12 pr-3 md:pr-4 py-3 md:py-4 rounded-xl glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 text-sm md:text-base"})]})}),o.jsxs("div",{className:"flex gap-2 md:gap-3 mb-6 md:mb-8 overflow-x-auto pb-2 scrollbar-thin",children:[o.jsx("button",{onClick:()=>l("all"),className:`px-4 md:px-6 py-2 md:py-3 rounded-lg text-sm md:text-base font-semibold whitespace-nowrap transition-all ${a==="all"?"btn-primary text-white":"glass-effect text-gray-300 hover:text-white"}`,children:"Todos"}),t.map(O=>o.jsx("button",{onClick:()=>l(O.id),className:`px-4 md:px-6 py-2 md:py-3 rounded-lg text-sm md:text-base font-semibold whitespace-nowrap transition-all ${a===O.id?"btn-primary text-white":"glass-effect text-gray-300 hover:text-white"}`,children:O.name},O.id))]}),a==="all"?o.jsx("div",{className:"space-y-8",children:b.map(({category:O,products:H})=>o.jsxs("div",{children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white bg-gradient-to-r from-red-600 to-orange-600 inline-block px-6 py-2 rounded-lg shadow-lg",children:O.name}),O.description&&o.jsx("p",{className:"text-gray-300 text-sm mt-2 ml-1",children:O.description})]}),o.jsx("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:H.map(ne=>o.jsxs("div",{onClick:()=>d(ne),className:"hero-card rounded-xl overflow-hidden cursor-pointer",children:[ne.image_url?o.jsx("img",{src:ne.image_url,alt:ne.name,className:"w-full aspect-video object-cover"}):o.jsx("div",{className:"aspect-video bg-gradient-to-br from-red-900/30 to-blue-900/30 flex items-center justify-center text-4xl md:text-5xl",children:""}),o.jsxs("div",{className:"p-3 md:p-4",children:[o.jsx("h3",{className:"text-base md:text-lg font-bold text-white mb-1 md:mb-2 line-clamp-1",children:ne.name}),o.jsx("p",{className:"text-gray-300 text-xs mb-2 md:mb-3 line-clamp-2",children:ne.description}),o.jsxs("div",{className:"flex items-center justify-between gap-1 md:gap-2",children:[o.jsxs("span",{className:"text-lg md:text-xl font-bold text-yellow-400",children:["R$ ",ne.price.toFixed(2)]}),o.jsx("button",{className:"btn-primary text-white px-2 md:px-3 py-1.5 md:py-2 rounded-lg font-semibold text-xs",children:"+"})]})]})]},ne.id))})]},O.id))}):o.jsx("div",{className:"grid grid-cols-2 gap-3 md:gap-4 mb-6 md:mb-8",children:w.map(O=>o.jsxs("div",{onClick:()=>d(O),className:"hero-card rounded-xl overflow-hidden cursor-pointer",children:[O.image_url?o.jsx("img",{src:O.image_url,alt:O.name,className:"w-full aspect-video object-cover"}):o.jsx("div",{className:"aspect-video bg-gradient-to-br from-red-900/30 to-blue-900/30 flex items-center justify-center text-4xl md:text-5xl",children:""}),o.jsxs("div",{className:"p-3 md:p-4",children:[o.jsx("h3",{className:"text-base md:text-lg font-bold text-white mb-1 md:mb-2 line-clamp-1",children:O.name}),o.jsx("p",{className:"text-gray-300 text-xs mb-2 md:mb-3 line-clamp-2",children:O.description}),o.jsxs("div",{className:"flex items-center justify-between gap-1 md:gap-2",children:[o.jsxs("span",{className:"text-lg md:text-xl font-bold text-yellow-400",children:["R$ ",O.price.toFixed(2)]}),o.jsx("button",{className:"btn-primary text-white px-2 md:px-3 py-1.5 md:py-2 rounded-lg font-semibold text-xs",children:"+"})]})]})]},O.id))}),w.length===0&&o.jsxs("div",{className:"text-center py-12 md:py-16",children:[o.jsx("div",{className:"text-5xl md:text-6xl mb-4",children:""}),o.jsx("p",{className:"text-lg md:text-xl text-gray-400",children:"Nenhum produto encontrado"})]})]})]}),h&&o.jsx(pv,{product:h,onClose:()=>d(null)}),m&&o.jsx(gv,{onClose:()=>v(!1)})]})}const yo=[{value:"pending",label:"Pendente",color:"bg-yellow-600"},{value:"accepted",label:"Aceito",color:"bg-blue-600"},{value:"ready",label:"Pronto",color:"bg-orange-600"},{value:"driver_accepted",label:"Motoboy Aceitou",color:"bg-purple-600"},{value:"out_for_delivery",label:"Saiu para Entrega",color:"bg-cyan-600"},{value:"delivered",label:"Entregue",color:"bg-green-600"},{value:"cancelled",label:"Cancelado",color:"bg-red-600"}],eu={pix:"PIX",dinheiro:"Dinheiro",debito:"Dbito",credito:"Crdito"};function tu(){const[t,e]=k.useState([]),[n,r]=k.useState(!0),s=()=>{try{const d=new(window.AudioContext||window.webkitAudioContext),m=(v,f,_)=>{const S=d.createOscillator(),x=d.createGain();S.connect(x),x.connect(d.destination),S.frequency.value=v,S.type="sine",x.gain.setValueAtTime(.5,f),x.gain.exponentialRampToValueAtTime(.01,f+_),S.start(f),S.stop(f+_)};m(800,d.currentTime,.15),m(800,d.currentTime+.2,.15),m(1e3,d.currentTime+.4,.3),console.log(" Som de notificao tocado!")}catch(d){console.error("Erro ao tocar som de notificao:",d)}};k.useEffect(()=>{i(),console.log(" Conectando ao Realtime do Supabase...");const d=T.channel("orders_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},m=>{console.log(" Novo pedido recebido!",m),s(),i()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders"},m=>{console.log(" Pedido atualizado!",m),i()}).on("postgres_changes",{event:"DELETE",schema:"public",table:"orders"},m=>{console.log(" Pedido deletado!",m),i()}).on("postgres_changes",{event:"*",schema:"public",table:"order_items"},m=>{console.log(" Itens do pedido alterados!",m),i()}).on("postgres_changes",{event:"*",schema:"public",table:"order_item_addons"},m=>{console.log(" Adicionais do pedido alterados!",m),i()}).subscribe(m=>{console.log(" Status da subscrio Realtime:",m)});return()=>{console.log(" Desconectando do Realtime..."),d.unsubscribe()}},[]);const i=async()=>{r(!0);const{data:d}=await T.from("orders").select("*, delivery_areas(name), delivery_drivers(id, name, phone)").order("created_at",{ascending:!1});if(d){const m=await Promise.all(d.map(async v=>{var S;const{data:f}=await T.from("order_items").select("*").eq("order_id",v.id),_=await Promise.all((f||[]).map(async x=>{const{data:g}=await T.from("order_item_addons").select("*").eq("order_item_id",x.id);return{...x,addons:g||[]}}));return{...v,neighborhood_name:((S=v.delivery_areas)==null?void 0:S.name)||null,items:_}}));e(m)}r(!1)},a=async(d,m)=>{await T.from("orders").update({status:m}).eq("id",d),i()},l=d=>{const m=window.open("about:blank","_blank");if(!m){alert("Por favor, permita pop-ups para imprimir a comanda");return}const v=_=>new Date(_).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),f=m.document;f.open(),f.write('<html><head><meta charset="UTF-8">'),f.write("<title>Pedido "+d.order_number+"</title>"),f.write("<style>"),f.write("* { margin: 0; padding: 0; box-sizing: border-box; }"),f.write("body { font-family: Arial, sans-serif; font-size: 16px; font-weight: normal; line-height: 1.6; padding: 10px; width: 80mm; background: white; color: black; }"),f.write(".header { text-align: center; margin-bottom: 18px; padding-bottom: 14px; border-bottom: 3px solid black; }"),f.write(".store-name { font-size: 24px; font-weight: bold; margin-bottom: 6px; text-transform: uppercase; }"),f.write(".order-number { font-size: 26px; font-weight: bold; margin: 10px 0; }"),f.write(".section { margin-bottom: 14px; padding-bottom: 10px; border-bottom: 2px dashed #999; }"),f.write(".section-title { font-weight: bold; margin-bottom: 8px; font-size: 18px; text-transform: uppercase; }"),f.write(".item { margin-bottom: 14px; padding-bottom: 10px; border-bottom: 2px dashed #ccc; }"),f.write(".item-row { display: flex; justify-content: space-between; margin-bottom: 6px; font-size: 16px; }"),f.write(".item-name { font-weight: bold; text-transform: uppercase; }"),f.write(".addon { margin-left: 18px; font-size: 15px; font-weight: normal; display: flex; justify-content: space-between; }"),f.write(".note { margin-left: 18px; font-size: 15px; font-weight: normal; font-style: italic; margin-top: 6px; }"),f.write(".total { font-size: 22px; font-weight: bold; margin-top: 14px; padding-top: 14px; border-top: 3px solid black; text-align: right; }"),f.write(".footer { text-align: center; margin-top: 18px; padding-top: 14px; border-top: 2px dashed #999; font-size: 15px; font-weight: normal; }"),f.write("</style></head><body>"),f.write('<div class="header">'),f.write('<div class="store-name">Heros Brasa Burguer</div>'),f.write('<div style="font-size: 16px;">Hamburgueria dos Super-Herois</div>'),f.write('<div class="order-number">'+d.order_number+"</div>"),f.write('<div style="font-size: 16px;">'+v(d.created_at)+"</div>"),f.write("</div>"),f.write('<div class="section">'),f.write('<div class="section-title">Cliente</div>'),f.write('<div style="margin-bottom: 4px; font-size: 16px;">Nome: '+d.customer_name+"</div>"),f.write('<div style="margin-bottom: 4px; font-size: 16px;">Telefone: '+d.customer_phone+"</div>"),f.write("</div>"),f.write('<div class="section">'),f.write('<div class="section-title">Entrega</div>'),d.delivery_type==="delivery"?(f.write('<div style="margin-bottom: 4px; font-size: 16px;">Entrega em domicilio</div>'),d.street&&d.house_number?(f.write('<div style="margin-bottom: 4px; font-size: 16px;">Endereco:</div>'),f.write('<div style="margin-bottom: 4px; font-size: 16px;">'+d.street+", "+d.house_number+"</div>"),d.neighborhood_name&&f.write('<div style="margin-bottom: 4px; font-size: 16px;">Bairro: '+d.neighborhood_name+"</div>"),d.reference_point&&f.write('<div style="margin-bottom: 4px; font-size: 16px;">Referencia: '+d.reference_point+"</div>"),d.delivery_fee&&d.delivery_fee>0&&f.write('<div style="margin-top: 6px; font-size: 16px;">Taxa de entrega: R$ '+d.delivery_fee.toFixed(2)+"</div>")):d.address&&f.write('<div style="margin-bottom: 4px; font-size: 16px;">'+d.address+"</div>")):f.write('<div style="margin-bottom: 4px; font-size: 16px;">Retirada no local</div>'),f.write("</div>"),f.write('<div class="section">'),f.write('<div class="section-title">Pagamento</div>'),f.write('<div style="margin-bottom: 4px; font-size: 16px;">'+eu[d.payment_method]+"</div>"),f.write("</div>"),f.write('<div class="section">'),f.write('<div class="section-title">Itens do Pedido</div>'),d.items&&d.items.length>0?d.items.forEach(_=>{f.write('<div class="item">'),f.write('<div class="item-row">'),f.write('<span class="item-name">'+_.quantity+"x "+_.product_name+"</span>"),f.write("<span>R$ "+(_.product_price*_.quantity).toFixed(2)+"</span>"),f.write("</div>"),_.addons&&_.addons.length>0&&_.addons.forEach(S=>{f.write('<div class="addon">'),f.write("<span>+ "+S.quantity+"x "+S.addon_name+"</span>"),f.write("<span>R$ "+(S.addon_price*S.quantity).toFixed(2)+"</span>"),f.write("</div>")}),_.notes&&f.write('<div class="note">Obs: '+_.notes+"</div>"),f.write("</div>")}):f.write('<div style="text-align: center; font-size: 16px; color: #666;">Nenhum item disponivel</div>'),f.write("</div>"),f.write('<div class="total">Total: R$ '+d.total.toFixed(2)+"</div>"),f.write('<div class="footer">Obrigado pela preferencia!<br>Volte sempre!</div>'),f.write("</body></html>"),f.close(),setTimeout(()=>{m.focus(),m.print()},500)},c=t.filter(d=>d.status!=="delivered"&&d.status!=="cancelled"),u=d=>{var m;return((m=yo.find(v=>v.value===d))==null?void 0:m.color)||"bg-gray-600"},h=d=>{var m;return((m=yo.find(v=>v.value===d))==null?void 0:m.label)||d};return o.jsxs("div",{className:"space-y-4 md:space-y-6",children:[o.jsx("div",{className:"glass-effect rounded-xl p-4 md:p-6",children:o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white",children:"Gerenciar Pedidos"})}),n?o.jsxs("div",{className:"glass-effect rounded-xl p-8 md:p-12 text-center",children:[o.jsx("div",{className:"text-4xl mb-4",children:""}),o.jsx("p",{className:"text-gray-400",children:"Carregando pedidos..."})]}):c.length===0?o.jsxs("div",{className:"glass-effect rounded-xl p-8 md:p-12 text-center",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("p",{className:"text-xl text-gray-400",children:"Nenhum pedido ativo"})]}):o.jsx("div",{className:"space-y-3",children:c.map(d=>o.jsxs("div",{className:"glass-effect rounded-lg p-3 md:p-4 hover:bg-white/10 transition-all",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("h3",{className:"text-lg md:text-xl font-bold text-white mb-1",children:["Pedido ",d.order_number]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[o.jsx(gh,{className:"w-3 h-3"}),new Date(d.created_at).toLocaleString("pt-BR")]})]}),o.jsx("span",{className:`px-2 py-1 rounded text-white font-semibold text-xs ${u(d.status)} self-start`,children:h(d.status)})]}),o.jsxs("div",{className:"space-y-2 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm text-gray-300",children:[o.jsx(xl,{className:"w-3 h-3 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:d.customer_name}),o.jsx("span",{className:"text-gray-500",children:""}),o.jsx("span",{className:"whitespace-nowrap",children:d.customer_phone})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm text-gray-300",children:[o.jsx(vh,{className:"w-3 h-3 flex-shrink-0"}),o.jsx("span",{children:eu[d.payment_method]})]}),o.jsxs("div",{className:"flex items-start gap-2 text-xs md:text-sm text-gray-300",children:[o.jsx(yl,{className:"w-3 h-3 flex-shrink-0 mt-0.5"}),d.delivery_type==="delivery"?o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-white mb-1",children:"Entrega:"}),d.street&&d.house_number?o.jsxs(o.Fragment,{children:[o.jsxs("p",{children:[d.street,", ",d.house_number]}),d.neighborhood_name&&o.jsx("p",{className:"text-yellow-400",children:d.neighborhood_name}),d.reference_point&&o.jsxs("p",{className:"text-gray-400 italic text-[10px] mt-1",children:["Referncia: ",d.reference_point]}),d.delivery_fee>0&&o.jsxs("p",{className:"text-[10px] text-gray-400 mt-1",children:["Taxa de entrega: R$ ",d.delivery_fee.toFixed(2)]})]}):d.address?o.jsx("p",{children:d.address}):o.jsx("p",{className:"text-gray-400 italic",children:"Endereo no informado"})]}):o.jsx("span",{children:"Retirada no local"})]}),d.delivery_drivers&&o.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm",children:[o.jsx(qt,{className:"w-3 h-3 flex-shrink-0 text-blue-400"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("span",{className:"text-blue-400 font-semibold",children:"Motoboy: "}),o.jsx("span",{className:"text-white",children:d.delivery_drivers.name}),o.jsx("span",{className:"text-gray-500",children:"  "}),o.jsx("span",{className:"text-gray-300",children:d.delivery_drivers.phone})]})]})]}),o.jsxs("div",{className:"mb-3 glass-effect rounded-lg p-2",children:[o.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[o.jsx(ui,{className:"w-3 h-3 text-yellow-400"}),o.jsx("p",{className:"text-white font-semibold text-xs",children:"Itens do Pedido"})]}),d.items&&d.items.length>0?o.jsx("div",{className:"space-y-1.5",children:d.items.map(m=>o.jsxs("div",{className:"bg-black/20 rounded p-2",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("span",{className:"text-white font-medium text-xs",children:[m.quantity,"x ",m.product_name]}),o.jsxs("span",{className:"text-yellow-400 font-semibold text-xs",children:["R$ ",(m.product_price*m.quantity).toFixed(2)]})]}),m.addons&&m.addons.length>0&&o.jsx("div",{className:"ml-3 mt-1 space-y-0.5",children:m.addons.map((v,f)=>o.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400",children:[o.jsxs("span",{children:["+ ",v.quantity,"x ",v.addon_name]}),o.jsxs("span",{children:["R$ ",(v.addon_price*v.quantity).toFixed(2)]})]},f))}),m.notes&&o.jsxs("p",{className:"text-[10px] text-gray-400 mt-1 italic",children:["Obs: ",m.notes]})]},m.id))}):o.jsx("div",{className:"bg-black/20 rounded p-2 text-center",children:o.jsx("p",{className:"text-[10px] text-gray-400 italic",children:"Pedido antigo - itens no disponveis"})})]}),o.jsx("div",{className:"pt-2 mb-3 border-t border-white/10",children:o.jsxs("p",{className:"text-lg md:text-xl font-bold text-yellow-400",children:["Total: R$ ",d.total.toFixed(2)]})}),o.jsxs("button",{onClick:()=>l(d),className:"w-full px-3 py-2 rounded-lg font-semibold bg-blue-600 hover:bg-blue-700 text-white transition-colors text-xs flex items-center justify-center gap-2 mb-3",children:[o.jsx(Dm,{className:"w-4 h-4"}),"Imprimir Comanda"]}),d.status!=="delivered"&&d.status!=="cancelled"&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"glass-effect rounded-lg p-2",children:[o.jsx("p",{className:"text-white font-semibold mb-2 text-xs",children:"Alterar Status"}),o.jsxs("div",{className:"relative",children:[o.jsx("select",{value:d.status,onChange:m=>a(d.id,m.target.value),className:"w-full px-3 py-2 rounded-lg glass-effect text-white appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-yellow-400 text-xs",disabled:d.status==="driver_accepted"||d.status==="out_for_delivery",children:yo.filter(m=>d.delivery_type==="delivery"&&m.value==="accepted"?!0:!(m.value==="pending"||m.value==="driver_accepted"||m.value==="out_for_delivery")).map(m=>o.jsx("option",{value:m.value,className:"bg-gray-900",children:m.label},m.value))}),o.jsx(Cm,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),o.jsx("button",{onClick:()=>a(d.id,"cancelled"),className:"w-full px-3 py-2 rounded-lg font-semibold bg-red-600 hover:bg-red-700 text-white transition-colors text-xs",children:"Cancelar Pedido"})]})]},d.id))})]})}function yv(){const t=_l(),[e,n]=k.useState([]),[r,s]=k.useState([]),[i,a]=k.useState([]),[l,c]=k.useState({customerName:"",customerPhone:"",deliveryType:"delivery",neighborhoodId:"",street:"",houseNumber:"",referencePoint:"",paymentMethod:"pix"}),[u,h]=k.useState(""),[d,m]=k.useState(!1);k.useEffect(()=>{v(),f()},[]),k.useEffect(()=>{const p=y=>{y.target.closest(".neighborhood-autocomplete")||m(!1)};return d&&document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[d]);const v=async()=>{const{data:p}=await T.from("products").select("id, name, price").eq("active",!0);p&&n(p)},f=async()=>{const{data:p}=await T.from("delivery_areas").select("*").eq("active",!0);p&&s(p)},_=p=>{const y=i.find(w=>w.productId===p);a(y?i.map(w=>w.productId===p?{...w,quantity:w.quantity+1}:w):[...i,{productId:p,quantity:1}])},S=p=>{a(i.filter(y=>y.productId!==p))},x=()=>{var w;const p=i.reduce((b,j)=>{const N=e.find(I=>I.id===j.productId);return b+((N==null?void 0:N.price)||0)*j.quantity},0),y=l.deliveryType==="delivery"&&((w=r.find(b=>b.id===l.neighborhoodId))==null?void 0:w.delivery_fee)||0;return p+y},g=async p=>{var N;if(p.preventDefault(),!l.customerName||!l.customerPhone||i.length===0){t.warning("Preencha todos os campos e adicione produtos");return}const y=`#${Date.now().toString().slice(-6)}`,w=i.reduce((I,$)=>{const C=e.find(O=>O.id===$.productId);return I+((C==null?void 0:C.price)||0)*$.quantity},0),b=l.deliveryType==="delivery"&&((N=r.find(I=>I.id===l.neighborhoodId))==null?void 0:N.delivery_fee)||0,{data:j}=await T.from("orders").insert({order_number:y,customer_name:l.customerName,customer_phone:l.customerPhone,delivery_type:l.deliveryType,payment_method:l.paymentMethod,status:"pending",neighborhood_id:l.deliveryType==="delivery"?l.neighborhoodId:null,street:l.deliveryType==="delivery"?l.street:null,house_number:l.deliveryType==="delivery"?l.houseNumber:null,address:l.deliveryType==="delivery"?`${l.street}, ${l.houseNumber}`:null,reference_point:l.deliveryType==="delivery"?l.referencePoint:null,subtotal:w,delivery_fee:b,total:w+b}).select().single();if(j){for(const I of i){const $=e.find(C=>C.id===I.productId);await T.from("order_items").insert({order_id:j.id,product_id:I.productId,quantity:I.quantity,unit_price:$.price,subtotal:$.price*I.quantity})}t.success(`Pedido ${y} criado com sucesso!`),a([]),h(""),c({customerName:"",customerPhone:"",deliveryType:"delivery",neighborhoodId:"",street:"",houseNumber:"",referencePoint:"",paymentMethod:"pix"})}};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"glass-effect rounded-xl p-6",children:o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Novo Pedido"})}),o.jsxs("form",{onSubmit:g,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("input",{type:"text",placeholder:"Nome do cliente",value:l.customerName,onChange:p=>c({...l,customerName:p.target.value}),className:"px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"}),o.jsx("input",{type:"tel",placeholder:"Telefone",value:l.customerPhone,onChange:p=>c({...l,customerPhone:p.target.value}),className:"px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("button",{type:"button",onClick:()=>c({...l,deliveryType:"delivery"}),className:`p-3 rounded-lg font-semibold ${l.deliveryType==="delivery"?"btn-primary text-white":"glass-effect text-gray-300"}`,children:"Entrega"}),o.jsx("button",{type:"button",onClick:()=>c({...l,deliveryType:"pickup"}),className:`p-3 rounded-lg font-semibold ${l.deliveryType==="pickup"?"btn-primary text-white":"glass-effect text-gray-300"}`,children:"Retirada"})]}),l.deliveryType==="delivery"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative neighborhood-autocomplete",children:[o.jsx("label",{className:"block text-white font-semibold mb-2",children:"Bairro *"}),o.jsx("input",{type:"text",placeholder:"Digite para buscar o bairro...",value:u,onChange:p=>{h(p.target.value),m(!0),p.target.value===""&&c({...l,neighborhoodId:""})},onFocus:()=>m(!0),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"}),d&&u&&o.jsxs("div",{className:"absolute z-50 w-full mt-1 max-h-60 overflow-y-auto bg-gray-900 rounded-lg border-2 border-yellow-400 shadow-2xl",children:[r.filter(p=>p.name.toLowerCase().includes(u.toLowerCase())).map(p=>o.jsxs("button",{type:"button",onClick:()=>{c({...l,neighborhoodId:p.id}),h(p.name),m(!1)},className:"w-full px-4 py-3 text-left text-white hover:bg-yellow-400/30 transition-colors border-b border-gray-700 last:border-b-0",children:[o.jsx("div",{className:"font-semibold text-base",children:p.name}),o.jsxs("div",{className:"text-sm font-bold text-yellow-400 mt-1",children:["Taxa: R$ ",p.delivery_fee.toFixed(2)]})]},p.id)),r.filter(p=>p.name.toLowerCase().includes(u.toLowerCase())).length===0&&o.jsx("div",{className:"px-4 py-3 text-gray-400 text-center",children:"Nenhum bairro encontrado"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-white font-semibold mb-2",children:"Nome da rua *"}),o.jsx("input",{type:"text",placeholder:"Ex: Rua das Flores",value:l.street,onChange:p=>c({...l,street:p.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white font-semibold mb-2",children:"Nmero *"}),o.jsx("input",{type:"text",placeholder:"Ex: 123",value:l.houseNumber,onChange:p=>c({...l,houseNumber:p.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white font-semibold mb-2",children:"Ponto de referncia"}),o.jsx("input",{type:"text",placeholder:"Ex: Prximo ao mercado, casa amarela...",value:l.referencePoint,onChange:p=>c({...l,referencePoint:p.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"})]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["pix","dinheiro","debito","credito"].map(p=>o.jsx("button",{type:"button",onClick:()=>c({...l,paymentMethod:p}),className:`p-3 rounded-lg font-semibold ${l.paymentMethod===p?"btn-primary text-white":"glass-effect text-gray-300"}`,children:p.charAt(0).toUpperCase()+p.slice(1)},p))}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-semibold mb-3",children:"Produtos"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:e.map(p=>o.jsxs("button",{type:"button",onClick:()=>_(p.id),className:"glass-effect p-4 rounded-lg text-left hover:bg-white/10 transition-colors",children:[o.jsx("p",{className:"text-white font-semibold",children:p.name}),o.jsxs("p",{className:"text-yellow-400",children:["R$ ",p.price.toFixed(2)]})]},p.id))}),i.length>0&&o.jsxs("div",{className:"glass-effect p-4 rounded-lg space-y-2",children:[o.jsx("h4",{className:"text-white font-semibold mb-2",children:"Produtos Selecionados"}),i.map(p=>{const y=e.find(w=>w.id===p.productId);return o.jsxs("div",{className:"flex justify-between items-center text-gray-300",children:[o.jsxs("span",{children:[y==null?void 0:y.name," x",p.quantity]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("span",{children:["R$ ",(((y==null?void 0:y.price)||0)*p.quantity).toFixed(2)]}),o.jsx("button",{type:"button",onClick:()=>S(p.productId),className:"text-red-400 hover:text-red-300",children:"Remover"})]})]},p.productId)}),o.jsxs("div",{className:"pt-2 border-t border-white/10 flex justify-between text-white font-bold",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{className:"text-yellow-400",children:["R$ ",x().toFixed(2)]})]})]})]}),o.jsx("button",{type:"submit",className:"w-full btn-primary text-white py-4 rounded-xl font-bold text-lg",children:"Criar Pedido"})]})]})}function Hh({isOpen:t,title:e,message:n,confirmText:r="Confirmar",cancelText:s="Cancelar",onConfirm:i,onCancel:a,type:l="danger"}){if(!t)return null;const c={danger:"bg-red-600 hover:bg-red-700",warning:"bg-yellow-600 hover:bg-yellow-700",info:"bg-blue-600 hover:bg-blue-700"};return o.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center p-4 animate-fade-in",children:[o.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:a}),o.jsxs("div",{className:"relative glass-effect rounded-2xl p-6 md:p-8 max-w-md w-full animate-scale-in border border-white/10 shadow-2xl",children:[o.jsx("button",{onClick:a,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:o.jsx(fn,{className:"w-6 h-6"})}),o.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[o.jsx("div",{className:`p-3 rounded-full ${l==="danger"?"bg-red-600/20":l==="warning"?"bg-yellow-600/20":"bg-blue-600/20"}`,children:o.jsx(km,{className:`w-8 h-8 ${l==="danger"?"text-red-500":l==="warning"?"text-yellow-500":"text-blue-500"}`})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:e}),o.jsx("p",{className:"text-gray-300 leading-relaxed",children:n})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:a,className:"flex-1 px-6 py-3 rounded-lg font-semibold glass-effect text-white hover:bg-white/10 transition-all",children:s}),o.jsx("button",{onClick:i,className:`flex-1 px-6 py-3 rounded-lg font-semibold text-white transition-all ${c[l]}`,children:r})]})]})]})}function Li(){const[t,e]=k.useState(!1),[n,r]=k.useState({title:"",message:""}),[s,i]=k.useState(null),a=h=>(r(h),e(!0),new Promise(d=>{i(()=>d)})),l=()=>{e(!1),s&&s(!0)},c=()=>{e(!1),s&&s(!1)};return{confirm:a,ConfirmDialog:()=>o.jsx(Hh,{isOpen:t,title:n.title,message:n.message,confirmText:n.confirmText,cancelText:n.cancelText,type:n.type,onConfirm:l,onCancel:c})}}function xv(){const{confirm:t,ConfirmDialog:e}=Li(),[n,r]=k.useState([]),[s,i]=k.useState(!1),[a,l]=k.useState(null),[c,u]=k.useState({name:"",description:"",active:!0,display_order:0});k.useEffect(()=>{h()},[]);const h=async()=>{const{data:f}=await T.from("categories").select("*").order("display_order");f&&r(f)},d=async f=>{f.preventDefault(),a?await T.from("categories").update(c).eq("id",a):await T.from("categories").insert(c),i(!1),l(null),u({name:"",description:"",active:!0,display_order:0}),h()},m=f=>{u(f),l(f.id),i(!0)},v=async f=>{await t({title:"Excluir Categoria",message:"Tem certeza que deseja excluir esta categoria? Todos os produtos associados sero afetados.",type:"danger"})&&(await T.from("categories").delete().eq("id",f),h())};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"glass-effect rounded-xl p-6",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Categorias"}),o.jsxs("button",{onClick:()=>i(!s),className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[o.jsx(at,{className:"w-5 h-5"}),"Nova Categoria"]})]})}),s&&o.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:a?"Editar Categoria":"Nova Categoria"}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsx("input",{type:"text",placeholder:"Nome da categoria",value:c.name,onChange:f=>u({...c,name:f.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0}),o.jsx("textarea",{placeholder:"Descrio",value:c.description,onChange:f=>u({...c,description:f.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400 resize-none",rows:3}),o.jsx("input",{type:"number",placeholder:"Ordem de exibio",value:c.display_order,onChange:f=>u({...c,display_order:parseInt(f.target.value)}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"}),o.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:c.active,onChange:f=>u({...c,active:f.target.checked}),className:"w-5 h-5 rounded"}),"Ativo"]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"submit",className:"flex-1 btn-primary text-white py-3 rounded-lg font-semibold",children:a?"Salvar":"Criar"}),o.jsx("button",{type:"button",onClick:()=>{i(!1),l(null),u({name:"",description:"",active:!0,display_order:0})},className:"px-6 py-3 rounded-lg glass-effect text-gray-300 hover:text-white",children:"Cancelar"})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(f=>o.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:f.name}),o.jsx("span",{className:`px-3 py-1 rounded-lg text-sm ${f.active?"bg-green-600":"bg-gray-600"} text-white`,children:f.active?"Ativo":"Inativo"})]}),o.jsx("p",{className:"text-gray-300 text-sm mb-4",children:f.description}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>m(f),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[o.jsx(Ti,{className:"w-4 h-4"}),"Editar"]}),o.jsxs("button",{onClick:()=>v(f.id),className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[o.jsx(er,{className:"w-4 h-4"}),"Excluir"]})]})]},f.id))}),o.jsx(e,{})]})}function wv(){const{confirm:t,ConfirmDialog:e}=Li(),[n,r]=k.useState("products"),[s,i]=k.useState([]),[a,l]=k.useState([]),[c,u]=k.useState([]),[h,d]=k.useState([]),[m,v]=k.useState(!1),[f,_]=k.useState(!1),[S,x]=k.useState(!1),[g,p]=k.useState(null),[y,w]=k.useState({name:"",description:"",price:0,category_id:"",active:!0,image_url:""}),[b,j]=k.useState(null),[N,I]=k.useState(""),[$,C]=k.useState({name:"",min_quantity:0,max_quantity:10,required:!1}),[O,H]=k.useState({group_id:"",name:"",price:0,active:!0}),[ne,sr]=k.useState(null),[lt,me]=k.useState([]);k.useEffect(()=>{R()},[]);const R=async()=>{const{data:P}=await T.from("products").select("*").order("name"),{data:B}=await T.from("categories").select("*"),{data:we}=await T.from("addon_groups").select("*"),{data:_e}=await T.from("addons").select("*"),{data:or}=await T.from("product_addon_groups").select("*");P&&i(P),B&&l(B),we&&u(we),_e&&d(_e),or&&me(or)},L=P=>{var we;const B=(we=P.target.files)==null?void 0:we[0];if(B){j(B);const _e=new FileReader;_e.onloadend=()=>{I(_e.result)},_e.readAsDataURL(B)}},D=async P=>{const B=P.name.split(".").pop(),_e=`${Math.random().toString(36).substring(2)}-${Date.now()}.${B}`,{error:or}=await T.storage.from("product-images").upload(_e,P);if(or)return console.error("Erro ao fazer upload:",or),null;const{data:Wh}=T.storage.from("product-images").getPublicUrl(_e);return Wh.publicUrl},X=async P=>{P.preventDefault();let B=y.image_url;if(b){const _e=await D(b);_e&&(B=_e)}const we={...y,image_url:B};g?await T.from("products").update(we).eq("id",g):await T.from("products").insert(we),v(!1),p(null),w({name:"",description:"",price:0,category_id:"",active:!0,image_url:""}),j(null),I(""),R()},se=async P=>{P.preventDefault();const{error:B}=await T.from("addon_groups").insert($);if(B){console.error("Erro ao salvar grupo:",B);return}await R(),_(!1),C({name:"",min_quantity:0,max_quantity:10,required:!1})},mn=async P=>{P.preventDefault(),await T.from("addons").insert(O),x(!1),H({group_id:"",name:"",price:0,active:!0}),R()},ct=async P=>{await t({title:"Excluir Produto",message:"Tem certeza que deseja excluir este produto? Esta ao no pode ser desfeita.",type:"danger"})&&(await T.from("products").delete().eq("id",P),R())},ir=P=>{p(P.id),w({name:P.name,description:P.description,price:P.price,category_id:P.category_id,active:P.active,image_url:P.image_url||""}),P.image_url&&I(P.image_url),v(!0),window.scrollTo({top:0,behavior:"smooth"})},ut=async(P,B)=>{const we=lt.find(_e=>_e.product_id===P&&_e.addon_group_id===B);we?await T.from("product_addon_groups").delete().eq("id",we.id):await T.from("product_addon_groups").insert({product_id:P,addon_group_id:B}),R()},gn=P=>lt.filter(B=>B.product_id===P).map(B=>B.addon_group_id);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Produtos e Adicionais"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>r("products"),className:`px-6 py-3 rounded-lg font-semibold ${n==="products"?"btn-primary text-white":"glass-effect text-gray-300"}`,children:"Produtos"}),o.jsx("button",{onClick:()=>r("addons"),className:`px-6 py-3 rounded-lg font-semibold ${n==="addons"?"btn-primary text-white":"glass-effect text-gray-300"}`,children:"Adicionais"})]})]}),n==="products"?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>v(!m),className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[o.jsx(at,{className:"w-5 h-5"}),"Novo Produto"]}),m&&o.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:g?"Editar Produto":"Novo Produto"}),o.jsxs("form",{onSubmit:X,className:"space-y-4",children:[o.jsx("input",{type:"text",placeholder:"Nome do produto",value:y.name,onChange:P=>w({...y,name:P.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white focus:ring-2 focus:ring-yellow-400",required:!0}),o.jsx("textarea",{placeholder:"Descrio",value:y.description,onChange:P=>w({...y,description:P.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white resize-none",rows:3}),o.jsx("input",{type:"number",step:"0.01",placeholder:"Preo",value:y.price,onChange:P=>w({...y,price:parseFloat(P.target.value)}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white",required:!0}),o.jsxs("select",{value:y.category_id,onChange:P=>w({...y,category_id:P.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white",children:[o.jsx("option",{value:"",children:"Selecione a categoria"}),a.map(P=>o.jsx("option",{value:P.id,className:"bg-gray-900",children:P.name},P.id))]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-white font-semibold",children:"Imagem do Produto"}),o.jsx("input",{type:"file",accept:"image/*",onChange:L,className:"w-full px-4 py-3 rounded-lg glass-effect text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-yellow-500 file:text-black file:font-semibold hover:file:bg-yellow-400"}),N&&o.jsxs("div",{className:"mt-3 relative",children:[o.jsx("img",{src:N,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),o.jsx("button",{type:"button",onClick:()=>{I(""),j(null),w({...y,image_url:""})},className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700 text-white p-2 rounded-full transition-colors",title:"Remover imagem",children:o.jsx(fn,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"submit",className:"flex-1 btn-primary text-white py-3 rounded-lg font-semibold",children:g?"Atualizar":"Salvar"}),g&&o.jsx("button",{type:"button",onClick:()=>{p(null),v(!1),w({name:"",description:"",price:0,category_id:"",active:!0,image_url:""}),j(null),I("")},className:"flex-1 bg-gray-600 text-white py-3 rounded-lg font-semibold",children:"Cancelar"})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(P=>o.jsxs("div",{className:"glass-effect rounded-xl overflow-hidden",children:[P.image_url&&o.jsx("img",{src:P.image_url,alt:P.name,className:"w-full h-48 object-cover"}),o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:P.name}),o.jsx("p",{className:"text-gray-300 text-sm mb-2",children:P.description}),o.jsxs("p",{className:"text-2xl font-bold text-yellow-400 mb-4",children:["R$ ",P.price.toFixed(2)]}),o.jsxs("div",{className:"flex gap-2 mb-3",children:[o.jsxs("button",{onClick:()=>ir(P),className:"flex-1 bg-blue-600 text-white py-2 rounded-lg flex items-center justify-center gap-2",children:[o.jsx(Ti,{className:"w-4 h-4"}),"Editar"]}),o.jsxs("button",{onClick:()=>ct(P.id),className:"flex-1 bg-red-600 text-white py-2 rounded-lg flex items-center justify-center gap-2",children:[o.jsx(er,{className:"w-4 h-4"}),"Excluir"]})]}),o.jsx("button",{onClick:()=>sr(ne===P.id?null:P.id),className:"w-full btn-primary text-white py-2 rounded-lg text-sm",children:ne===P.id?"Fechar":"Gerenciar Adicionais"}),ne===P.id&&o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsx("p",{className:"text-white font-semibold text-sm mb-2",children:"Grupos de Adicionais:"}),c.map(B=>{const we=gn(P.id).includes(B.id);return o.jsxs("button",{onClick:()=>ut(P.id,B.id),className:`w-full px-3 py-2 rounded-lg text-sm transition-colors ${we?"bg-green-600 text-white":"glass-effect text-gray-300 hover:bg-gray-700"}`,children:[we?" ":"",B.name]},B.id)})]})]})]},P.id))})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:()=>_(!f),className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[o.jsx(at,{className:"w-5 h-5"}),"Novo Grupo"]}),o.jsxs("button",{onClick:()=>x(!S),className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[o.jsx(at,{className:"w-5 h-5"}),"Novo Adicional"]})]}),f&&o.jsx("div",{className:"glass-effect rounded-xl p-6",children:o.jsxs("form",{onSubmit:se,className:"space-y-4",children:[o.jsx("input",{type:"text",placeholder:"Nome do grupo",value:$.name,onChange:P=>C({...$,name:P.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white",required:!0}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("input",{type:"number",placeholder:"Quantidade mnima",value:$.min_quantity,onChange:P=>C({...$,min_quantity:parseInt(P.target.value)}),className:"px-4 py-3 rounded-lg glass-effect text-white"}),o.jsx("input",{type:"number",placeholder:"Quantidade mxima",value:$.max_quantity,onChange:P=>C({...$,max_quantity:parseInt(P.target.value)}),className:"px-4 py-3 rounded-lg glass-effect text-white"})]}),o.jsx("button",{type:"submit",className:"w-full btn-primary text-white py-3 rounded-lg font-semibold",children:"Criar Grupo"})]})}),S&&o.jsx("div",{className:"glass-effect rounded-xl p-6",children:o.jsxs("form",{onSubmit:mn,className:"space-y-4",children:[o.jsxs("select",{value:O.group_id,onChange:P=>H({...O,group_id:P.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white",required:!0,children:[o.jsx("option",{value:"",children:"Selecione o grupo"}),c.map(P=>o.jsx("option",{value:P.id,className:"bg-gray-900",children:P.name},P.id))]}),o.jsx("input",{type:"text",placeholder:"Nome do adicional",value:O.name,onChange:P=>H({...O,name:P.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white",required:!0}),o.jsx("input",{type:"number",step:"0.01",placeholder:"Preo (0 se grtis)",value:O.price,onChange:P=>H({...O,price:parseFloat(P.target.value)}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white"}),o.jsx("button",{type:"submit",className:"w-full btn-primary text-white py-3 rounded-lg font-semibold",children:"Criar Adicional"})]})}),o.jsx("div",{className:"space-y-6",children:c.map(P=>o.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:P.name}),o.jsxs("p",{className:"text-gray-300 text-sm mb-4",children:["Quantidade: ",P.min_quantity," - ",P.max_quantity]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:h.filter(B=>B.group_id===P.id).map(B=>o.jsxs("div",{className:"glass-effect p-4 rounded-lg",children:[o.jsx("p",{className:"text-white font-semibold",children:B.name}),o.jsx("p",{className:"text-yellow-400",children:B.price>0?`R$ ${B.price.toFixed(2)}`:"Grtis"})]},B.id))})]},P.id))})]}),o.jsx(e,{})]})}function _v(){const{confirm:t,ConfirmDialog:e}=Li(),[n,r]=k.useState([]),[s,i]=k.useState(!1),[a,l]=k.useState(null),[c,u]=k.useState({name:"",delivery_fee:0,active:!0});k.useEffect(()=>{h()},[]);const h=async()=>{const{data:f}=await T.from("delivery_areas").select("*").order("name");f&&r(f)},d=async f=>{f.preventDefault(),a?await T.from("delivery_areas").update(c).eq("id",a):await T.from("delivery_areas").insert(c),i(!1),l(null),u({name:"",delivery_fee:0,active:!0}),h()},m=f=>{u({name:f.name,delivery_fee:f.delivery_fee,active:f.active}),l(f.id),i(!0)},v=async f=>{await t({title:"Excluir Bairro",message:"Tem certeza que deseja excluir este bairro? As taxas de entrega sero removidas.",type:"danger"})&&(await T.from("delivery_areas").delete().eq("id",f),h())};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"glass-effect rounded-xl p-6",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Bairros de Entrega"}),o.jsxs("button",{onClick:()=>i(!s),className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[o.jsx(at,{className:"w-5 h-5"}),"Novo Bairro"]})]})}),s&&o.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:a?"Editar Bairro":"Novo Bairro"}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsx("input",{type:"text",placeholder:"Nome do bairro",value:c.name,onChange:f=>u({...c,name:f.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0}),o.jsx("input",{type:"number",step:"0.01",placeholder:"Taxa de entrega (R$)",value:c.delivery_fee,onChange:f=>u({...c,delivery_fee:parseFloat(f.target.value)}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0}),o.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:c.active,onChange:f=>u({...c,active:f.target.checked}),className:"w-5 h-5 rounded"}),"Ativo"]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"submit",className:"flex-1 btn-primary text-white py-3 rounded-lg font-semibold",children:a?"Salvar":"Criar"}),o.jsx("button",{type:"button",onClick:()=>{i(!1),l(null),u({name:"",delivery_fee:0,active:!0})},className:"px-6 py-3 rounded-lg glass-effect text-gray-300 hover:text-white",children:"Cancelar"})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(f=>o.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:f.name}),o.jsx("span",{className:`px-3 py-1 rounded-lg text-sm ${f.active?"bg-green-600":"bg-gray-600"} text-white`,children:f.active?"Ativo":"Inativo"})]}),o.jsxs("p",{className:"text-2xl font-bold text-yellow-400 mb-4",children:["R$ ",f.delivery_fee.toFixed(2)]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>m(f),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[o.jsx(Ti,{className:"w-4 h-4"}),"Editar"]}),o.jsxs("button",{onClick:()=>v(f.id),className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[o.jsx(er,{className:"w-4 h-4"}),"Excluir"]})]})]},f.id))}),o.jsx(e,{})]})}function bv(){const{confirm:t,ConfirmDialog:e}=Li(),[n,r]=k.useState([]),[s,i]=k.useState(!1),[a,l]=k.useState(null),[c,u]=k.useState(null),[h,d]=k.useState(""),[m,v]=k.useState({title:"",description:"",price:"",image_url:"",active:!0,display_order:0});k.useEffect(()=>{f()},[]);const f=async()=>{const{data:y}=await T.from("promotions").select("*").order("display_order");y&&r(y)},_=y=>{var b;const w=(b=y.target.files)==null?void 0:b[0];if(w){u(w);const j=new FileReader;j.onloadend=()=>{d(j.result)},j.readAsDataURL(w)}},S=async y=>{const w=y.name.split(".").pop(),j=`promo-${Math.random().toString(36).substring(2)}-${Date.now()}.${w}`,{error:N}=await T.storage.from("product-images").upload(j,y);if(N)return console.error("Erro ao fazer upload:",N),null;const{data:I}=T.storage.from("product-images").getPublicUrl(j);return I.publicUrl},x=async y=>{y.preventDefault();let w=m.image_url;if(c){const N=await S(c);N&&(w=N)}const b=parseFloat(m.price.replace(",",".")),j={...m,price:b,image_url:w};a?await T.from("promotions").update(j).eq("id",a):await T.from("promotions").insert(j),i(!1),l(null),v({title:"",description:"",price:"",image_url:"",active:!0,display_order:0}),u(null),d(""),f()},g=y=>{v({...y,price:y.price.toString().replace(".",",")}),y.image_url&&d(y.image_url),l(y.id),i(!0),window.scrollTo({top:0,behavior:"smooth"})},p=async y=>{await t({title:"Excluir Promoo",message:"Tem certeza que deseja excluir esta promoo? Ela ser removida do carrossel.",type:"danger"})&&(await T.from("promotions").delete().eq("id",y),f())};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"glass-effect rounded-xl p-6",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Promoes"}),o.jsx("p",{className:"text-gray-400 mt-1",children:"Aparecem no carrossel do catlogo digital"})]}),o.jsxs("button",{onClick:()=>i(!s),className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[o.jsx(at,{className:"w-5 h-5"}),"Nova Promoo"]})]})}),s&&o.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:a?"Editar Promoo":"Nova Promoo"}),o.jsxs("form",{onSubmit:x,className:"space-y-4",children:[o.jsx("input",{type:"text",placeholder:"Ttulo da promoo",value:m.title,onChange:y=>v({...m,title:y.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0}),o.jsx("textarea",{placeholder:"Descrio",value:m.description,onChange:y=>v({...m,description:y.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400 resize-none",rows:3,required:!0}),o.jsx("input",{type:"text",placeholder:"Preo (ex: 15,50)",value:m.price,onChange:y=>{const w=y.target.value.replace(/[^\d,]/g,"");v({...m,price:w})},className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white mb-2",children:"Imagem da Promoo"}),o.jsx("input",{type:"file",accept:"image/*",onChange:_,className:"w-full px-4 py-3 rounded-lg glass-effect text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-yellow-600 file:text-white file:cursor-pointer hover:file:bg-yellow-700"}),h&&o.jsxs("div",{className:"mt-3 relative",children:[o.jsx("img",{src:h,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),o.jsx("button",{type:"button",onClick:()=>{d(""),u(null),v({...m,image_url:""})},className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700 text-white p-2 rounded-full transition-colors",title:"Remover imagem",children:o.jsx(fn,{className:"w-5 h-5"})})]})]}),o.jsx("input",{type:"number",placeholder:"Ordem de exibio",value:m.display_order,onChange:y=>v({...m,display_order:parseInt(y.target.value)}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"}),o.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:m.active,onChange:y=>v({...m,active:y.target.checked}),className:"w-5 h-5 rounded"}),"Ativa"]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"submit",className:"flex-1 btn-primary text-white py-3 rounded-lg font-semibold",children:a?"Salvar":"Criar"}),o.jsx("button",{type:"button",onClick:()=>{i(!1),l(null),v({title:"",description:"",price:"",image_url:"",active:!0,display_order:0}),u(null),d("")},className:"px-6 py-3 rounded-lg glass-effect text-gray-300 hover:text-white",children:"Cancelar"})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(y=>o.jsxs("div",{className:"hero-card rounded-xl overflow-hidden",children:[y.image_url&&o.jsx("img",{src:y.image_url,alt:y.title,className:"w-full h-48 object-cover"}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx("h3",{className:"text-2xl font-bold text-white",children:y.title}),o.jsx("span",{className:`px-3 py-1 rounded-lg text-sm ${y.active?"bg-green-600":"bg-gray-600"} text-white`,children:y.active?"Ativa":"Inativa"})]}),o.jsx("p",{className:"text-gray-300 mb-2",children:y.description}),o.jsxs("p",{className:"text-2xl font-bold text-yellow-400 mb-4",children:["R$ ",y.price.toFixed(2).replace(".",",")]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>g(y),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[o.jsx(Ti,{className:"w-4 h-4"}),"Editar"]}),o.jsxs("button",{onClick:()=>p(y.id),className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[o.jsx(er,{className:"w-4 h-4"}),"Excluir"]})]})]})]},y.id))}),o.jsx(e,{})]})}function jv(){const[t,e]=k.useState({totalRevenue:0,totalOrders:0,topProducts:[],paymentMethods:{}}),[n,r]=k.useState({start:new Date(new Date().setDate(new Date().getDate()-30)).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]});k.useEffect(()=>{s()},[n]);const s=async()=>{const{data:a}=await T.from("orders").select("*, order_items(*, products(name))").gte("created_at",n.start).lte("created_at",n.end+"T23:59:59").eq("status","delivered");if(a){const l=a.reduce((m,v)=>m+v.total,0),c=a.length,u={};a.forEach(m=>{var v;(v=m.order_items)==null||v.forEach(f=>{var S;const _=((S=f.products)==null?void 0:S.name)||"Desconhecido";u[_]=(u[_]||0)+f.quantity})});const h=Object.entries(u).map(([m,v])=>({name:m,count:v})).sort((m,v)=>v.count-m.count).slice(0,10),d={};a.forEach(m=>{d[m.payment_method]=(d[m.payment_method]||0)+1}),e({totalRevenue:l,totalOrders:c,topProducts:h,paymentMethods:d})}},i={pix:"PIX",dinheiro:"Dinheiro",debito:"Carto Dbito",credito:"Carto Crdito"};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Relatrios e Analytics"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-white font-semibold mb-2",children:"Data Inicial"}),o.jsx("input",{type:"date",value:n.start,onChange:a=>r({...n,start:a.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white focus:outline-none focus:ring-2 focus:ring-yellow-400"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white font-semibold mb-2",children:"Data Final"}),o.jsx("input",{type:"date",value:n.end,onChange:a=>r({...n,end:a.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white focus:outline-none focus:ring-2 focus:ring-yellow-400"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{className:"glass-effect rounded-xl p-6",children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center",children:o.jsx(ci,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400 text-sm",children:"Faturamento Total"}),o.jsxs("p",{className:"text-3xl font-bold text-white",children:["R$ ",t.totalRevenue.toFixed(2)]})]})]})}),o.jsx("div",{className:"glass-effect rounded-xl p-6",children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center",children:o.jsx(wl,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400 text-sm",children:"Total de Pedidos"}),o.jsx("p",{className:"text-3xl font-bold text-white",children:t.totalOrders})]})]})})]}),o.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(Um,{className:"w-6 h-6 text-yellow-400"}),o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Produtos Mais Vendidos"})]}),o.jsxs("div",{className:"space-y-3",children:[t.topProducts.map((a,l)=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"w-8 h-8 rounded-full bg-yellow-600 flex items-center justify-center text-white font-bold",children:l+1}),o.jsx("span",{className:"text-white font-semibold",children:a.name})]}),o.jsxs("span",{className:"text-yellow-400 font-bold",children:[a.count," unidades"]})]},l)),t.topProducts.length===0&&o.jsx("p",{className:"text-center text-gray-400 py-8",children:"Nenhum produto vendido no perodo"})]})]}),o.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(vh,{className:"w-6 h-6 text-yellow-400"}),o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Formas de Pagamento"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[Object.entries(t.paymentMethods).map(([a,l])=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 text-center",children:[o.jsx("p",{className:"text-gray-400 text-sm mb-2",children:i[a]||a}),o.jsx("p",{className:"text-3xl font-bold text-white",children:l}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"pedidos"})]},a)),Object.keys(t.paymentMethods).length===0&&o.jsx("p",{className:"col-span-full text-center text-gray-400 py-8",children:"Nenhum pagamento registrado no perodo"})]})]})]})}function kv(){const[t,e]=k.useState([]),[n,r]=k.useState(!1),[s,i]=k.useState(!0),[a,l]=k.useState({isOpen:!1,media:null}),c=_l();k.useEffect(()=>{u()},[]);async function u(){try{const{data:v,error:f}=await T.from("background_media").select("*").order("order_position",{ascending:!0});if(f)throw f;e(v||[])}catch(v){console.error("Erro ao carregar mdias:",v),c.error("Erro ao carregar mdias de fundo")}finally{i(!1)}}async function h(v){var g,p,y;const f=(g=v.target.files)==null?void 0:g[0];if(!f)return;const _=f.type.startsWith("image/"),S=f.type.startsWith("video/");if(!_&&!S){c.warning("Por favor, envie apenas imagens ou vdeos");return}const x=100*1024*1024;if(f.size>x){c.error("Arquivo muito grande. O tamanho mximo  100MB.");return}r(!0);try{const w=f.name.split(".").pop(),j=`${`${Date.now()}-${Math.random().toString(36).substring(7)}.${w}`}`,{error:N}=await T.storage.from("background-media").upload(j,f,{cacheControl:"3600",upsert:!1});if(N)throw console.error("Upload error:",N),N;const{data:{publicUrl:I}}=T.storage.from("background-media").getPublicUrl(j),{error:$}=await T.from("background_media").insert({file_url:I,file_type:_?"image":"video",order_position:t.length,is_active:!0});if($)throw $;c.success("Mdia enviada com sucesso!"),u()}catch(w){console.error("Erro ao fazer upload:",w);let b="Erro ao enviar mdia.";(p=w==null?void 0:w.message)!=null&&p.includes("Payload")?b="Arquivo muito grande. Tente com um arquivo menor.":(y=w==null?void 0:w.message)!=null&&y.includes("duplicate")?b="J existe um arquivo com este nome.":w!=null&&w.message&&(b=`Erro: ${w.message}`),c.error(b)}finally{r(!1),v.target.value=""}}async function d(){if(a.media)try{const v=a.media.file_url.split("/").pop();v&&await T.storage.from("background-media").remove([v]);const{error:f}=await T.from("background_media").delete().eq("id",a.media.id);if(f)throw f;c.success("Mdia excluda com sucesso!"),u()}catch(v){console.error("Erro ao excluir mdia:",v),c.error("Erro ao excluir mdia")}finally{l({isOpen:!1,media:null})}}async function m(v){try{const{error:f}=await T.from("background_media").update({is_active:!v.is_active}).eq("id",v.id);if(f)throw f;u()}catch(f){console.error("Erro ao atualizar mdia:",f),c.error("Erro ao atualizar mdia")}}return s?o.jsx("div",{className:"p-8 text-center",children:o.jsx("div",{className:"text-gray-400",children:"Carregando..."})}):o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Mdias de Fundo"}),o.jsx("p",{className:"text-gray-400",children:"Gerencie as imagens e vdeos que aparecem no fundo do site"})]}),o.jsx("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:o.jsxs("label",{className:"block cursor-pointer",children:[o.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center hover:border-red-500 transition-colors",children:[o.jsx(Fm,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),o.jsx("p",{className:"text-white font-semibold mb-2",children:n?"Enviando...":"Clique para fazer upload"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Imagens (JPG, PNG, GIF) ou Vdeos (MP4, WebM)"})]}),o.jsx("input",{type:"file",accept:"image/*,video/*",onChange:h,disabled:n,className:"hidden"})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(v=>o.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden border-2 border-gray-700",children:[o.jsxs("div",{className:"relative aspect-video bg-gray-900",children:[v.file_type==="image"?o.jsx("img",{src:v.file_url,alt:"Background",className:"w-full h-full object-cover"}):o.jsx("video",{src:v.file_url,className:"w-full h-full object-cover",muted:!0,loop:!0}),o.jsxs("div",{className:"absolute top-2 right-2 bg-black/70 px-2 py-1 rounded flex items-center gap-1",children:[v.file_type==="image"?o.jsx(da,{className:"w-4 h-4 text-white"}):o.jsx(Hm,{className:"w-4 h-4 text-white"}),o.jsx("span",{className:"text-white text-xs uppercase",children:v.file_type})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("button",{onClick:()=>m(v),className:`px-3 py-1 rounded text-sm font-semibold transition-colors ${v.is_active?"bg-green-600 text-white hover:bg-green-700":"bg-gray-600 text-gray-300 hover:bg-gray-700"}`,children:v.is_active?"Ativo":"Inativo"}),o.jsx("button",{onClick:()=>l({isOpen:!0,media:v}),className:"p-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:o.jsx(er,{className:"w-4 h-4"})})]}),o.jsxs("p",{className:"text-gray-400 text-xs",children:["Adicionado em ",new Date(v.created_at).toLocaleDateString("pt-BR")]})]})]},v.id))}),t.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(da,{className:"w-16 h-16 mx-auto mb-4 text-gray-600"}),o.jsx("p",{className:"text-gray-400",children:"Nenhuma mdia adicionada ainda"}),o.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Faa upload de imagens ou vdeos para aparecerem no fundo do site"})]})]}),o.jsx(Hh,{isOpen:a.isOpen,title:"Excluir Mdia",message:"Tem certeza que deseja excluir esta mdia? Esta ao no pode ser desfeita.",confirmText:"Excluir",cancelText:"Cancelar",onConfirm:d,onCancel:()=>l({isOpen:!1,media:null}),type:"danger"})]})}function Nv(){const[t,e]=k.useState([]),[n,r]=k.useState(!0),[s,i]=k.useState("");k.useEffect(()=>{a()},[]);const a=async()=>{r(!0);const{data:c}=await T.from("customers").select("*").order("total_spent",{ascending:!1});c&&e(c),r(!1)},l=t.filter(c=>c.name.toLowerCase().includes(s.toLowerCase())||c.phone.includes(s));return o.jsxs("div",{className:"space-y-4 md:space-y-6",children:[o.jsxs("div",{className:"glass-effect rounded-xl p-4 md:p-6",children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Clientes"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[o.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Total de Clientes"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:t.length})]}),o.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[o.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Total em Pedidos"}),o.jsxs("p",{className:"text-2xl font-bold text-yellow-400",children:["R$ ",t.reduce((c,u)=>c+u.total_spent,0).toFixed(2)]})]}),o.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[o.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Pedidos Realizados"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:t.reduce((c,u)=>c+u.total_orders,0)})]})]})]}),o.jsxs("div",{className:"glass-effect rounded-xl p-4 md:p-6",children:[o.jsx("input",{type:"text",placeholder:"Buscar por nome ou telefone...",value:s,onChange:c=>i(c.target.value),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400 mb-4"}),n?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"text-4xl mb-4",children:""}),o.jsx("p",{className:"text-gray-400",children:"Carregando clientes..."})]}):l.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("p",{className:"text-xl text-gray-400",children:s?"Nenhum cliente encontrado":"Nenhum cliente cadastrado"})]}):o.jsx("div",{className:"space-y-3",children:l.map(c=>o.jsx("div",{className:"glass-effect rounded-lg p-4 hover:bg-white/10 transition-all",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:c.name}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[o.jsx(xl,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{children:c.phone})]}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[o.jsx(wl,{className:"w-4 h-4 flex-shrink-0"}),o.jsxs("span",{children:[c.total_orders," pedido",c.total_orders!==1?"s":""]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[o.jsx(ci,{className:"w-4 h-4 flex-shrink-0"}),o.jsxs("span",{children:["R$ ",c.total_spent.toFixed(2)," gasto"]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[o.jsx(Em,{className:"w-4 h-4 flex-shrink-0"}),o.jsxs("span",{children:["ltimo: ",new Date(c.last_order_at).toLocaleDateString("pt-BR")]})]})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-1",children:[o.jsx("span",{className:"text-xs text-gray-400",children:"Cliente desde"}),o.jsx("span",{className:"text-sm text-white font-semibold",children:new Date(c.created_at).toLocaleDateString("pt-BR")})]})]})},c.id))})]})]})}function Sv(){const[t,e]=k.useState([]),[n,r]=k.useState(!1),[s,i]=k.useState(null),[a,l]=k.useState({name:"",phone:"",username:"",password:""});k.useEffect(()=>{c()},[]);const c=async()=>{const{data:v}=await T.from("delivery_drivers").select("*").order("created_at",{ascending:!1});v&&e(v)},u=async v=>{if(v.preventDefault(),s){const f={name:a.name,phone:a.phone,username:a.username,updated_at:new Date().toISOString()};a.password&&(f.password=a.password),await T.from("delivery_drivers").update(f).eq("id",s.id)}else await T.from("delivery_drivers").insert([{name:a.name,phone:a.phone,username:a.username,password:a.password}]);c(),m()},h=async v=>{await T.from("delivery_drivers").update({is_active:!v.is_active,updated_at:new Date().toISOString()}).eq("id",v.id),c()},d=v=>{v?(i(v),l({name:v.name,phone:v.phone,username:v.username,password:""})):(i(null),l({name:"",phone:"",username:"",password:""})),r(!0)},m=()=>{r(!1),i(null),l({name:"",phone:"",username:"",password:""})};return o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Motoboys"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie os entregadores do sistema"})]}),o.jsxs("button",{onClick:()=>d(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[o.jsx(at,{className:"w-5 h-5"}),"Novo Motoboy"]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(v=>o.jsxs("div",{className:`bg-white rounded-lg shadow-md p-6 border-2 ${v.is_active?"border-green-500":"border-gray-300"}`,children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-3 rounded-full ${v.is_active?"bg-green-100":"bg-gray-100"}`,children:o.jsx(qt,{className:`w-6 h-6 ${v.is_active?"text-green-600":"text-gray-400"}`})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800",children:v.name}),o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${v.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:v.is_active?"Ativo":"Inativo"})]})]})}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx("span",{className:"font-semibold",children:"Telefone:"})," ",v.phone]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx("span",{className:"font-semibold",children:"Usurio:"})," ",v.username]}),o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Total de Entregas"}),o.jsx("span",{className:"text-2xl font-bold text-blue-600",children:v.total_deliveries})]})})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsxs("button",{onClick:()=>d(v),className:"flex-1 bg-gray-100 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-200 flex items-center justify-center gap-2",children:[o.jsx(Am,{className:"w-4 h-4"}),"Editar"]}),o.jsxs("button",{onClick:()=>h(v),className:`flex-1 px-3 py-2 rounded-lg flex items-center justify-center gap-2 ${v.is_active?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[o.jsx(Lm,{className:"w-4 h-4"}),v.is_active?"Desativar":"Ativar"]})]})]},v.id))}),t.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(qt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 text-lg",children:"Nenhum motoboy cadastrado"}),o.jsx("p",{className:"text-gray-400 mt-2",children:'Clique em "Novo Motoboy" para comear'})]}),n&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:s?"Editar Motoboy":"Novo Motoboy"}),o.jsxs("form",{onSubmit:u,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),o.jsx("input",{type:"text",required:!0,value:a.name,onChange:v=>l({...a,name:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),o.jsx("input",{type:"tel",required:!0,value:a.phone,onChange:v=>l({...a,phone:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usurio (Login)"}),o.jsx("input",{type:"text",required:!0,value:a.username,onChange:v=>l({...a,username:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Senha ",s&&"(deixe vazio para no alterar)"]}),o.jsx("input",{type:"password",required:!s,value:a.password,onChange:v=>l({...a,password:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx("button",{type:"button",onClick:m,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:s?"Salvar":"Criar"})]})]})]})})]})}const Ev=[{id:"orders",label:"Pedidos",icon:wl},{id:"newOrder",label:"Lanar Pedido",icon:Im},{id:"customers",label:"Clientes",icon:qm},{id:"categories",label:"Categorias",icon:Pm},{id:"products",label:"Produtos e Adicionais",icon:ui},{id:"delivery",label:"Delivery",icon:yl},{id:"drivers",label:"Motoboys",icon:qt},{id:"promotions",label:"Promoes",icon:Rm},{id:"reports",label:"Relatrios",icon:Sm},{id:"backgroundMedia",label:"Mdias de Fundo",icon:da}];function Cv(){const[t,e]=k.useState("orders"),[n,r]=k.useState(!1),s=()=>{switch(t){case"orders":return o.jsx(tu,{});case"newOrder":return o.jsx(yv,{});case"customers":return o.jsx(Nv,{});case"categories":return o.jsx(xv,{});case"products":return o.jsx(wv,{});case"delivery":return o.jsx(_v,{});case"drivers":return o.jsx(Sv,{});case"promotions":return o.jsx(bv,{});case"reports":return o.jsx(jv,{});case"backgroundMedia":return o.jsx(kv,{});default:return o.jsx(tu,{})}};return o.jsxs("div",{className:"min-h-screen relative",children:[o.jsx(rr,{}),o.jsxs("div",{className:"relative z-10 flex",children:[n&&o.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-30",onClick:()=>r(!1)}),o.jsxs("aside",{className:`fixed lg:sticky top-0 h-screen glass-effect border-r border-white/10 transition-transform duration-300 z-40 ${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0 w-72 flex flex-col`,children:[o.jsx("div",{className:"p-4 border-b border-white/10",children:o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsx("img",{src:"/logo.png",alt:"Hero's Brasa Burguer",className:"h-16 w-auto object-contain"}),o.jsx("button",{onClick:()=>r(!1),className:"lg:hidden glass-effect p-2 rounded-lg text-white hover:bg-white/10 transition-colors flex-shrink-0",children:o.jsx(fn,{className:"w-5 h-5"})})]})}),o.jsx("nav",{className:"p-4 space-y-2 flex-1 overflow-y-auto",children:Ev.map(i=>{const a=i.icon;return o.jsxs("button",{onClick:()=>{e(i.id),r(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-semibold transition-all ${t===i.id?"btn-primary text-white":"text-gray-300 hover:bg-white/5"}`,children:[o.jsx(a,{className:"w-5 h-5"}),i.label]},i.id)})})]}),!n&&o.jsx("button",{onClick:()=>r(!0),className:"lg:hidden fixed top-4 left-4 z-50 glass-effect p-3 rounded-lg text-white hover:bg-white/10 transition-colors",children:o.jsx($m,{className:"w-6 h-6"})}),o.jsx("main",{className:"flex-1 min-h-screen p-4 lg:p-8 pt-20 lg:pt-8",children:s()})]})]})}function Pv({onLogin:t}){const[e,n]=k.useState(""),[r,s]=k.useState(""),[i,a]=k.useState(""),[l,c]=k.useState(!1),u=async h=>{h.preventDefault(),a(""),c(!0);try{const{data:d,error:m}=await T.from("delivery_drivers").select("*").eq("username",e).eq("password",r).eq("is_active",!0).maybeSingle();if(m||!d){a("Usurio ou senha invlidos"),c(!1);return}t(d.id,d.name)}catch{a("Erro ao fazer login. Tente novamente."),c(!1)}};return o.jsxs("div",{className:"min-h-screen relative flex items-center justify-center p-4",children:[o.jsx(rr,{}),o.jsx("div",{className:"relative z-10 w-full max-w-md",children:o.jsxs("div",{className:"glass-effect rounded-2xl shadow-2xl p-8 border border-white/10",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mb-4",children:o.jsx(qt,{className:"w-10 h-10 text-white"})}),o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Painel do Motoboy"}),o.jsx("p",{className:"text-gray-300",children:"Faa login para acessar suas entregas"})]}),o.jsxs("form",{onSubmit:u,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-200 mb-2",children:"Usurio"}),o.jsx("input",{id:"username",type:"text",value:e,onChange:h=>n(h.target.value),required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite seu usurio"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-200 mb-2",children:"Senha"}),o.jsx("input",{id:"password",type:"password",value:r,onChange:h=>s(h.target.value),required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite sua senha"})]}),i&&o.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 px-4 py-3 rounded-lg text-sm",children:i}),o.jsxs("button",{type:"submit",disabled:l,className:"w-full btn-primary py-3 rounded-lg font-semibold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(Om,{className:"w-5 h-5"}),l?"Entrando...":"Entrar"]})]})]})})]})}function Tv({driverId:t,driverName:e,onLogout:n}){const[r,s]=k.useState([]),[i,a]=k.useState([]),[l,c]=k.useState(!1),[u,h]=k.useState({total:0,totalEarnings:0});k.useEffect(()=>{d(),m();const g=T.channel("driver-orders").on("postgres_changes",{event:"*",schema:"public",table:"orders"},()=>{d(),m()}).subscribe();return()=>{g.unsubscribe()}},[t]);const d=async()=>{const{data:g}=await T.from("orders").select("*, items:order_items(*)").eq("delivery_type","delivery").eq("status","ready").is("driver_id",null).order("created_at",{ascending:!1}),{data:p}=await T.from("orders").select("*, items:order_items(*)").eq("driver_id",t).in("status",["driver_accepted","out_for_delivery"]).order("created_at",{ascending:!1});s(g||[]),a(p||[])},m=async()=>{const{data:g}=await T.from("orders").select("delivery_fee").eq("driver_id",t).eq("status","delivered");if(g){const p=g.length,y=g.reduce((w,b)=>w+(b.delivery_fee||0),0);h({total:p,totalEarnings:y})}},v=async g=>{await T.from("orders").update({driver_id:t,status:"driver_accepted",driver_accepted_at:new Date().toISOString()}).eq("id",g),d()},f=async g=>{await T.from("orders").update({status:"out_for_delivery",out_for_delivery_at:new Date().toISOString()}).eq("id",g),d()},_=async g=>{await T.from("orders").update({status:"delivered",delivered_at:new Date().toISOString()}).eq("id",g),await T.rpc("increment",{row_id:t,x:1}),d(),m()},S=g=>new Date(g).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),x=({order:g,isAvailable:p})=>{var y,w,b;return o.jsxs("div",{className:"glass-effect rounded-lg p-4 md:p-6 border border-white/10",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3 mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:g.order_number}),o.jsx("p",{className:"text-gray-300 text-xs md:text-sm",children:S(g.created_at)})]}),o.jsxs("div",{className:"text-left sm:text-right bg-green-500/10 p-3 rounded-lg border border-green-500/30",children:[o.jsxs("p",{className:"text-xl md:text-2xl font-bold text-green-400",children:["R$ ",(y=g.delivery_fee)==null?void 0:y.toFixed(2)]}),o.jsx("p",{className:"text-gray-400 text-xs md:text-sm",children:"Taxa de entrega"})]})]}),o.jsxs("div",{className:"space-y-2 md:space-y-3 mb-4 bg-black/20 rounded-lg p-3 md:p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-200 text-sm md:text-base",children:[o.jsx(Bm,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{className:"font-semibold",children:g.customer_name})]}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-200 text-sm md:text-base",children:[o.jsx(xl,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("a",{href:`tel:${g.customer_phone}`,className:"text-blue-400 hover:underline",children:g.customer_phone})]}),o.jsxs("div",{className:"flex items-start gap-2 text-gray-200 text-sm md:text-base",children:[o.jsx(yl,{className:"w-4 h-4 flex-shrink-0 mt-1"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"font-semibold text-white",children:[g.street,", ",g.house_number]}),o.jsx("p",{className:"text-xs md:text-sm text-yellow-400 mt-1",children:g.neighborhood_name}),g.reference_point&&o.jsxs("p",{className:"text-xs md:text-sm text-gray-400 mt-1",children:[" ",g.reference_point]})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-white/10",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-200 text-sm",children:[o.jsx(ui,{className:"w-4 h-4"}),o.jsxs("span",{children:[((w=g.items)==null?void 0:w.length)||0," ",((b=g.items)==null?void 0:b.length)===1?"item":"itens"]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-200 text-sm",children:[o.jsx(ci,{className:"w-4 h-4"}),o.jsxs("span",{className:"font-semibold",children:["Total: R$ ",g.total.toFixed(2)]})]})]})]}),p?o.jsx("button",{onClick:()=>v(g.id),className:"w-full btn-primary py-3 md:py-4 rounded-lg font-bold text-base md:text-lg shadow-lg hover:scale-105 transition-transform",children:" Aceitar Entrega"}):o.jsxs("div",{className:"space-y-2",children:[g.status==="driver_accepted"&&o.jsx("button",{onClick:()=>f(g.id),className:"w-full bg-blue-600 text-white py-3 md:py-4 rounded-lg font-bold text-base md:text-lg hover:bg-blue-700 shadow-lg hover:scale-105 transition-transform",children:" Saiu para Entrega"}),g.status==="out_for_delivery"&&o.jsxs("button",{onClick:()=>_(g.id),className:"w-full bg-green-600 text-white py-3 md:py-4 rounded-lg font-bold text-base md:text-lg hover:bg-green-700 flex items-center justify-center gap-2 shadow-lg hover:scale-105 transition-transform",children:[o.jsx(li,{className:"w-5 h-5"}),"Finalizar Entrega"]})]})]})};return l?o.jsx(Ov,{driverId:t,driverName:e,onBack:()=>c(!1),onLogout:n}):o.jsxs("div",{className:"min-h-screen relative",children:[o.jsx(rr,{}),o.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto p-3 md:p-4",children:[o.jsx("div",{className:"glass-effect rounded-lg p-4 md:p-6 mb-4 md:mb-6 border border-white/10",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 md:p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full",children:o.jsx(qt,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:e}),o.jsx("p",{className:"text-sm text-gray-300",children:"Painel de Entregas"})]})]}),o.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[o.jsxs("button",{onClick:()=>c(!0),className:"glass-effect px-3 py-2 rounded-lg text-white hover:bg-white/10 flex items-center justify-center gap-2 flex-1 sm:flex-initial text-sm",children:[o.jsx(yh,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Histrico"})]}),o.jsxs("button",{onClick:n,className:"glass-effect px-3 py-2 rounded-lg text-white hover:bg-white/10 flex items-center justify-center gap-2 flex-1 sm:flex-initial text-sm",children:[o.jsx(xh,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Sair"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 md:gap-4 mb-4 md:mb-6",children:[o.jsx("div",{className:"glass-effect rounded-lg p-3 md:p-6 border border-white/10",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300 text-xs md:text-sm",children:"Entregas Hoje"}),o.jsx("p",{className:"text-2xl md:text-3xl font-bold text-white",children:i.length})]}),o.jsx(gh,{className:"w-6 h-6 md:w-8 md:h-8 text-blue-400 hidden md:block"})]})}),o.jsx("div",{className:"glass-effect rounded-lg p-3 md:p-6 border border-white/10",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300 text-xs md:text-sm",children:"Total Entregas"}),o.jsx("p",{className:"text-2xl md:text-3xl font-bold text-white",children:u.total})]}),o.jsx(li,{className:"w-6 h-6 md:w-8 md:h-8 text-green-400 hidden md:block"})]})}),o.jsx("div",{className:"glass-effect rounded-lg p-3 md:p-6 border border-white/10",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300 text-xs md:text-sm",children:"Total Ganhos"}),o.jsxs("p",{className:"text-xl md:text-3xl font-bold text-green-400",children:["R$ ",u.totalEarnings.toFixed(2)]})]}),o.jsx(ci,{className:"w-6 h-6 md:w-8 md:h-8 text-green-400 hidden md:block"})]})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-3 md:mb-4",children:" Entregas Disponveis"}),r.length===0?o.jsxs("div",{className:"glass-effect rounded-lg p-8 md:p-12 text-center border border-white/10",children:[o.jsx(ui,{className:"w-12 h-12 md:w-16 md:h-16 text-gray-400 mx-auto mb-3 md:mb-4"}),o.jsx("p",{className:"text-sm md:text-base text-gray-300",children:"Nenhuma entrega disponvel"})]}):o.jsx("div",{className:"space-y-3",children:r.map(g=>o.jsx(x,{order:g,isAvailable:!0},g.id))})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-3 md:mb-4",children:"Minhas Entregas"}),i.length===0?o.jsxs("div",{className:"glass-effect rounded-lg p-8 md:p-12 text-center border border-white/10",children:[o.jsx(qt,{className:"w-12 h-12 md:w-16 md:h-16 text-gray-400 mx-auto mb-3 md:mb-4"}),o.jsx("p",{className:"text-sm md:text-base text-gray-300",children:"Voc no tem entregas no momento"})]}):o.jsx("div",{className:"space-y-3",children:i.map(g=>o.jsx(x,{order:g,isAvailable:!1},g.id))})]})]})]})]})}function Ov({driverId:t,driverName:e,onBack:n,onLogout:r}){const[s,i]=k.useState([]);k.useEffect(()=>{a()},[t]);const a=async()=>{const{data:c}=await T.from("orders").select("*").eq("driver_id",t).eq("status","delivered").order("delivered_at",{ascending:!1});i(c||[])},l=s.reduce((c,u)=>c+(u.delivery_fee||0),0);return o.jsxs("div",{className:"min-h-screen relative",children:[o.jsx(rr,{}),o.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto p-3 md:p-4",children:[o.jsx("div",{className:"glass-effect rounded-lg p-4 md:p-6 mb-4 md:mb-6 border border-white/10",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 md:p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full",children:o.jsx(qt,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:e}),o.jsx("p",{className:"text-sm text-gray-300",children:"Histrico de Entregas"})]})]}),o.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[o.jsx("button",{onClick:n,className:"glass-effect px-3 py-2 rounded-lg text-white hover:bg-white/10 flex-1 sm:flex-initial text-sm",children:"Voltar"}),o.jsxs("button",{onClick:r,className:"glass-effect px-3 py-2 rounded-lg text-white hover:bg-white/10 flex items-center justify-center gap-2 flex-1 sm:flex-initial text-sm",children:[o.jsx(xh,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Sair"})]})]})]})}),o.jsx("div",{className:"glass-effect rounded-lg p-4 md:p-6 mb-4 md:mb-6 border border-white/10",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4 md:gap-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300 text-xs md:text-sm mb-1",children:"Total de Entregas"}),o.jsx("p",{className:"text-3xl md:text-4xl font-bold text-white",children:s.length})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300 text-xs md:text-sm mb-1",children:"Total em Taxas"}),o.jsxs("p",{className:"text-2xl md:text-4xl font-bold text-green-400",children:["R$ ",l.toFixed(2)]})]})]})}),o.jsxs("div",{className:"space-y-3 md:space-y-4",children:[s.map(c=>{var u;return o.jsxs("div",{className:"glass-effect rounded-lg p-4 md:p-6 border border-white/10",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2 mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-base md:text-lg font-bold text-white",children:c.order_number}),o.jsx("p",{className:"text-gray-400 text-xs md:text-sm",children:new Date(c.delivered_at).toLocaleString("pt-BR")})]}),o.jsxs("p",{className:"text-lg md:text-xl font-bold text-green-400",children:["R$ ",(u=c.delivery_fee)==null?void 0:u.toFixed(2)]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 md:gap-4 text-xs md:text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400",children:"Cliente"}),o.jsx("p",{className:"text-white",children:c.customer_name})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400",children:"Bairro"}),o.jsx("p",{className:"text-white",children:c.neighborhood_name})]})]})]},c.id)}),s.length===0&&o.jsxs("div",{className:"glass-effect rounded-lg p-8 md:p-12 text-center border border-white/10",children:[o.jsx(yh,{className:"w-12 h-12 md:w-16 md:h-16 text-gray-400 mx-auto mb-3 md:mb-4"}),o.jsx("p",{className:"text-sm md:text-base text-gray-300",children:"Nenhuma entrega realizada ainda"})]})]})]})]})}function Rv(){const[t,e]=k.useState("landing"),[n,r]=k.useState(null),[s,i]=k.useState("");k.useEffect(()=>{const u=()=>{const h=window.location.hash.slice(1);e(h==="admin"?"admin":h==="catalog"?"catalog":h==="driver"?"driver":"landing")};return u(),window.addEventListener("hashchange",u),()=>window.removeEventListener("hashchange",u)},[]);const a=()=>{window.location.hash="catalog"},l=(u,h)=>{r(u),i(h)},c=()=>{r(null),i("")};return o.jsx(Gm,{children:o.jsxs(wm,{children:[t==="landing"&&o.jsx(hv,{onOrderNow:a}),t==="catalog"&&o.jsx(vv,{}),t==="admin"&&o.jsx(Cv,{}),t==="driver"&&!n&&o.jsx(Pv,{onLogin:l}),t==="driver"&&n&&o.jsx(Tv,{driverId:n,driverName:s,onLogout:c})]})})}ph(document.getElementById("root")).render(o.jsx(k.StrictMode,{children:o.jsx(Rv,{})}));
