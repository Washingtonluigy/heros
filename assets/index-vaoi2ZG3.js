(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var cu={exports:{}},yi={},uu={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ts=Symbol.for("react.element"),ef=Symbol.for("react.portal"),tf=Symbol.for("react.fragment"),nf=Symbol.for("react.strict_mode"),rf=Symbol.for("react.profiler"),sf=Symbol.for("react.provider"),of=Symbol.for("react.context"),af=Symbol.for("react.forward_ref"),lf=Symbol.for("react.suspense"),cf=Symbol.for("react.memo"),uf=Symbol.for("react.lazy"),$l=Symbol.iterator;function df(t){return t===null||typeof t!="object"?null:(t=$l&&t[$l]||t["@@iterator"],typeof t=="function"?t:null)}var du={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hu=Object.assign,fu={};function sr(t,e,n){this.props=t,this.context=e,this.refs=fu,this.updater=n||du}sr.prototype.isReactComponent={};sr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pu(){}pu.prototype=sr.prototype;function Sa(t,e,n){this.props=t,this.context=e,this.refs=fu,this.updater=n||du}var Ea=Sa.prototype=new pu;Ea.constructor=Sa;hu(Ea,sr.prototype);Ea.isPureReactComponent=!0;var Al=Array.isArray,mu=Object.prototype.hasOwnProperty,Ca={current:null},gu={key:!0,ref:!0,__self:!0,__source:!0};function yu(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)mu.call(e,r)&&!gu.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ts,type:t,key:i,ref:a,props:s,_owner:Ca.current}}function hf(t,e){return{$$typeof:ts,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ta(t){return typeof t=="object"&&t!==null&&t.$$typeof===ts}function ff(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Il=/\/+/g;function zi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ff(""+t.key):e.toString(36)}function Rs(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ts:case ef:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+zi(a,0):r,Al(s)?(n="",t!=null&&(n=t.replace(Il,"$&/")+"/"),Rs(s,e,n,"",function(u){return u})):s!=null&&(Ta(s)&&(s=hf(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Il,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",Al(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+zi(i,l);a+=Rs(i,e,n,c,s)}else if(c=df(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+zi(i,l++),a+=Rs(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ds(t,e,n){if(t==null)return t;var r=[],s=0;return Rs(t,r,"","",function(i){return e.call(n,i,s++)}),r}function pf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ne={current:null},$s={transition:null},mf={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:$s,ReactCurrentOwner:Ca};function vu(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:ds,forEach:function(t,e,n){ds(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ds(t,function(){e++}),e},toArray:function(t){return ds(t,function(e){return e})||[]},only:function(t){if(!Ta(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};B.Component=sr;B.Fragment=tf;B.Profiler=rf;B.PureComponent=Sa;B.StrictMode=nf;B.Suspense=lf;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mf;B.act=vu;B.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=hu({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Ca.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)mu.call(e,c)&&!gu.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ts,type:t.type,key:s,ref:i,props:r,_owner:a}};B.createContext=function(t){return t={$$typeof:of,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sf,_context:t},t.Consumer=t};B.createElement=yu;B.createFactory=function(t){var e=yu.bind(null,t);return e.type=t,e};B.createRef=function(){return{current:null}};B.forwardRef=function(t){return{$$typeof:af,render:t}};B.isValidElement=Ta;B.lazy=function(t){return{$$typeof:uf,_payload:{_status:-1,_result:t},_init:pf}};B.memo=function(t,e){return{$$typeof:cf,type:t,compare:e===void 0?null:e}};B.startTransition=function(t){var e=$s.transition;$s.transition={};try{t()}finally{$s.transition=e}};B.unstable_act=vu;B.useCallback=function(t,e){return Ne.current.useCallback(t,e)};B.useContext=function(t){return Ne.current.useContext(t)};B.useDebugValue=function(){};B.useDeferredValue=function(t){return Ne.current.useDeferredValue(t)};B.useEffect=function(t,e){return Ne.current.useEffect(t,e)};B.useId=function(){return Ne.current.useId()};B.useImperativeHandle=function(t,e,n){return Ne.current.useImperativeHandle(t,e,n)};B.useInsertionEffect=function(t,e){return Ne.current.useInsertionEffect(t,e)};B.useLayoutEffect=function(t,e){return Ne.current.useLayoutEffect(t,e)};B.useMemo=function(t,e){return Ne.current.useMemo(t,e)};B.useReducer=function(t,e,n){return Ne.current.useReducer(t,e,n)};B.useRef=function(t){return Ne.current.useRef(t)};B.useState=function(t){return Ne.current.useState(t)};B.useSyncExternalStore=function(t,e,n){return Ne.current.useSyncExternalStore(t,e,n)};B.useTransition=function(){return Ne.current.useTransition()};B.version="18.3.1";uu.exports=B;var k=uu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf=k,yf=Symbol.for("react.element"),vf=Symbol.for("react.fragment"),xf=Object.prototype.hasOwnProperty,wf=gf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_f={key:!0,ref:!0,__self:!0,__source:!0};function xu(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)xf.call(e,r)&&!_f.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:yf,type:t,key:i,ref:a,props:s,_owner:wf.current}}yi.Fragment=vf;yi.jsx=xu;yi.jsxs=xu;cu.exports=yi;var o=cu.exports,wu={exports:{}},Me={},_u={exports:{}},bu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,I){var M=O.length;O.push(I);e:for(;0<M;){var K=M-1>>>1,re=O[K];if(0<s(re,I))O[K]=I,O[M]=re,M=K;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var I=O[0],M=O.pop();if(M!==I){O[0]=M;e:for(var K=0,re=O.length,Nt=re>>>1;K<Nt;){var Ee=2*(K+1)-1,Ke=O[Ee],Qe=Ee+1,St=O[Qe];if(0>s(Ke,M))Qe<re&&0>s(St,Ke)?(O[K]=St,O[Qe]=M,K=Qe):(O[K]=Ke,O[Ee]=M,K=Ee);else if(Qe<re&&0>s(St,M))O[K]=St,O[Qe]=M,K=Qe;else break e}}return I}function s(O,I){var M=O.sortIndex-I.sortIndex;return M!==0?M:O.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,y=!1,m=!1,j=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(O){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=O)r(u),I.sortIndex=I.expirationTime,e(c,I);else break;I=n(u)}}function x(O){if(j=!1,p(O),!m)if(n(c)!==null)m=!0,le(w);else{var I=n(u);I!==null&&Yt(x,I.startTime-O)}}function w(O,I){m=!1,j&&(j=!1,v(b),b=-1),y=!0;var M=f;try{for(p(I),d=n(c);d!==null&&(!(d.expirationTime>I)||O&&!U());){var K=d.callback;if(typeof K=="function"){d.callback=null,f=d.priorityLevel;var re=K(d.expirationTime<=I);I=t.unstable_now(),typeof re=="function"?d.callback=re:d===n(c)&&r(c),p(I)}else r(c);d=n(c)}if(d!==null)var Nt=!0;else{var Ee=n(u);Ee!==null&&Yt(x,Ee.startTime-I),Nt=!1}return Nt}finally{d=null,f=M,y=!1}}var _=!1,N=null,b=-1,P=5,$=-1;function U(){return!(t.unstable_now()-$<P)}function T(){if(N!==null){var O=t.unstable_now();$=O;var I=!0;try{I=N(!0,O)}finally{I?H():(_=!1,N=null)}}else _=!1}var H;if(typeof g=="function")H=function(){g(T)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,bn=ae.port2;ae.port1.onmessage=T,H=function(){bn.postMessage(null)}}else H=function(){E(T,0)};function le(O){N=O,_||(_=!0,H())}function Yt(O,I){b=E(function(){O(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){m||y||(m=!0,le(w))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var M=f;f=I;try{return O()}finally{f=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,I){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var M=f;f=O;try{return I()}finally{f=M}},t.unstable_scheduleCallback=function(O,I,M){var K=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?K+M:K):M=K,O){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=M+re,O={id:h++,callback:I,priorityLevel:O,startTime:M,expirationTime:re,sortIndex:-1},M>K?(O.sortIndex=M,e(u,O),n(c)===null&&O===n(u)&&(j?(v(b),b=-1):j=!0,Yt(x,M-K))):(O.sortIndex=re,e(c,O),m||y||(m=!0,le(w))),O},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(O){var I=f;return function(){var M=f;f=I;try{return O.apply(this,arguments)}finally{f=M}}}})(bu);_u.exports=bu;var bf=_u.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jf=k,De=bf;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ju=new Set,Lr={};function vn(t,e){Qn(t,e),Qn(t+"Capture",e)}function Qn(t,e){for(Lr[t]=e,t=0;t<e.length;t++)ju.add(e[t])}var wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_o=Object.prototype.hasOwnProperty,kf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ll={},Dl={};function Nf(t){return _o.call(Dl,t)?!0:_o.call(Ll,t)?!1:kf.test(t)?Dl[t]=!0:(Ll[t]=!0,!1)}function Sf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ef(t,e,n,r){if(e===null||typeof e>"u"||Sf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Se(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ye[t]=new Se(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ye[e]=new Se(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ye[t]=new Se(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ye[t]=new Se(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ye[t]=new Se(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ye[t]=new Se(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ye[t]=new Se(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ye[t]=new Se(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ye[t]=new Se(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pa=/[\-:]([a-z])/g;function Oa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pa,Oa);ye[e]=new Se(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pa,Oa);ye[e]=new Se(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pa,Oa);ye[e]=new Se(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ye[t]=new Se(t,1,!1,t.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ye[t]=new Se(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ra(t,e,n,r){var s=ye.hasOwnProperty(e)?ye[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ef(e,n,s,r)&&(n=null),r||s===null?Nf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kt=jf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hs=Symbol.for("react.element"),On=Symbol.for("react.portal"),Rn=Symbol.for("react.fragment"),$a=Symbol.for("react.strict_mode"),bo=Symbol.for("react.profiler"),ku=Symbol.for("react.provider"),Nu=Symbol.for("react.context"),Aa=Symbol.for("react.forward_ref"),jo=Symbol.for("react.suspense"),ko=Symbol.for("react.suspense_list"),Ia=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),Su=Symbol.for("react.offscreen"),Ml=Symbol.iterator;function ur(t){return t===null||typeof t!="object"?null:(t=Ml&&t[Ml]||t["@@iterator"],typeof t=="function"?t:null)}var ne=Object.assign,Ui;function xr(t){if(Ui===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ui=e&&e[1]||""}return`
`+Ui+t}var Fi=!1;function Bi(t,e){if(!t||Fi)return"";Fi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Fi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xr(t):""}function Cf(t){switch(t.tag){case 5:return xr(t.type);case 16:return xr("Lazy");case 13:return xr("Suspense");case 19:return xr("SuspenseList");case 0:case 2:case 15:return t=Bi(t.type,!1),t;case 11:return t=Bi(t.type.render,!1),t;case 1:return t=Bi(t.type,!0),t;default:return""}}function No(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rn:return"Fragment";case On:return"Portal";case bo:return"Profiler";case $a:return"StrictMode";case jo:return"Suspense";case ko:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Nu:return(t.displayName||"Context")+".Consumer";case ku:return(t._context.displayName||"Context")+".Provider";case Aa:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ia:return e=t.displayName||null,e!==null?e:No(t.type)||"Memo";case Pt:e=t._payload,t=t._init;try{return No(t(e))}catch{}}return null}function Tf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return No(e);case 8:return e===$a?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Eu(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Pf(t){var e=Eu(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fs(t){t._valueTracker||(t._valueTracker=Pf(t))}function Cu(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Eu(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function So(t,e){var n=e.checked;return ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zl(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Wt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Tu(t,e){e=e.checked,e!=null&&Ra(t,"checked",e,!1)}function Eo(t,e){Tu(t,e);var n=Wt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Co(t,e.type,n):e.hasOwnProperty("defaultValue")&&Co(t,e.type,Wt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ul(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Co(t,e,n){(e!=="number"||Hs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var wr=Array.isArray;function qn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Wt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function To(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fl(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(C(92));if(wr(n)){if(1<n.length)throw Error(C(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Wt(n)}}function Pu(t,e){var n=Wt(e.value),r=Wt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Bl(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ou(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Po(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ou(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ps,Ru=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ps=ps||document.createElement("div"),ps.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ps.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Dr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Of=["Webkit","ms","Moz","O"];Object.keys(kr).forEach(function(t){Of.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kr[e]=kr[t]})});function $u(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||kr.hasOwnProperty(t)&&kr[t]?(""+e).trim():e+"px"}function Au(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$u(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Rf=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oo(t,e){if(e){if(Rf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function Ro(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $o=null;function La(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ao=null,Hn=null,Wn=null;function ql(t){if(t=ss(t)){if(typeof Ao!="function")throw Error(C(280));var e=t.stateNode;e&&(e=bi(e),Ao(t.stateNode,t.type,e))}}function Iu(t){Hn?Wn?Wn.push(t):Wn=[t]:Hn=t}function Lu(){if(Hn){var t=Hn,e=Wn;if(Wn=Hn=null,ql(t),e)for(t=0;t<e.length;t++)ql(e[t])}}function Du(t,e){return t(e)}function Mu(){}var qi=!1;function zu(t,e,n){if(qi)return t(e,n);qi=!0;try{return Du(t,e,n)}finally{qi=!1,(Hn!==null||Wn!==null)&&(Mu(),Lu())}}function Mr(t,e){var n=t.stateNode;if(n===null)return null;var r=bi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var Io=!1;if(wt)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){Io=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{Io=!1}function $f(t,e,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Nr=!1,Ws=null,Vs=!1,Lo=null,Af={onError:function(t){Nr=!0,Ws=t}};function If(t,e,n,r,s,i,a,l,c){Nr=!1,Ws=null,$f.apply(Af,arguments)}function Lf(t,e,n,r,s,i,a,l,c){if(If.apply(this,arguments),Nr){if(Nr){var u=Ws;Nr=!1,Ws=null}else throw Error(C(198));Vs||(Vs=!0,Lo=u)}}function xn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Uu(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hl(t){if(xn(t)!==t)throw Error(C(188))}function Df(t){var e=t.alternate;if(!e){if(e=xn(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Hl(s),t;if(i===r)return Hl(s),e;i=i.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function Fu(t){return t=Df(t),t!==null?Bu(t):null}function Bu(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Bu(t);if(e!==null)return e;t=t.sibling}return null}var qu=De.unstable_scheduleCallback,Wl=De.unstable_cancelCallback,Mf=De.unstable_shouldYield,zf=De.unstable_requestPaint,ie=De.unstable_now,Uf=De.unstable_getCurrentPriorityLevel,Da=De.unstable_ImmediatePriority,Hu=De.unstable_UserBlockingPriority,Gs=De.unstable_NormalPriority,Ff=De.unstable_LowPriority,Wu=De.unstable_IdlePriority,vi=null,ut=null;function Bf(t){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(vi,t,void 0,(t.current.flags&128)===128)}catch{}}var nt=Math.clz32?Math.clz32:Wf,qf=Math.log,Hf=Math.LN2;function Wf(t){return t>>>=0,t===0?32:31-(qf(t)/Hf|0)|0}var ms=64,gs=4194304;function _r(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ks(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=_r(l):(i&=a,i!==0&&(r=_r(i)))}else a=n&~s,a!==0?r=_r(a):i!==0&&(r=_r(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-nt(e),s=1<<n,r|=t[n],e&=~s;return r}function Vf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-nt(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=Vf(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Do(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Vu(){var t=ms;return ms<<=1,!(ms&4194240)&&(ms=64),t}function Hi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ns(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nt(e),t[e]=n}function Kf(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-nt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ma(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-nt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var W=0;function Gu(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ku,za,Qu,Ju,Xu,Mo=!1,ys=[],Dt=null,Mt=null,zt=null,zr=new Map,Ur=new Map,Rt=[],Qf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vl(t,e){switch(t){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":zr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(e.pointerId)}}function hr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ss(e),e!==null&&za(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Jf(t,e,n,r,s){switch(e){case"focusin":return Dt=hr(Dt,t,e,n,r,s),!0;case"dragenter":return Mt=hr(Mt,t,e,n,r,s),!0;case"mouseover":return zt=hr(zt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return zr.set(i,hr(zr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ur.set(i,hr(Ur.get(i)||null,t,e,n,r,s)),!0}return!1}function Yu(t){var e=an(t.target);if(e!==null){var n=xn(e);if(n!==null){if(e=n.tag,e===13){if(e=Uu(n),e!==null){t.blockedOn=e,Xu(t.priority,function(){Qu(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function As(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$o=r,n.target.dispatchEvent(r),$o=null}else return e=ss(n),e!==null&&za(e),t.blockedOn=n,!1;e.shift()}return!0}function Gl(t,e,n){As(t)&&n.delete(e)}function Xf(){Mo=!1,Dt!==null&&As(Dt)&&(Dt=null),Mt!==null&&As(Mt)&&(Mt=null),zt!==null&&As(zt)&&(zt=null),zr.forEach(Gl),Ur.forEach(Gl)}function fr(t,e){t.blockedOn===e&&(t.blockedOn=null,Mo||(Mo=!0,De.unstable_scheduleCallback(De.unstable_NormalPriority,Xf)))}function Fr(t){function e(s){return fr(s,t)}if(0<ys.length){fr(ys[0],t);for(var n=1;n<ys.length;n++){var r=ys[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Dt!==null&&fr(Dt,t),Mt!==null&&fr(Mt,t),zt!==null&&fr(zt,t),zr.forEach(e),Ur.forEach(e),n=0;n<Rt.length;n++)r=Rt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Rt.length&&(n=Rt[0],n.blockedOn===null);)Yu(n),n.blockedOn===null&&Rt.shift()}var Vn=kt.ReactCurrentBatchConfig,Qs=!0;function Yf(t,e,n,r){var s=W,i=Vn.transition;Vn.transition=null;try{W=1,Ua(t,e,n,r)}finally{W=s,Vn.transition=i}}function Zf(t,e,n,r){var s=W,i=Vn.transition;Vn.transition=null;try{W=4,Ua(t,e,n,r)}finally{W=s,Vn.transition=i}}function Ua(t,e,n,r){if(Qs){var s=zo(t,e,n,r);if(s===null)eo(t,e,r,Js,n),Vl(t,r);else if(Jf(s,t,e,n,r))r.stopPropagation();else if(Vl(t,r),e&4&&-1<Qf.indexOf(t)){for(;s!==null;){var i=ss(s);if(i!==null&&Ku(i),i=zo(t,e,n,r),i===null&&eo(t,e,r,Js,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else eo(t,e,r,null,n)}}var Js=null;function zo(t,e,n,r){if(Js=null,t=La(r),t=an(t),t!==null)if(e=xn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Uu(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Js=t,null}function Zu(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uf()){case Da:return 1;case Hu:return 4;case Gs:case Ff:return 16;case Wu:return 536870912;default:return 16}default:return 16}}var It=null,Fa=null,Is=null;function ed(){if(Is)return Is;var t,e=Fa,n=e.length,r,s="value"in It?It.value:It.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Is=s.slice(t,1<r?1-r:void 0)}function Ls(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vs(){return!0}function Kl(){return!1}function ze(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vs:Kl,this.isPropagationStopped=Kl,this}return ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),e}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=ze(ir),rs=ne({},ir,{view:0,detail:0}),ep=ze(rs),Wi,Vi,pr,xi=ne({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pr&&(pr&&t.type==="mousemove"?(Wi=t.screenX-pr.screenX,Vi=t.screenY-pr.screenY):Vi=Wi=0,pr=t),Wi)},movementY:function(t){return"movementY"in t?t.movementY:Vi}}),Ql=ze(xi),tp=ne({},xi,{dataTransfer:0}),np=ze(tp),rp=ne({},rs,{relatedTarget:0}),Gi=ze(rp),sp=ne({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),ip=ze(sp),op=ne({},ir,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ap=ze(op),lp=ne({},ir,{data:0}),Jl=ze(lp),cp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},up={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dp[t])?!!e[t]:!1}function qa(){return hp}var fp=ne({},rs,{key:function(t){if(t.key){var e=cp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ls(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?up[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(t){return t.type==="keypress"?Ls(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ls(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pp=ze(fp),mp=ne({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xl=ze(mp),gp=ne({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),yp=ze(gp),vp=ne({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),xp=ze(vp),wp=ne({},xi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_p=ze(wp),bp=[9,13,27,32],Ha=wt&&"CompositionEvent"in window,Sr=null;wt&&"documentMode"in document&&(Sr=document.documentMode);var jp=wt&&"TextEvent"in window&&!Sr,td=wt&&(!Ha||Sr&&8<Sr&&11>=Sr),Yl=" ",Zl=!1;function nd(t,e){switch(t){case"keyup":return bp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $n=!1;function kp(t,e){switch(t){case"compositionend":return rd(e);case"keypress":return e.which!==32?null:(Zl=!0,Yl);case"textInput":return t=e.data,t===Yl&&Zl?null:t;default:return null}}function Np(t,e){if($n)return t==="compositionend"||!Ha&&nd(t,e)?(t=ed(),Is=Fa=It=null,$n=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return td&&e.locale!=="ko"?null:e.data;default:return null}}var Sp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ec(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Sp[t.type]:e==="textarea"}function sd(t,e,n,r){Iu(r),e=Xs(e,"onChange"),0<e.length&&(n=new Ba("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Er=null,Br=null;function Ep(t){md(t,0)}function wi(t){var e=Ln(t);if(Cu(e))return t}function Cp(t,e){if(t==="change")return e}var id=!1;if(wt){var Ki;if(wt){var Qi="oninput"in document;if(!Qi){var tc=document.createElement("div");tc.setAttribute("oninput","return;"),Qi=typeof tc.oninput=="function"}Ki=Qi}else Ki=!1;id=Ki&&(!document.documentMode||9<document.documentMode)}function nc(){Er&&(Er.detachEvent("onpropertychange",od),Br=Er=null)}function od(t){if(t.propertyName==="value"&&wi(Br)){var e=[];sd(e,Br,t,La(t)),zu(Ep,e)}}function Tp(t,e,n){t==="focusin"?(nc(),Er=e,Br=n,Er.attachEvent("onpropertychange",od)):t==="focusout"&&nc()}function Pp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wi(Br)}function Op(t,e){if(t==="click")return wi(e)}function Rp(t,e){if(t==="input"||t==="change")return wi(e)}function $p(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var st=typeof Object.is=="function"?Object.is:$p;function qr(t,e){if(st(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_o.call(e,s)||!st(t[s],e[s]))return!1}return!0}function rc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sc(t,e){var n=rc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rc(n)}}function ad(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ad(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ld(){for(var t=window,e=Hs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hs(t.document)}return e}function Wa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ap(t){var e=ld(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ad(n.ownerDocument.documentElement,n)){if(r!==null&&Wa(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=sc(n,i);var a=sc(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ip=wt&&"documentMode"in document&&11>=document.documentMode,An=null,Uo=null,Cr=null,Fo=!1;function ic(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fo||An==null||An!==Hs(r)||(r=An,"selectionStart"in r&&Wa(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cr&&qr(Cr,r)||(Cr=r,r=Xs(Uo,"onSelect"),0<r.length&&(e=new Ba("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=An)))}function xs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var In={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionend:xs("Transition","TransitionEnd")},Ji={},cd={};wt&&(cd=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function _i(t){if(Ji[t])return Ji[t];if(!In[t])return t;var e=In[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cd)return Ji[t]=e[n];return t}var ud=_i("animationend"),dd=_i("animationiteration"),hd=_i("animationstart"),fd=_i("transitionend"),pd=new Map,oc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kt(t,e){pd.set(t,e),vn(e,[t])}for(var Xi=0;Xi<oc.length;Xi++){var Yi=oc[Xi],Lp=Yi.toLowerCase(),Dp=Yi[0].toUpperCase()+Yi.slice(1);Kt(Lp,"on"+Dp)}Kt(ud,"onAnimationEnd");Kt(dd,"onAnimationIteration");Kt(hd,"onAnimationStart");Kt("dblclick","onDoubleClick");Kt("focusin","onFocus");Kt("focusout","onBlur");Kt(fd,"onTransitionEnd");Qn("onMouseEnter",["mouseout","mouseover"]);Qn("onMouseLeave",["mouseout","mouseover"]);Qn("onPointerEnter",["pointerout","pointerover"]);Qn("onPointerLeave",["pointerout","pointerover"]);vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mp=new Set("cancel close invalid load scroll toggle".split(" ").concat(br));function ac(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Lf(r,e,void 0,t),t.currentTarget=null}function md(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;ac(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;ac(s,l,u),i=c}}}if(Vs)throw t=Lo,Vs=!1,Lo=null,t}function J(t,e){var n=e[Vo];n===void 0&&(n=e[Vo]=new Set);var r=t+"__bubble";n.has(r)||(gd(e,t,2,!1),n.add(r))}function Zi(t,e,n){var r=0;e&&(r|=4),gd(n,t,r,e)}var ws="_reactListening"+Math.random().toString(36).slice(2);function Hr(t){if(!t[ws]){t[ws]=!0,ju.forEach(function(n){n!=="selectionchange"&&(Mp.has(n)||Zi(n,!1,t),Zi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ws]||(e[ws]=!0,Zi("selectionchange",!1,e))}}function gd(t,e,n,r){switch(Zu(e)){case 1:var s=Yf;break;case 4:s=Zf;break;default:s=Ua}n=s.bind(null,e,n,t),s=void 0,!Io||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function eo(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=an(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}zu(function(){var u=i,h=La(n),d=[];e:{var f=pd.get(t);if(f!==void 0){var y=Ba,m=t;switch(t){case"keypress":if(Ls(n)===0)break e;case"keydown":case"keyup":y=pp;break;case"focusin":m="focus",y=Gi;break;case"focusout":m="blur",y=Gi;break;case"beforeblur":case"afterblur":y=Gi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=np;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=yp;break;case ud:case dd:case hd:y=ip;break;case fd:y=xp;break;case"scroll":y=ep;break;case"wheel":y=_p;break;case"copy":case"cut":case"paste":y=ap;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Xl}var j=(e&4)!==0,E=!j&&t==="scroll",v=j?f!==null?f+"Capture":null:f;j=[];for(var g=u,p;g!==null;){p=g;var x=p.stateNode;if(p.tag===5&&x!==null&&(p=x,v!==null&&(x=Mr(g,v),x!=null&&j.push(Wr(g,x,p)))),E)break;g=g.return}0<j.length&&(f=new y(f,m,null,n,h),d.push({event:f,listeners:j}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&n!==$o&&(m=n.relatedTarget||n.fromElement)&&(an(m)||m[_t]))break e;if((y||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,y?(m=n.relatedTarget||n.toElement,y=u,m=m?an(m):null,m!==null&&(E=xn(m),m!==E||m.tag!==5&&m.tag!==6)&&(m=null)):(y=null,m=u),y!==m)){if(j=Ql,x="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(j=Xl,x="onPointerLeave",v="onPointerEnter",g="pointer"),E=y==null?f:Ln(y),p=m==null?f:Ln(m),f=new j(x,g+"leave",y,n,h),f.target=E,f.relatedTarget=p,x=null,an(h)===u&&(j=new j(v,g+"enter",m,n,h),j.target=p,j.relatedTarget=E,x=j),E=x,y&&m)t:{for(j=y,v=m,g=0,p=j;p;p=jn(p))g++;for(p=0,x=v;x;x=jn(x))p++;for(;0<g-p;)j=jn(j),g--;for(;0<p-g;)v=jn(v),p--;for(;g--;){if(j===v||v!==null&&j===v.alternate)break t;j=jn(j),v=jn(v)}j=null}else j=null;y!==null&&lc(d,f,y,j,!1),m!==null&&E!==null&&lc(d,E,m,j,!0)}}e:{if(f=u?Ln(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var w=Cp;else if(ec(f))if(id)w=Rp;else{w=Pp;var _=Tp}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=Op);if(w&&(w=w(t,u))){sd(d,w,n,h);break e}_&&_(t,f,u),t==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Co(f,"number",f.value)}switch(_=u?Ln(u):window,t){case"focusin":(ec(_)||_.contentEditable==="true")&&(An=_,Uo=u,Cr=null);break;case"focusout":Cr=Uo=An=null;break;case"mousedown":Fo=!0;break;case"contextmenu":case"mouseup":case"dragend":Fo=!1,ic(d,n,h);break;case"selectionchange":if(Ip)break;case"keydown":case"keyup":ic(d,n,h)}var N;if(Ha)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else $n?nd(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(td&&n.locale!=="ko"&&($n||b!=="onCompositionStart"?b==="onCompositionEnd"&&$n&&(N=ed()):(It=h,Fa="value"in It?It.value:It.textContent,$n=!0)),_=Xs(u,b),0<_.length&&(b=new Jl(b,t,null,n,h),d.push({event:b,listeners:_}),N?b.data=N:(N=rd(n),N!==null&&(b.data=N)))),(N=jp?kp(t,n):Np(t,n))&&(u=Xs(u,"onBeforeInput"),0<u.length&&(h=new Jl("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=N))}md(d,e)})}function Wr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xs(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Mr(t,n),i!=null&&r.unshift(Wr(t,i,s)),i=Mr(t,e),i!=null&&r.push(Wr(t,i,s))),t=t.return}return r}function jn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lc(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Mr(n,i),c!=null&&a.unshift(Wr(n,c,l))):s||(c=Mr(n,i),c!=null&&a.push(Wr(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var zp=/\r\n?/g,Up=/\u0000|\uFFFD/g;function cc(t){return(typeof t=="string"?t:""+t).replace(zp,`
`).replace(Up,"")}function _s(t,e,n){if(e=cc(e),cc(t)!==e&&n)throw Error(C(425))}function Ys(){}var Bo=null,qo=null;function Ho(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wo=typeof setTimeout=="function"?setTimeout:void 0,Fp=typeof clearTimeout=="function"?clearTimeout:void 0,uc=typeof Promise=="function"?Promise:void 0,Bp=typeof queueMicrotask=="function"?queueMicrotask:typeof uc<"u"?function(t){return uc.resolve(null).then(t).catch(qp)}:Wo;function qp(t){setTimeout(function(){throw t})}function to(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Fr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Fr(e)}function Ut(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var or=Math.random().toString(36).slice(2),ct="__reactFiber$"+or,Vr="__reactProps$"+or,_t="__reactContainer$"+or,Vo="__reactEvents$"+or,Hp="__reactListeners$"+or,Wp="__reactHandles$"+or;function an(t){var e=t[ct];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_t]||n[ct]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dc(t);t!==null;){if(n=t[ct])return n;t=dc(t)}return e}t=n,n=t.parentNode}return null}function ss(t){return t=t[ct]||t[_t],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ln(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function bi(t){return t[Vr]||null}var Go=[],Dn=-1;function Qt(t){return{current:t}}function X(t){0>Dn||(t.current=Go[Dn],Go[Dn]=null,Dn--)}function G(t,e){Dn++,Go[Dn]=t.current,t.current=e}var Vt={},_e=Qt(Vt),Oe=Qt(!1),hn=Vt;function Jn(t,e){var n=t.type.contextTypes;if(!n)return Vt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Re(t){return t=t.childContextTypes,t!=null}function Zs(){X(Oe),X(_e)}function hc(t,e,n){if(_e.current!==Vt)throw Error(C(168));G(_e,e),G(Oe,n)}function yd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(C(108,Tf(t)||"Unknown",s));return ne({},n,r)}function ei(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vt,hn=_e.current,G(_e,t),G(Oe,Oe.current),!0}function fc(t,e,n){var r=t.stateNode;if(!r)throw Error(C(169));n?(t=yd(t,e,hn),r.__reactInternalMemoizedMergedChildContext=t,X(Oe),X(_e),G(_e,t)):X(Oe),G(Oe,n)}var mt=null,ji=!1,no=!1;function vd(t){mt===null?mt=[t]:mt.push(t)}function Vp(t){ji=!0,vd(t)}function Jt(){if(!no&&mt!==null){no=!0;var t=0,e=W;try{var n=mt;for(W=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}mt=null,ji=!1}catch(s){throw mt!==null&&(mt=mt.slice(t+1)),qu(Da,Jt),s}finally{W=e,no=!1}}return null}var Mn=[],zn=0,ti=null,ni=0,Fe=[],Be=0,fn=null,gt=1,yt="";function nn(t,e){Mn[zn++]=ni,Mn[zn++]=ti,ti=t,ni=e}function xd(t,e,n){Fe[Be++]=gt,Fe[Be++]=yt,Fe[Be++]=fn,fn=t;var r=gt;t=yt;var s=32-nt(r)-1;r&=~(1<<s),n+=1;var i=32-nt(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,gt=1<<32-nt(e)+s|n<<s|r,yt=i+t}else gt=1<<i|n<<s|r,yt=t}function Va(t){t.return!==null&&(nn(t,1),xd(t,1,0))}function Ga(t){for(;t===ti;)ti=Mn[--zn],Mn[zn]=null,ni=Mn[--zn],Mn[zn]=null;for(;t===fn;)fn=Fe[--Be],Fe[Be]=null,yt=Fe[--Be],Fe[Be]=null,gt=Fe[--Be],Fe[Be]=null}var Le=null,Ie=null,Z=!1,tt=null;function wd(t,e){var n=qe(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function pc(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Le=t,Ie=Ut(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Le=t,Ie=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fn!==null?{id:gt,overflow:yt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qe(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Le=t,Ie=null,!0):!1;default:return!1}}function Ko(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qo(t){if(Z){var e=Ie;if(e){var n=e;if(!pc(t,e)){if(Ko(t))throw Error(C(418));e=Ut(n.nextSibling);var r=Le;e&&pc(t,e)?wd(r,n):(t.flags=t.flags&-4097|2,Z=!1,Le=t)}}else{if(Ko(t))throw Error(C(418));t.flags=t.flags&-4097|2,Z=!1,Le=t}}}function mc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Le=t}function bs(t){if(t!==Le)return!1;if(!Z)return mc(t),Z=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ho(t.type,t.memoizedProps)),e&&(e=Ie)){if(Ko(t))throw _d(),Error(C(418));for(;e;)wd(t,e),e=Ut(e.nextSibling)}if(mc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ie=Ut(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ie=null}}else Ie=Le?Ut(t.stateNode.nextSibling):null;return!0}function _d(){for(var t=Ie;t;)t=Ut(t.nextSibling)}function Xn(){Ie=Le=null,Z=!1}function Ka(t){tt===null?tt=[t]:tt.push(t)}var Gp=kt.ReactCurrentBatchConfig;function mr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,t))}return t}function js(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gc(t){var e=t._init;return e(t._payload)}function bd(t){function e(v,g){if(t){var p=v.deletions;p===null?(v.deletions=[g],v.flags|=16):p.push(g)}}function n(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=Ht(v,g),v.index=0,v.sibling=null,v}function i(v,g,p){return v.index=p,t?(p=v.alternate,p!==null?(p=p.index,p<g?(v.flags|=2,g):p):(v.flags|=2,g)):(v.flags|=1048576,g)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,g,p,x){return g===null||g.tag!==6?(g=co(p,v.mode,x),g.return=v,g):(g=s(g,p),g.return=v,g)}function c(v,g,p,x){var w=p.type;return w===Rn?h(v,g,p.props.children,x,p.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Pt&&gc(w)===g.type)?(x=s(g,p.props),x.ref=mr(v,g,p),x.return=v,x):(x=qs(p.type,p.key,p.props,null,v.mode,x),x.ref=mr(v,g,p),x.return=v,x)}function u(v,g,p,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=uo(p,v.mode,x),g.return=v,g):(g=s(g,p.children||[]),g.return=v,g)}function h(v,g,p,x,w){return g===null||g.tag!==7?(g=dn(p,v.mode,x,w),g.return=v,g):(g=s(g,p),g.return=v,g)}function d(v,g,p){if(typeof g=="string"&&g!==""||typeof g=="number")return g=co(""+g,v.mode,p),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case hs:return p=qs(g.type,g.key,g.props,null,v.mode,p),p.ref=mr(v,null,g),p.return=v,p;case On:return g=uo(g,v.mode,p),g.return=v,g;case Pt:var x=g._init;return d(v,x(g._payload),p)}if(wr(g)||ur(g))return g=dn(g,v.mode,p,null),g.return=v,g;js(v,g)}return null}function f(v,g,p,x){var w=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return w!==null?null:l(v,g,""+p,x);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case hs:return p.key===w?c(v,g,p,x):null;case On:return p.key===w?u(v,g,p,x):null;case Pt:return w=p._init,f(v,g,w(p._payload),x)}if(wr(p)||ur(p))return w!==null?null:h(v,g,p,x,null);js(v,p)}return null}function y(v,g,p,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(p)||null,l(g,v,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case hs:return v=v.get(x.key===null?p:x.key)||null,c(g,v,x,w);case On:return v=v.get(x.key===null?p:x.key)||null,u(g,v,x,w);case Pt:var _=x._init;return y(v,g,p,_(x._payload),w)}if(wr(x)||ur(x))return v=v.get(p)||null,h(g,v,x,w,null);js(g,x)}return null}function m(v,g,p,x){for(var w=null,_=null,N=g,b=g=0,P=null;N!==null&&b<p.length;b++){N.index>b?(P=N,N=null):P=N.sibling;var $=f(v,N,p[b],x);if($===null){N===null&&(N=P);break}t&&N&&$.alternate===null&&e(v,N),g=i($,g,b),_===null?w=$:_.sibling=$,_=$,N=P}if(b===p.length)return n(v,N),Z&&nn(v,b),w;if(N===null){for(;b<p.length;b++)N=d(v,p[b],x),N!==null&&(g=i(N,g,b),_===null?w=N:_.sibling=N,_=N);return Z&&nn(v,b),w}for(N=r(v,N);b<p.length;b++)P=y(N,v,b,p[b],x),P!==null&&(t&&P.alternate!==null&&N.delete(P.key===null?b:P.key),g=i(P,g,b),_===null?w=P:_.sibling=P,_=P);return t&&N.forEach(function(U){return e(v,U)}),Z&&nn(v,b),w}function j(v,g,p,x){var w=ur(p);if(typeof w!="function")throw Error(C(150));if(p=w.call(p),p==null)throw Error(C(151));for(var _=w=null,N=g,b=g=0,P=null,$=p.next();N!==null&&!$.done;b++,$=p.next()){N.index>b?(P=N,N=null):P=N.sibling;var U=f(v,N,$.value,x);if(U===null){N===null&&(N=P);break}t&&N&&U.alternate===null&&e(v,N),g=i(U,g,b),_===null?w=U:_.sibling=U,_=U,N=P}if($.done)return n(v,N),Z&&nn(v,b),w;if(N===null){for(;!$.done;b++,$=p.next())$=d(v,$.value,x),$!==null&&(g=i($,g,b),_===null?w=$:_.sibling=$,_=$);return Z&&nn(v,b),w}for(N=r(v,N);!$.done;b++,$=p.next())$=y(N,v,b,$.value,x),$!==null&&(t&&$.alternate!==null&&N.delete($.key===null?b:$.key),g=i($,g,b),_===null?w=$:_.sibling=$,_=$);return t&&N.forEach(function(T){return e(v,T)}),Z&&nn(v,b),w}function E(v,g,p,x){if(typeof p=="object"&&p!==null&&p.type===Rn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case hs:e:{for(var w=p.key,_=g;_!==null;){if(_.key===w){if(w=p.type,w===Rn){if(_.tag===7){n(v,_.sibling),g=s(_,p.props.children),g.return=v,v=g;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Pt&&gc(w)===_.type){n(v,_.sibling),g=s(_,p.props),g.ref=mr(v,_,p),g.return=v,v=g;break e}n(v,_);break}else e(v,_);_=_.sibling}p.type===Rn?(g=dn(p.props.children,v.mode,x,p.key),g.return=v,v=g):(x=qs(p.type,p.key,p.props,null,v.mode,x),x.ref=mr(v,g,p),x.return=v,v=x)}return a(v);case On:e:{for(_=p.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){n(v,g.sibling),g=s(g,p.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else e(v,g);g=g.sibling}g=uo(p,v.mode,x),g.return=v,v=g}return a(v);case Pt:return _=p._init,E(v,g,_(p._payload),x)}if(wr(p))return m(v,g,p,x);if(ur(p))return j(v,g,p,x);js(v,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,g!==null&&g.tag===6?(n(v,g.sibling),g=s(g,p),g.return=v,v=g):(n(v,g),g=co(p,v.mode,x),g.return=v,v=g),a(v)):n(v,g)}return E}var Yn=bd(!0),jd=bd(!1),ri=Qt(null),si=null,Un=null,Qa=null;function Ja(){Qa=Un=si=null}function Xa(t){var e=ri.current;X(ri),t._currentValue=e}function Jo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Gn(t,e){si=t,Qa=Un=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pe=!0),t.firstContext=null)}function Ve(t){var e=t._currentValue;if(Qa!==t)if(t={context:t,memoizedValue:e,next:null},Un===null){if(si===null)throw Error(C(308));Un=t,si.dependencies={lanes:0,firstContext:t}}else Un=Un.next=t;return e}var ln=null;function Ya(t){ln===null?ln=[t]:ln.push(t)}function kd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ya(e)):(n.next=s.next,s.next=n),e.interleaved=n,bt(t,r)}function bt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ot=!1;function Za(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ft(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,bt(t,n)}return s=r.interleaved,s===null?(e.next=e,Ya(r)):(e.next=s.next,s.next=e),r.interleaved=e,bt(t,n)}function Ds(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ma(t,n)}}function yc(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ii(t,e,n,r){var s=t.updateQueue;Ot=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;a=0,h=u=c=null,l=i;do{var f=l.lane,y=l.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=t,j=l;switch(f=e,y=n,j.tag){case 1:if(m=j.payload,typeof m=="function"){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=j.payload,f=typeof m=="function"?m.call(y,d,f):m,f==null)break e;d=ne({},d,f);break e;case 2:Ot=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=y,c=d):h=h.next=y,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);mn|=a,t.lanes=a,t.memoizedState=d}}function vc(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var is={},dt=Qt(is),Gr=Qt(is),Kr=Qt(is);function cn(t){if(t===is)throw Error(C(174));return t}function el(t,e){switch(G(Kr,e),G(Gr,t),G(dt,is),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Po(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Po(e,t)}X(dt),G(dt,e)}function Zn(){X(dt),X(Gr),X(Kr)}function Sd(t){cn(Kr.current);var e=cn(dt.current),n=Po(e,t.type);e!==n&&(G(Gr,t),G(dt,n))}function tl(t){Gr.current===t&&(X(dt),X(Gr))}var ee=Qt(0);function oi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ro=[];function nl(){for(var t=0;t<ro.length;t++)ro[t]._workInProgressVersionPrimary=null;ro.length=0}var Ms=kt.ReactCurrentDispatcher,so=kt.ReactCurrentBatchConfig,pn=0,te=null,de=null,fe=null,ai=!1,Tr=!1,Qr=0,Kp=0;function ve(){throw Error(C(321))}function rl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!st(t[n],e[n]))return!1;return!0}function sl(t,e,n,r,s,i){if(pn=i,te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ms.current=t===null||t.memoizedState===null?Yp:Zp,t=n(r,s),Tr){i=0;do{if(Tr=!1,Qr=0,25<=i)throw Error(C(301));i+=1,fe=de=null,e.updateQueue=null,Ms.current=em,t=n(r,s)}while(Tr)}if(Ms.current=li,e=de!==null&&de.next!==null,pn=0,fe=de=te=null,ai=!1,e)throw Error(C(300));return t}function il(){var t=Qr!==0;return Qr=0,t}function at(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?te.memoizedState=fe=t:fe=fe.next=t,fe}function Ge(){if(de===null){var t=te.alternate;t=t!==null?t.memoizedState:null}else t=de.next;var e=fe===null?te.memoizedState:fe.next;if(e!==null)fe=e,de=t;else{if(t===null)throw Error(C(310));de=t,t={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},fe===null?te.memoizedState=fe=t:fe=fe.next=t}return fe}function Jr(t,e){return typeof e=="function"?e(t):e}function io(t){var e=Ge(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=de,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var h=u.lane;if((pn&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,a=r):c=c.next=d,te.lanes|=h,mn|=h}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,st(r,e.memoizedState)||(Pe=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,te.lanes|=i,mn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function oo(t){var e=Ge(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);st(i,e.memoizedState)||(Pe=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Ed(){}function Cd(t,e){var n=te,r=Ge(),s=e(),i=!st(r.memoizedState,s);if(i&&(r.memoizedState=s,Pe=!0),r=r.queue,ol(Od.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||fe!==null&&fe.memoizedState.tag&1){if(n.flags|=2048,Xr(9,Pd.bind(null,n,r,s,e),void 0,null),pe===null)throw Error(C(349));pn&30||Td(n,e,s)}return s}function Td(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=te.updateQueue,e===null?(e={lastEffect:null,stores:null},te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Pd(t,e,n,r){e.value=n,e.getSnapshot=r,Rd(e)&&$d(t)}function Od(t,e,n){return n(function(){Rd(e)&&$d(t)})}function Rd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!st(t,n)}catch{return!0}}function $d(t){var e=bt(t,1);e!==null&&rt(e,t,1,-1)}function xc(t){var e=at();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:t},e.queue=t,t=t.dispatch=Xp.bind(null,te,t),[e.memoizedState,t]}function Xr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=te.updateQueue,e===null?(e={lastEffect:null,stores:null},te.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ad(){return Ge().memoizedState}function zs(t,e,n,r){var s=at();te.flags|=t,s.memoizedState=Xr(1|e,n,void 0,r===void 0?null:r)}function ki(t,e,n,r){var s=Ge();r=r===void 0?null:r;var i=void 0;if(de!==null){var a=de.memoizedState;if(i=a.destroy,r!==null&&rl(r,a.deps)){s.memoizedState=Xr(e,n,i,r);return}}te.flags|=t,s.memoizedState=Xr(1|e,n,i,r)}function wc(t,e){return zs(8390656,8,t,e)}function ol(t,e){return ki(2048,8,t,e)}function Id(t,e){return ki(4,2,t,e)}function Ld(t,e){return ki(4,4,t,e)}function Dd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Md(t,e,n){return n=n!=null?n.concat([t]):null,ki(4,4,Dd.bind(null,e,t),n)}function al(){}function zd(t,e){var n=Ge();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ud(t,e){var n=Ge();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Fd(t,e,n){return pn&21?(st(n,e)||(n=Vu(),te.lanes|=n,mn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pe=!0),t.memoizedState=n)}function Qp(t,e){var n=W;W=n!==0&&4>n?n:4,t(!0);var r=so.transition;so.transition={};try{t(!1),e()}finally{W=n,so.transition=r}}function Bd(){return Ge().memoizedState}function Jp(t,e,n){var r=qt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qd(t))Hd(e,n);else if(n=kd(t,e,n,r),n!==null){var s=ke();rt(n,t,r,s),Wd(n,e,r)}}function Xp(t,e,n){var r=qt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qd(t))Hd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,st(l,a)){var c=e.interleaved;c===null?(s.next=s,Ya(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=kd(t,e,s,r),n!==null&&(s=ke(),rt(n,t,r,s),Wd(n,e,r))}}function qd(t){var e=t.alternate;return t===te||e!==null&&e===te}function Hd(t,e){Tr=ai=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Wd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ma(t,n)}}var li={readContext:Ve,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},Yp={readContext:Ve,useCallback:function(t,e){return at().memoizedState=[t,e===void 0?null:e],t},useContext:Ve,useEffect:wc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zs(4194308,4,Dd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zs(4194308,4,t,e)},useInsertionEffect:function(t,e){return zs(4,2,t,e)},useMemo:function(t,e){var n=at();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=at();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Jp.bind(null,te,t),[r.memoizedState,t]},useRef:function(t){var e=at();return t={current:t},e.memoizedState=t},useState:xc,useDebugValue:al,useDeferredValue:function(t){return at().memoizedState=t},useTransition:function(){var t=xc(!1),e=t[0];return t=Qp.bind(null,t[1]),at().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=te,s=at();if(Z){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),pe===null)throw Error(C(349));pn&30||Td(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,wc(Od.bind(null,r,i,t),[t]),r.flags|=2048,Xr(9,Pd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=at(),e=pe.identifierPrefix;if(Z){var n=yt,r=gt;n=(r&~(1<<32-nt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Kp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Zp={readContext:Ve,useCallback:zd,useContext:Ve,useEffect:ol,useImperativeHandle:Md,useInsertionEffect:Id,useLayoutEffect:Ld,useMemo:Ud,useReducer:io,useRef:Ad,useState:function(){return io(Jr)},useDebugValue:al,useDeferredValue:function(t){var e=Ge();return Fd(e,de.memoizedState,t)},useTransition:function(){var t=io(Jr)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:Ed,useSyncExternalStore:Cd,useId:Bd,unstable_isNewReconciler:!1},em={readContext:Ve,useCallback:zd,useContext:Ve,useEffect:ol,useImperativeHandle:Md,useInsertionEffect:Id,useLayoutEffect:Ld,useMemo:Ud,useReducer:oo,useRef:Ad,useState:function(){return oo(Jr)},useDebugValue:al,useDeferredValue:function(t){var e=Ge();return de===null?e.memoizedState=t:Fd(e,de.memoizedState,t)},useTransition:function(){var t=oo(Jr)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:Ed,useSyncExternalStore:Cd,useId:Bd,unstable_isNewReconciler:!1};function Ye(t,e){if(t&&t.defaultProps){e=ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ni={isMounted:function(t){return(t=t._reactInternals)?xn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ke(),s=qt(t),i=vt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ft(t,i,s),e!==null&&(rt(e,t,s,r),Ds(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ke(),s=qt(t),i=vt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ft(t,i,s),e!==null&&(rt(e,t,s,r),Ds(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ke(),r=qt(t),s=vt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ft(t,s,r),e!==null&&(rt(e,t,r,n),Ds(e,t,r))}};function _c(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!qr(n,r)||!qr(s,i):!0}function Vd(t,e,n){var r=!1,s=Vt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ve(i):(s=Re(e)?hn:_e.current,r=e.contextTypes,i=(r=r!=null)?Jn(t,s):Vt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ni,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function bc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ni.enqueueReplaceState(e,e.state,null)}function Yo(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Za(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ve(i):(i=Re(e)?hn:_e.current,s.context=Jn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Xo(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ni.enqueueReplaceState(s,s.state,null),ii(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function er(t,e){try{var n="",r=e;do n+=Cf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ao(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tm=typeof WeakMap=="function"?WeakMap:Map;function Gd(t,e,n){n=vt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ui||(ui=!0,ca=r),Zo(t,e)},n}function Kd(t,e,n){n=vt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Zo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Zo(t,e),typeof r!="function"&&(Bt===null?Bt=new Set([this]):Bt.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function jc(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tm;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=mm.bind(null,t,e,n),e.then(t,t))}function kc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Nc(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vt(-1,1),e.tag=2,Ft(n,e,1))),n.lanes|=1),t)}var nm=kt.ReactCurrentOwner,Pe=!1;function je(t,e,n,r){e.child=t===null?jd(e,null,n,r):Yn(e,t.child,n,r)}function Sc(t,e,n,r,s){n=n.render;var i=e.ref;return Gn(e,s),r=sl(t,e,n,r,i,s),n=il(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jt(t,e,s)):(Z&&n&&Va(e),e.flags|=1,je(t,e,r,s),e.child)}function Ec(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ml(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Qd(t,e,i,r,s)):(t=qs(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:qr,n(a,r)&&t.ref===e.ref)return jt(t,e,s)}return e.flags|=1,t=Ht(i,r),t.ref=e.ref,t.return=e,e.child=t}function Qd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(qr(i,r)&&t.ref===e.ref)if(Pe=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Pe=!0);else return e.lanes=t.lanes,jt(t,e,s)}return ea(t,e,n,r,s)}function Jd(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(Bn,Ae),Ae|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,G(Bn,Ae),Ae|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,G(Bn,Ae),Ae|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,G(Bn,Ae),Ae|=r;return je(t,e,s,n),e.child}function Xd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ea(t,e,n,r,s){var i=Re(n)?hn:_e.current;return i=Jn(e,i),Gn(e,s),n=sl(t,e,n,r,i,s),r=il(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jt(t,e,s)):(Z&&r&&Va(e),e.flags|=1,je(t,e,n,s),e.child)}function Cc(t,e,n,r,s){if(Re(n)){var i=!0;ei(e)}else i=!1;if(Gn(e,s),e.stateNode===null)Us(t,e),Vd(e,n,r),Yo(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ve(u):(u=Re(n)?hn:_e.current,u=Jn(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&bc(e,a,r,u),Ot=!1;var f=e.memoizedState;a.state=f,ii(e,r,a,s),c=e.memoizedState,l!==r||f!==c||Oe.current||Ot?(typeof h=="function"&&(Xo(e,n,h,r),c=e.memoizedState),(l=Ot||_c(e,n,l,r,f,c,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Nd(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Ye(e.type,l),a.props=u,d=e.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ve(c):(c=Re(n)?hn:_e.current,c=Jn(e,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==d||f!==c)&&bc(e,a,r,c),Ot=!1,f=e.memoizedState,a.state=f,ii(e,r,a,s);var m=e.memoizedState;l!==d||f!==m||Oe.current||Ot?(typeof y=="function"&&(Xo(e,n,y,r),m=e.memoizedState),(u=Ot||_c(e,n,u,r,f,m,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ta(t,e,n,r,i,s)}function ta(t,e,n,r,s,i){Xd(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&fc(e,n,!1),jt(t,e,i);r=e.stateNode,nm.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Yn(e,t.child,null,i),e.child=Yn(e,null,l,i)):je(t,e,l,i),e.memoizedState=r.state,s&&fc(e,n,!0),e.child}function Yd(t){var e=t.stateNode;e.pendingContext?hc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hc(t,e.context,!1),el(t,e.containerInfo)}function Tc(t,e,n,r,s){return Xn(),Ka(s),e.flags|=256,je(t,e,n,r),e.child}var na={dehydrated:null,treeContext:null,retryLane:0};function ra(t){return{baseLanes:t,cachePool:null,transitions:null}}function Zd(t,e,n){var r=e.pendingProps,s=ee.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),G(ee,s&1),t===null)return Qo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ci(a,r,0,null),t=dn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ra(n),e.memoizedState=na,t):ll(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return rm(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ht(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ht(l,i):(i=dn(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?ra(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=na,r}return i=t.child,t=i.sibling,r=Ht(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ll(t,e){return e=Ci({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ks(t,e,n,r){return r!==null&&Ka(r),Yn(e,t.child,null,n),t=ll(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rm(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=ao(Error(C(422))),ks(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ci({mode:"visible",children:r.children},s,0,null),i=dn(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Yn(e,t.child,null,a),e.child.memoizedState=ra(a),e.memoizedState=na,i);if(!(e.mode&1))return ks(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(C(419)),r=ao(i,r,void 0),ks(t,e,a,r)}if(l=(a&t.childLanes)!==0,Pe||l){if(r=pe,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,bt(t,s),rt(r,t,s,-1))}return pl(),r=ao(Error(C(421))),ks(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=gm.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ie=Ut(s.nextSibling),Le=e,Z=!0,tt=null,t!==null&&(Fe[Be++]=gt,Fe[Be++]=yt,Fe[Be++]=fn,gt=t.id,yt=t.overflow,fn=e),e=ll(e,r.children),e.flags|=4096,e)}function Pc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jo(t.return,e,n)}function lo(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function eh(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(je(t,e,r.children,n),r=ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pc(t,n,e);else if(t.tag===19)Pc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(G(ee,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&oi(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),lo(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&oi(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}lo(e,!0,n,null,i);break;case"together":lo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Us(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=Ht(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ht(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sm(t,e,n){switch(e.tag){case 3:Yd(e),Xn();break;case 5:Sd(e);break;case 1:Re(e.type)&&ei(e);break;case 4:el(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;G(ri,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(G(ee,ee.current&1),e.flags|=128,null):n&e.child.childLanes?Zd(t,e,n):(G(ee,ee.current&1),t=jt(t,e,n),t!==null?t.sibling:null);G(ee,ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return eh(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),G(ee,ee.current),r)break;return null;case 22:case 23:return e.lanes=0,Jd(t,e,n)}return jt(t,e,n)}var th,sa,nh,rh;th=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sa=function(){};nh=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,cn(dt.current);var i=null;switch(n){case"input":s=So(t,s),r=So(t,r),i=[];break;case"select":s=ne({},s,{value:void 0}),r=ne({},r,{value:void 0}),i=[];break;case"textarea":s=To(t,s),r=To(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ys)}Oo(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Lr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Lr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&J("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};rh=function(t,e,n,r){n!==r&&(e.flags|=4)};function gr(t,e){if(!Z)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function im(t,e,n){var r=e.pendingProps;switch(Ga(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(e),null;case 1:return Re(e.type)&&Zs(),xe(e),null;case 3:return r=e.stateNode,Zn(),X(Oe),X(_e),nl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tt!==null&&(ha(tt),tt=null))),sa(t,e),xe(e),null;case 5:tl(e);var s=cn(Kr.current);if(n=e.type,t!==null&&e.stateNode!=null)nh(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(C(166));return xe(e),null}if(t=cn(dt.current),bs(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ct]=e,r[Vr]=i,t=(e.mode&1)!==0,n){case"dialog":J("cancel",r),J("close",r);break;case"iframe":case"object":case"embed":J("load",r);break;case"video":case"audio":for(s=0;s<br.length;s++)J(br[s],r);break;case"source":J("error",r);break;case"img":case"image":case"link":J("error",r),J("load",r);break;case"details":J("toggle",r);break;case"input":zl(r,i),J("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},J("invalid",r);break;case"textarea":Fl(r,i),J("invalid",r)}Oo(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&_s(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&_s(r.textContent,l,t),s=["children",""+l]):Lr.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&J("scroll",r)}switch(n){case"input":fs(r),Ul(r,i,!0);break;case"textarea":fs(r),Bl(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ys)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ou(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ct]=e,t[Vr]=r,th(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ro(n,r),n){case"dialog":J("cancel",t),J("close",t),s=r;break;case"iframe":case"object":case"embed":J("load",t),s=r;break;case"video":case"audio":for(s=0;s<br.length;s++)J(br[s],t);s=r;break;case"source":J("error",t),s=r;break;case"img":case"image":case"link":J("error",t),J("load",t),s=r;break;case"details":J("toggle",t),s=r;break;case"input":zl(t,r),s=So(t,r),J("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ne({},r,{value:void 0}),J("invalid",t);break;case"textarea":Fl(t,r),s=To(t,r),J("invalid",t);break;default:s=r}Oo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Au(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ru(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Dr(t,c):typeof c=="number"&&Dr(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Lr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&J("scroll",t):c!=null&&Ra(t,i,c,a))}switch(n){case"input":fs(t),Ul(t,r,!1);break;case"textarea":fs(t),Bl(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Wt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?qn(t,!!r.multiple,i,!1):r.defaultValue!=null&&qn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ys)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xe(e),null;case 6:if(t&&e.stateNode!=null)rh(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(C(166));if(n=cn(Kr.current),cn(dt.current),bs(e)){if(r=e.stateNode,n=e.memoizedProps,r[ct]=e,(i=r.nodeValue!==n)&&(t=Le,t!==null))switch(t.tag){case 3:_s(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_s(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ct]=e,e.stateNode=r}return xe(e),null;case 13:if(X(ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Z&&Ie!==null&&e.mode&1&&!(e.flags&128))_d(),Xn(),e.flags|=98560,i=!1;else if(i=bs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(C(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[ct]=e}else Xn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xe(e),i=!1}else tt!==null&&(ha(tt),tt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ee.current&1?he===0&&(he=3):pl())),e.updateQueue!==null&&(e.flags|=4),xe(e),null);case 4:return Zn(),sa(t,e),t===null&&Hr(e.stateNode.containerInfo),xe(e),null;case 10:return Xa(e.type._context),xe(e),null;case 17:return Re(e.type)&&Zs(),xe(e),null;case 19:if(X(ee),i=e.memoizedState,i===null)return xe(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)gr(i,!1);else{if(he!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=oi(t),a!==null){for(e.flags|=128,gr(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return G(ee,ee.current&1|2),e.child}t=t.sibling}i.tail!==null&&ie()>tr&&(e.flags|=128,r=!0,gr(i,!1),e.lanes=4194304)}else{if(!r)if(t=oi(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Z)return xe(e),null}else 2*ie()-i.renderingStartTime>tr&&n!==1073741824&&(e.flags|=128,r=!0,gr(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ie(),e.sibling=null,n=ee.current,G(ee,r?n&1|2:n&1),e):(xe(e),null);case 22:case 23:return fl(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ae&1073741824&&(xe(e),e.subtreeFlags&6&&(e.flags|=8192)):xe(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function om(t,e){switch(Ga(e),e.tag){case 1:return Re(e.type)&&Zs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zn(),X(Oe),X(_e),nl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tl(e),null;case 13:if(X(ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));Xn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return X(ee),null;case 4:return Zn(),null;case 10:return Xa(e.type._context),null;case 22:case 23:return fl(),null;case 24:return null;default:return null}}var Ns=!1,we=!1,am=typeof WeakSet=="function"?WeakSet:Set,A=null;function Fn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){se(t,e,r)}else n.current=null}function ia(t,e,n){try{n()}catch(r){se(t,e,r)}}var Oc=!1;function lm(t,e){if(Bo=Qs,t=ld(),Wa(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var y;d!==n||s!==0&&d.nodeType!==3||(l=a+s),d!==i||r!==0&&d.nodeType!==3||(c=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(y=d.firstChild)!==null;)f=d,d=y;for(;;){if(d===t)break t;if(f===n&&++u===s&&(l=a),f===i&&++h===r&&(c=a),(y=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(qo={focusedElem:t,selectionRange:n},Qs=!1,A=e;A!==null;)if(e=A,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,A=t;else for(;A!==null;){e=A;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var j=m.memoizedProps,E=m.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?j:Ye(e.type,j),E);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(x){se(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,A=t;break}A=e.return}return m=Oc,Oc=!1,m}function Pr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ia(e,n,i)}s=s.next}while(s!==r)}}function Si(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function oa(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sh(t){var e=t.alternate;e!==null&&(t.alternate=null,sh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ct],delete e[Vr],delete e[Vo],delete e[Hp],delete e[Wp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ih(t){return t.tag===5||t.tag===3||t.tag===4}function Rc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ih(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function aa(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ys));else if(r!==4&&(t=t.child,t!==null))for(aa(t,e,n),t=t.sibling;t!==null;)aa(t,e,n),t=t.sibling}function la(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(la(t,e,n),t=t.sibling;t!==null;)la(t,e,n),t=t.sibling}var me=null,Ze=!1;function Et(t,e,n){for(n=n.child;n!==null;)oh(t,e,n),n=n.sibling}function oh(t,e,n){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(vi,n)}catch{}switch(n.tag){case 5:we||Fn(n,e);case 6:var r=me,s=Ze;me=null,Et(t,e,n),me=r,Ze=s,me!==null&&(Ze?(t=me,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):me.removeChild(n.stateNode));break;case 18:me!==null&&(Ze?(t=me,n=n.stateNode,t.nodeType===8?to(t.parentNode,n):t.nodeType===1&&to(t,n),Fr(t)):to(me,n.stateNode));break;case 4:r=me,s=Ze,me=n.stateNode.containerInfo,Ze=!0,Et(t,e,n),me=r,Ze=s;break;case 0:case 11:case 14:case 15:if(!we&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&ia(n,e,a),s=s.next}while(s!==r)}Et(t,e,n);break;case 1:if(!we&&(Fn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){se(n,e,l)}Et(t,e,n);break;case 21:Et(t,e,n);break;case 22:n.mode&1?(we=(r=we)||n.memoizedState!==null,Et(t,e,n),we=r):Et(t,e,n);break;default:Et(t,e,n)}}function $c(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new am),e.forEach(function(r){var s=ym.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Je(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:me=l.stateNode,Ze=!1;break e;case 3:me=l.stateNode.containerInfo,Ze=!0;break e;case 4:me=l.stateNode.containerInfo,Ze=!0;break e}l=l.return}if(me===null)throw Error(C(160));oh(i,a,s),me=null,Ze=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){se(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ah(e,t),e=e.sibling}function ah(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Je(e,t),ot(t),r&4){try{Pr(3,t,t.return),Si(3,t)}catch(j){se(t,t.return,j)}try{Pr(5,t,t.return)}catch(j){se(t,t.return,j)}}break;case 1:Je(e,t),ot(t),r&512&&n!==null&&Fn(n,n.return);break;case 5:if(Je(e,t),ot(t),r&512&&n!==null&&Fn(n,n.return),t.flags&32){var s=t.stateNode;try{Dr(s,"")}catch(j){se(t,t.return,j)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Tu(s,i),Ro(l,a);var u=Ro(l,i);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];h==="style"?Au(s,d):h==="dangerouslySetInnerHTML"?Ru(s,d):h==="children"?Dr(s,d):Ra(s,h,d,u)}switch(l){case"input":Eo(s,i);break;case"textarea":Pu(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?qn(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?qn(s,!!i.multiple,i.defaultValue,!0):qn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Vr]=i}catch(j){se(t,t.return,j)}}break;case 6:if(Je(e,t),ot(t),r&4){if(t.stateNode===null)throw Error(C(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(j){se(t,t.return,j)}}break;case 3:if(Je(e,t),ot(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fr(e.containerInfo)}catch(j){se(t,t.return,j)}break;case 4:Je(e,t),ot(t);break;case 13:Je(e,t),ot(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(dl=ie())),r&4&&$c(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(we=(u=we)||h,Je(e,t),we=u):Je(e,t),ot(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(A=t,h=t.child;h!==null;){for(d=A=h;A!==null;){switch(f=A,y=f.child,f.tag){case 0:case 11:case 14:case 15:Pr(4,f,f.return);break;case 1:Fn(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(j){se(r,n,j)}}break;case 5:Fn(f,f.return);break;case 22:if(f.memoizedState!==null){Ic(d);continue}}y!==null?(y.return=f,A=y):Ic(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=$u("display",a))}catch(j){se(t,t.return,j)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(j){se(t,t.return,j)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Je(e,t),ot(t),r&4&&$c(t);break;case 21:break;default:Je(e,t),ot(t)}}function ot(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ih(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Dr(s,""),r.flags&=-33);var i=Rc(t);la(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Rc(t);aa(t,l,a);break;default:throw Error(C(161))}}catch(c){se(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cm(t,e,n){A=t,lh(t)}function lh(t,e,n){for(var r=(t.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Ns;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||we;l=Ns;var u=we;if(Ns=a,(we=c)&&!u)for(A=s;A!==null;)a=A,c=a.child,a.tag===22&&a.memoizedState!==null?Lc(s):c!==null?(c.return=a,A=c):Lc(s);for(;i!==null;)A=i,lh(i),i=i.sibling;A=s,Ns=l,we=u}Ac(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):Ac(t)}}function Ac(t){for(;A!==null;){var e=A;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:we||Si(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!we)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ye(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&vc(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vc(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Fr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}we||e.flags&512&&oa(e)}catch(f){se(e,e.return,f)}}if(e===t){A=null;break}if(n=e.sibling,n!==null){n.return=e.return,A=n;break}A=e.return}}function Ic(t){for(;A!==null;){var e=A;if(e===t){A=null;break}var n=e.sibling;if(n!==null){n.return=e.return,A=n;break}A=e.return}}function Lc(t){for(;A!==null;){var e=A;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Si(4,e)}catch(c){se(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){se(e,s,c)}}var i=e.return;try{oa(e)}catch(c){se(e,i,c)}break;case 5:var a=e.return;try{oa(e)}catch(c){se(e,a,c)}}}catch(c){se(e,e.return,c)}if(e===t){A=null;break}var l=e.sibling;if(l!==null){l.return=e.return,A=l;break}A=e.return}}var um=Math.ceil,ci=kt.ReactCurrentDispatcher,cl=kt.ReactCurrentOwner,He=kt.ReactCurrentBatchConfig,q=0,pe=null,oe=null,ge=0,Ae=0,Bn=Qt(0),he=0,Yr=null,mn=0,Ei=0,ul=0,Or=null,Ce=null,dl=0,tr=1/0,ft=null,ui=!1,ca=null,Bt=null,Ss=!1,Lt=null,di=0,Rr=0,ua=null,Fs=-1,Bs=0;function ke(){return q&6?ie():Fs!==-1?Fs:Fs=ie()}function qt(t){return t.mode&1?q&2&&ge!==0?ge&-ge:Gp.transition!==null?(Bs===0&&(Bs=Vu()),Bs):(t=W,t!==0||(t=window.event,t=t===void 0?16:Zu(t.type)),t):1}function rt(t,e,n,r){if(50<Rr)throw Rr=0,ua=null,Error(C(185));ns(t,n,r),(!(q&2)||t!==pe)&&(t===pe&&(!(q&2)&&(Ei|=n),he===4&&$t(t,ge)),$e(t,r),n===1&&q===0&&!(e.mode&1)&&(tr=ie()+500,ji&&Jt()))}function $e(t,e){var n=t.callbackNode;Gf(t,e);var r=Ks(t,t===pe?ge:0);if(r===0)n!==null&&Wl(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Wl(n),e===1)t.tag===0?Vp(Dc.bind(null,t)):vd(Dc.bind(null,t)),Bp(function(){!(q&6)&&Jt()}),n=null;else{switch(Gu(r)){case 1:n=Da;break;case 4:n=Hu;break;case 16:n=Gs;break;case 536870912:n=Wu;break;default:n=Gs}n=gh(n,ch.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ch(t,e){if(Fs=-1,Bs=0,q&6)throw Error(C(327));var n=t.callbackNode;if(Kn()&&t.callbackNode!==n)return null;var r=Ks(t,t===pe?ge:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hi(t,r);else{e=r;var s=q;q|=2;var i=dh();(pe!==t||ge!==e)&&(ft=null,tr=ie()+500,un(t,e));do try{fm();break}catch(l){uh(t,l)}while(!0);Ja(),ci.current=i,q=s,oe!==null?e=0:(pe=null,ge=0,e=he)}if(e!==0){if(e===2&&(s=Do(t),s!==0&&(r=s,e=da(t,s))),e===1)throw n=Yr,un(t,0),$t(t,r),$e(t,ie()),n;if(e===6)$t(t,r);else{if(s=t.current.alternate,!(r&30)&&!dm(s)&&(e=hi(t,r),e===2&&(i=Do(t),i!==0&&(r=i,e=da(t,i))),e===1))throw n=Yr,un(t,0),$t(t,r),$e(t,ie()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(C(345));case 2:rn(t,Ce,ft);break;case 3:if($t(t,r),(r&130023424)===r&&(e=dl+500-ie(),10<e)){if(Ks(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ke(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Wo(rn.bind(null,t,Ce,ft),e);break}rn(t,Ce,ft);break;case 4:if($t(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-nt(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*um(r/1960))-r,10<r){t.timeoutHandle=Wo(rn.bind(null,t,Ce,ft),r);break}rn(t,Ce,ft);break;case 5:rn(t,Ce,ft);break;default:throw Error(C(329))}}}return $e(t,ie()),t.callbackNode===n?ch.bind(null,t):null}function da(t,e){var n=Or;return t.current.memoizedState.isDehydrated&&(un(t,e).flags|=256),t=hi(t,e),t!==2&&(e=Ce,Ce=n,e!==null&&ha(e)),t}function ha(t){Ce===null?Ce=t:Ce.push.apply(Ce,t)}function dm(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!st(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $t(t,e){for(e&=~ul,e&=~Ei,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-nt(e),r=1<<n;t[n]=-1,e&=~r}}function Dc(t){if(q&6)throw Error(C(327));Kn();var e=Ks(t,0);if(!(e&1))return $e(t,ie()),null;var n=hi(t,e);if(t.tag!==0&&n===2){var r=Do(t);r!==0&&(e=r,n=da(t,r))}if(n===1)throw n=Yr,un(t,0),$t(t,e),$e(t,ie()),n;if(n===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rn(t,Ce,ft),$e(t,ie()),null}function hl(t,e){var n=q;q|=1;try{return t(e)}finally{q=n,q===0&&(tr=ie()+500,ji&&Jt())}}function gn(t){Lt!==null&&Lt.tag===0&&!(q&6)&&Kn();var e=q;q|=1;var n=He.transition,r=W;try{if(He.transition=null,W=1,t)return t()}finally{W=r,He.transition=n,q=e,!(q&6)&&Jt()}}function fl(){Ae=Bn.current,X(Bn)}function un(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Fp(n)),oe!==null)for(n=oe.return;n!==null;){var r=n;switch(Ga(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zs();break;case 3:Zn(),X(Oe),X(_e),nl();break;case 5:tl(r);break;case 4:Zn();break;case 13:X(ee);break;case 19:X(ee);break;case 10:Xa(r.type._context);break;case 22:case 23:fl()}n=n.return}if(pe=t,oe=t=Ht(t.current,null),ge=Ae=e,he=0,Yr=null,ul=Ei=mn=0,Ce=Or=null,ln!==null){for(e=0;e<ln.length;e++)if(n=ln[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}ln=null}return t}function uh(t,e){do{var n=oe;try{if(Ja(),Ms.current=li,ai){for(var r=te.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ai=!1}if(pn=0,fe=de=te=null,Tr=!1,Qr=0,cl.current=null,n===null||n.return===null){he=1,Yr=e,oe=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=ge,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=kc(a);if(y!==null){y.flags&=-257,Nc(y,a,l,i,e),y.mode&1&&jc(i,u,e),e=y,c=u;var m=e.updateQueue;if(m===null){var j=new Set;j.add(c),e.updateQueue=j}else m.add(c);break e}else{if(!(e&1)){jc(i,u,e),pl();break e}c=Error(C(426))}}else if(Z&&l.mode&1){var E=kc(a);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Nc(E,a,l,i,e),Ka(er(c,l));break e}}i=c=er(c,l),he!==4&&(he=2),Or===null?Or=[i]:Or.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=Gd(i,c,e);yc(i,v);break e;case 1:l=c;var g=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Bt===null||!Bt.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=Kd(i,l,e);yc(i,x);break e}}i=i.return}while(i!==null)}fh(n)}catch(w){e=w,oe===n&&n!==null&&(oe=n=n.return);continue}break}while(!0)}function dh(){var t=ci.current;return ci.current=li,t===null?li:t}function pl(){(he===0||he===3||he===2)&&(he=4),pe===null||!(mn&268435455)&&!(Ei&268435455)||$t(pe,ge)}function hi(t,e){var n=q;q|=2;var r=dh();(pe!==t||ge!==e)&&(ft=null,un(t,e));do try{hm();break}catch(s){uh(t,s)}while(!0);if(Ja(),q=n,ci.current=r,oe!==null)throw Error(C(261));return pe=null,ge=0,he}function hm(){for(;oe!==null;)hh(oe)}function fm(){for(;oe!==null&&!Mf();)hh(oe)}function hh(t){var e=mh(t.alternate,t,Ae);t.memoizedProps=t.pendingProps,e===null?fh(t):oe=e,cl.current=null}function fh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=om(n,e),n!==null){n.flags&=32767,oe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{he=6,oe=null;return}}else if(n=im(n,e,Ae),n!==null){oe=n;return}if(e=e.sibling,e!==null){oe=e;return}oe=e=t}while(e!==null);he===0&&(he=5)}function rn(t,e,n){var r=W,s=He.transition;try{He.transition=null,W=1,pm(t,e,n,r)}finally{He.transition=s,W=r}return null}function pm(t,e,n,r){do Kn();while(Lt!==null);if(q&6)throw Error(C(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Kf(t,i),t===pe&&(oe=pe=null,ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ss||(Ss=!0,gh(Gs,function(){return Kn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=He.transition,He.transition=null;var a=W;W=1;var l=q;q|=4,cl.current=null,lm(t,n),ah(n,t),Ap(qo),Qs=!!Bo,qo=Bo=null,t.current=n,cm(n),zf(),q=l,W=a,He.transition=i}else t.current=n;if(Ss&&(Ss=!1,Lt=t,di=s),i=t.pendingLanes,i===0&&(Bt=null),Bf(n.stateNode),$e(t,ie()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ui)throw ui=!1,t=ca,ca=null,t;return di&1&&t.tag!==0&&Kn(),i=t.pendingLanes,i&1?t===ua?Rr++:(Rr=0,ua=t):Rr=0,Jt(),null}function Kn(){if(Lt!==null){var t=Gu(di),e=He.transition,n=W;try{if(He.transition=null,W=16>t?16:t,Lt===null)var r=!1;else{if(t=Lt,Lt=null,di=0,q&6)throw Error(C(331));var s=q;for(q|=4,A=t.current;A!==null;){var i=A,a=i.child;if(A.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(A=u;A!==null;){var h=A;switch(h.tag){case 0:case 11:case 15:Pr(8,h,i)}var d=h.child;if(d!==null)d.return=h,A=d;else for(;A!==null;){h=A;var f=h.sibling,y=h.return;if(sh(h),h===u){A=null;break}if(f!==null){f.return=y,A=f;break}A=y}}}var m=i.alternate;if(m!==null){var j=m.child;if(j!==null){m.child=null;do{var E=j.sibling;j.sibling=null,j=E}while(j!==null)}}A=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,A=a;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Pr(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,A=v;break e}A=i.return}}var g=t.current;for(A=g;A!==null;){a=A;var p=a.child;if(a.subtreeFlags&2064&&p!==null)p.return=a,A=p;else e:for(a=g;A!==null;){if(l=A,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Si(9,l)}}catch(w){se(l,l.return,w)}if(l===a){A=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,A=x;break e}A=l.return}}if(q=s,Jt(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(vi,t)}catch{}r=!0}return r}finally{W=n,He.transition=e}}return!1}function Mc(t,e,n){e=er(n,e),e=Gd(t,e,1),t=Ft(t,e,1),e=ke(),t!==null&&(ns(t,1,e),$e(t,e))}function se(t,e,n){if(t.tag===3)Mc(t,t,n);else for(;e!==null;){if(e.tag===3){Mc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bt===null||!Bt.has(r))){t=er(n,t),t=Kd(e,t,1),e=Ft(e,t,1),t=ke(),e!==null&&(ns(e,1,t),$e(e,t));break}}e=e.return}}function mm(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ke(),t.pingedLanes|=t.suspendedLanes&n,pe===t&&(ge&n)===n&&(he===4||he===3&&(ge&130023424)===ge&&500>ie()-dl?un(t,0):ul|=n),$e(t,e)}function ph(t,e){e===0&&(t.mode&1?(e=gs,gs<<=1,!(gs&130023424)&&(gs=4194304)):e=1);var n=ke();t=bt(t,e),t!==null&&(ns(t,e,n),$e(t,n))}function gm(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ph(t,n)}function ym(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(e),ph(t,n)}var mh;mh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Oe.current)Pe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pe=!1,sm(t,e,n);Pe=!!(t.flags&131072)}else Pe=!1,Z&&e.flags&1048576&&xd(e,ni,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Us(t,e),t=e.pendingProps;var s=Jn(e,_e.current);Gn(e,n),s=sl(null,e,r,t,s,n);var i=il();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Re(r)?(i=!0,ei(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Za(e),s.updater=Ni,e.stateNode=s,s._reactInternals=e,Yo(e,r,t,n),e=ta(null,e,r,!0,i,n)):(e.tag=0,Z&&i&&Va(e),je(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Us(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=xm(r),t=Ye(r,t),s){case 0:e=ea(null,e,r,t,n);break e;case 1:e=Cc(null,e,r,t,n);break e;case 11:e=Sc(null,e,r,t,n);break e;case 14:e=Ec(null,e,r,Ye(r.type,t),n);break e}throw Error(C(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ye(r,s),ea(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ye(r,s),Cc(t,e,r,s,n);case 3:e:{if(Yd(e),t===null)throw Error(C(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Nd(t,e),ii(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=er(Error(C(423)),e),e=Tc(t,e,r,n,s);break e}else if(r!==s){s=er(Error(C(424)),e),e=Tc(t,e,r,n,s);break e}else for(Ie=Ut(e.stateNode.containerInfo.firstChild),Le=e,Z=!0,tt=null,n=jd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xn(),r===s){e=jt(t,e,n);break e}je(t,e,r,n)}e=e.child}return e;case 5:return Sd(e),t===null&&Qo(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Ho(r,s)?a=null:i!==null&&Ho(r,i)&&(e.flags|=32),Xd(t,e),je(t,e,a,n),e.child;case 6:return t===null&&Qo(e),null;case 13:return Zd(t,e,n);case 4:return el(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Yn(e,null,r,n):je(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ye(r,s),Sc(t,e,r,s,n);case 7:return je(t,e,e.pendingProps,n),e.child;case 8:return je(t,e,e.pendingProps.children,n),e.child;case 12:return je(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,G(ri,r._currentValue),r._currentValue=a,i!==null)if(st(i.value,a)){if(i.children===s.children&&!Oe.current){e=jt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=vt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Jo(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(C(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Jo(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}je(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Gn(e,n),s=Ve(s),r=r(s),e.flags|=1,je(t,e,r,n),e.child;case 14:return r=e.type,s=Ye(r,e.pendingProps),s=Ye(r.type,s),Ec(t,e,r,s,n);case 15:return Qd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ye(r,s),Us(t,e),e.tag=1,Re(r)?(t=!0,ei(e)):t=!1,Gn(e,n),Vd(e,r,s),Yo(e,r,s,n),ta(null,e,r,!0,t,n);case 19:return eh(t,e,n);case 22:return Jd(t,e,n)}throw Error(C(156,e.tag))};function gh(t,e){return qu(t,e)}function vm(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(t,e,n,r){return new vm(t,e,n,r)}function ml(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xm(t){if(typeof t=="function")return ml(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Aa)return 11;if(t===Ia)return 14}return 2}function Ht(t,e){var n=t.alternate;return n===null?(n=qe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qs(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")ml(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Rn:return dn(n.children,s,i,e);case $a:a=8,s|=8;break;case bo:return t=qe(12,n,e,s|2),t.elementType=bo,t.lanes=i,t;case jo:return t=qe(13,n,e,s),t.elementType=jo,t.lanes=i,t;case ko:return t=qe(19,n,e,s),t.elementType=ko,t.lanes=i,t;case Su:return Ci(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ku:a=10;break e;case Nu:a=9;break e;case Aa:a=11;break e;case Ia:a=14;break e;case Pt:a=16,r=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=qe(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function dn(t,e,n,r){return t=qe(7,t,r,e),t.lanes=n,t}function Ci(t,e,n,r){return t=qe(22,t,r,e),t.elementType=Su,t.lanes=n,t.stateNode={isHidden:!1},t}function co(t,e,n){return t=qe(6,t,null,e),t.lanes=n,t}function uo(t,e,n){return e=qe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wm(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hi(0),this.expirationTimes=Hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gl(t,e,n,r,s,i,a,l,c){return t=new wm(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=qe(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Za(i),t}function _m(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:On,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yh(t){if(!t)return Vt;t=t._reactInternals;e:{if(xn(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Re(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var n=t.type;if(Re(n))return yd(t,n,e)}return e}function vh(t,e,n,r,s,i,a,l,c){return t=gl(n,r,!0,t,s,i,a,l,c),t.context=yh(null),n=t.current,r=ke(),s=qt(n),i=vt(r,s),i.callback=e??null,Ft(n,i,s),t.current.lanes=s,ns(t,s,r),$e(t,r),t}function Ti(t,e,n,r){var s=e.current,i=ke(),a=qt(s);return n=yh(n),e.context===null?e.context=n:e.pendingContext=n,e=vt(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ft(s,e,a),t!==null&&(rt(t,s,a,i),Ds(t,s,a)),a}function fi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yl(t,e){zc(t,e),(t=t.alternate)&&zc(t,e)}function bm(){return null}var xh=typeof reportError=="function"?reportError:function(t){console.error(t)};function vl(t){this._internalRoot=t}Pi.prototype.render=vl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));Ti(t,e,null,null)};Pi.prototype.unmount=vl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gn(function(){Ti(null,t,null,null)}),e[_t]=null}};function Pi(t){this._internalRoot=t}Pi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ju();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Rt.length&&e!==0&&e<Rt[n].priority;n++);Rt.splice(n,0,t),n===0&&Yu(t)}};function xl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Oi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Uc(){}function jm(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=fi(a);i.call(u)}}var a=vh(e,r,t,0,null,!1,!1,"",Uc);return t._reactRootContainer=a,t[_t]=a.current,Hr(t.nodeType===8?t.parentNode:t),gn(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=fi(c);l.call(u)}}var c=gl(t,0,!1,null,null,!1,!1,"",Uc);return t._reactRootContainer=c,t[_t]=c.current,Hr(t.nodeType===8?t.parentNode:t),gn(function(){Ti(e,c,n,r)}),c}function Ri(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=fi(a);l.call(c)}}Ti(e,a,t,s)}else a=jm(n,e,t,s,r);return fi(a)}Ku=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_r(e.pendingLanes);n!==0&&(Ma(e,n|1),$e(e,ie()),!(q&6)&&(tr=ie()+500,Jt()))}break;case 13:gn(function(){var r=bt(t,1);if(r!==null){var s=ke();rt(r,t,1,s)}}),yl(t,1)}};za=function(t){if(t.tag===13){var e=bt(t,134217728);if(e!==null){var n=ke();rt(e,t,134217728,n)}yl(t,134217728)}};Qu=function(t){if(t.tag===13){var e=qt(t),n=bt(t,e);if(n!==null){var r=ke();rt(n,t,e,r)}yl(t,e)}};Ju=function(){return W};Xu=function(t,e){var n=W;try{return W=t,e()}finally{W=n}};Ao=function(t,e,n){switch(e){case"input":if(Eo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=bi(r);if(!s)throw Error(C(90));Cu(r),Eo(r,s)}}}break;case"textarea":Pu(t,n);break;case"select":e=n.value,e!=null&&qn(t,!!n.multiple,e,!1)}};Du=hl;Mu=gn;var km={usingClientEntryPoint:!1,Events:[ss,Ln,bi,Iu,Lu,hl]},yr={findFiberByHostInstance:an,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nm={bundleType:yr.bundleType,version:yr.version,rendererPackageName:yr.rendererPackageName,rendererConfig:yr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Fu(t),t===null?null:t.stateNode},findFiberByHostInstance:yr.findFiberByHostInstance||bm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Es.isDisabled&&Es.supportsFiber)try{vi=Es.inject(Nm),ut=Es}catch{}}Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=km;Me.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xl(e))throw Error(C(200));return _m(t,e,null,n)};Me.createRoot=function(t,e){if(!xl(t))throw Error(C(299));var n=!1,r="",s=xh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=gl(t,1,!1,null,null,n,!1,r,s),t[_t]=e.current,Hr(t.nodeType===8?t.parentNode:t),new vl(e)};Me.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=Fu(e),t=t===null?null:t.stateNode,t};Me.flushSync=function(t){return gn(t)};Me.hydrate=function(t,e,n){if(!Oi(e))throw Error(C(200));return Ri(null,t,e,!0,n)};Me.hydrateRoot=function(t,e,n){if(!xl(t))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=xh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=vh(e,null,t,1,n??null,s,!1,i,a),t[_t]=e.current,Hr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Pi(e)};Me.render=function(t,e,n){if(!Oi(e))throw Error(C(200));return Ri(null,t,e,!1,n)};Me.unmountComponentAtNode=function(t){if(!Oi(t))throw Error(C(40));return t._reactRootContainer?(gn(function(){Ri(null,null,t,!1,function(){t._reactRootContainer=null,t[_t]=null})}),!0):!1};Me.unstable_batchedUpdates=hl;Me.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Oi(n))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return Ri(t,e,n,!1,r)};Me.version="18.3.1-next-f1338f8080-20240426";function wh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wh)}catch(t){console.error(t)}}wh(),wu.exports=Me;var Sm=wu.exports,_h,Fc=Sm;_h=Fc.createRoot,Fc.hydrateRoot;const bh=k.createContext(void 0);function Em({children:t}){const[e,n]=k.useState([]),r=u=>{n(h=>[...h,{...u,id:Date.now().toString()}])},s=u=>{n(h=>h.filter(d=>d.id!==u))},i=(u,h)=>{if(h<=0){s(u);return}n(d=>d.map(f=>f.id===u?{...f,quantity:h}:f))},a=()=>{n([])},l=()=>e.reduce((u,h)=>{const d=h.productPrice*h.quantity,f=h.addons.reduce((y,m)=>y+m.price*m.quantity,0)*h.quantity;return u+d+f},0),c=()=>l();return o.jsx(bh.Provider,{value:{items:e,addItem:r,removeItem:s,updateQuantity:i,clearCart:a,getTotal:c,getSubtotal:l},children:t})}function $i(){const t=k.useContext(bh);if(!t)throw new Error("useCart must be used within CartProvider");return t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),D=(t,e)=>{const n=k.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},h)=>k.createElement("svg",{ref:h,...Cm,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Tm(t)}`,l].join(" "),...u},[...e.map(([d,f])=>k.createElement(d,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=D("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=D("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=D("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=D("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=D("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=D("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=D("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=D("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=D("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=D("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=D("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=D("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=D("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=D("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=D("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=D("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=D("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=D("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=D("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=D("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=D("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=D("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=D("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=D("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=D("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=D("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=D("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=D("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=D("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=D("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=D("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=D("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=D("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=D("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=D("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=D("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=D("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=D("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=D("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=D("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=D("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=D("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=D("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=D("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function tg({id:t,type:e,message:n,duration:r=5e3,onClose:s}){k.useEffect(()=>{if(r>0){const l=setTimeout(()=>s(t),r);return()=>clearTimeout(l)}},[t,r,s]);const i={success:o.jsx(yn,{className:"w-6 h-6"}),error:o.jsx(eg,{className:"w-6 h-6"}),warning:o.jsx(wl,{className:"w-6 h-6"}),info:o.jsx(Lm,{className:"w-6 h-6"})},a={success:"bg-green-600 border-green-500",error:"bg-red-600 border-red-500",warning:"bg-yellow-600 border-yellow-500",info:"bg-blue-600 border-blue-500"};return o.jsxs("div",{className:`${a[e]} border-l-4 rounded-lg shadow-2xl p-4 mb-3 flex items-start gap-3 backdrop-blur-xl bg-opacity-95 animate-slide-in-right`,children:[o.jsx("div",{className:"text-white flex-shrink-0",children:i[e]}),o.jsx("p",{className:"text-white flex-1 font-medium",children:n}),o.jsx("button",{onClick:()=>s(t),className:"text-white/80 hover:text-white transition-colors flex-shrink-0",children:o.jsx(wn,{className:"w-5 h-5"})})]})}function ng({toasts:t,onClose:e}){return o.jsx("div",{className:"fixed top-4 right-4 z-[9999] w-full max-w-md pointer-events-none",children:o.jsx("div",{className:"pointer-events-auto space-y-2",children:t.map(n=>o.jsx(tg,{...n,onClose:e},n.id))})})}const Eh=k.createContext(void 0);function rg({children:t}){const[e,n]=k.useState([]),r=(u,h,d=5e3)=>{const f=Math.random().toString(36).substring(2,9);n(y=>[...y,{id:f,type:u,message:h,duration:d}])},s=u=>{n(h=>h.filter(d=>d.id!==u))},i=u=>r("success",u),a=u=>r("error",u),l=u=>r("warning",u),c=u=>r("info",u);return o.jsxs(Eh.Provider,{value:{showToast:r,success:i,error:a,warning:l,info:c},children:[t,o.jsx(ng,{toasts:e,onClose:s})]})}function kl(){const t=k.useContext(Eh);if(!t)throw new Error("useToast must be used within ToastProvider");return t}const sg="modulepreload",ig=function(t){return"/"+t},qc={},as=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=ig(c),c in qc)return;qc[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":sg,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((f,y)=>{d.addEventListener("load",f),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},og=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>as(async()=>{const{default:r}=await Promise.resolve().then(()=>ar);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Nl extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class ag extends Nl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Hc extends Nl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Wc extends Nl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ma;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ma||(ma={}));var lg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(h){try{u(r.next(h))}catch(d){a(d)}}function c(h){try{u(r.throw(h))}catch(d){a(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class cg{constructor(e,{headers:n={},customFetch:r,region:s=ma.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=og(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return lg(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let h;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(l["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(l["Content-Type"]="application/json",h=JSON.stringify(a)));const d=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:h}).catch(j=>{throw new ag(j)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Hc(d);if(!d.ok)throw new Wc(d);let y=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return y==="application/json"?m=yield d.json():y==="application/octet-stream"?m=yield d.blob():y==="text/event-stream"?m=d:y==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof Wc||s instanceof Hc?s.context:void 0}}})}}var Te={},Sl={},Ai={},ls={},Ii={},Li={},ug=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},rr=ug();const dg=rr.fetch,Ch=rr.fetch.bind(rr),Th=rr.Headers,hg=rr.Request,fg=rr.Response,ar=Object.freeze(Object.defineProperty({__proto__:null,Headers:Th,Request:hg,Response:fg,default:Ch,fetch:dg},Symbol.toStringTag,{value:"Module"})),pg=Zh(ar);var Di={};Object.defineProperty(Di,"__esModule",{value:!0});let mg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Di.default=mg;var Ph=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Li,"__esModule",{value:!0});const gg=Ph(pg),yg=Ph(Di);let vg=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=gg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,c,u;let h=null,d=null,f=null,y=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?d=g:d=JSON.parse(g))}const E=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),v=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");E&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(h={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,y=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const E=await i.text();try{h=JSON.parse(E),Array.isArray(h)&&i.status===404&&(d=[],h=null,y=200,m="OK")}catch{i.status===404&&E===""?(y=204,m="No Content"):h={message:E}}if(h&&this.isMaybeSingle&&(!((u=h==null?void 0:h.details)===null||u===void 0)&&u.includes("0 rows"))&&(h=null,y=200,m="OK"),h&&this.shouldThrowOnError)throw new yg.default(h)}return{error:h,data:d,count:f,status:y,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Li.default=vg;var xg=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ii,"__esModule",{value:!0});const wg=xg(Li);let _g=class extends wg.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ii.default=_g;var bg=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ls,"__esModule",{value:!0});const jg=bg(Ii);let kg=class extends jg.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ls.default=kg;var Ng=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ai,"__esModule",{value:!0});const vr=Ng(ls);let Sg=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new vr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new vr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var a;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new vr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new vr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new vr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Ai.default=Sg;var Oh=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sl,"__esModule",{value:!0});const Eg=Oh(Ai),Cg=Oh(ls);let Tg=class Rh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Eg.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Rh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let l;const c=new URL(`${this.url}/rpc/${e}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{c.searchParams.append(d,f)})):(l="POST",u=n);const h=new Headers(this.headers);return i&&h.set("Prefer",`count=${i}`),new Cg.default({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};Sl.default=Tg;var lr=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Te,"__esModule",{value:!0});Te.PostgrestError=Te.PostgrestBuilder=Te.PostgrestTransformBuilder=Te.PostgrestFilterBuilder=Te.PostgrestQueryBuilder=Te.PostgrestClient=void 0;const $h=lr(Sl);Te.PostgrestClient=$h.default;const Ah=lr(Ai);Te.PostgrestQueryBuilder=Ah.default;const Ih=lr(ls);Te.PostgrestFilterBuilder=Ih.default;const Lh=lr(Ii);Te.PostgrestTransformBuilder=Lh.default;const Dh=lr(Li);Te.PostgrestBuilder=Dh.default;const Mh=lr(Di);Te.PostgrestError=Mh.default;var Pg=Te.default={PostgrestClient:$h.default,PostgrestQueryBuilder:Ah.default,PostgrestFilterBuilder:Ih.default,PostgrestTransformBuilder:Lh.default,PostgrestBuilder:Dh.default,PostgrestError:Mh.default};const{PostgrestClient:Og,PostgrestQueryBuilder:Jy,PostgrestFilterBuilder:Xy,PostgrestTransformBuilder:Yy,PostgrestBuilder:Zy,PostgrestError:ev}=Pg;class Rg{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const $g="2.15.5",Ag=`realtime-js/${$g}`,Ig="1.0.0",ga=1e4,Lg=1e3,Dg=100;var $r;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})($r||($r={}));var ce;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ce||(ce={}));var et;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(et||(et={}));var ya;(function(t){t.websocket="websocket"})(ya||(ya={}));var on;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(on||(on={}));class Mg{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(e.slice(a,a+s));a=a+s;const c=r.decode(e.slice(a,a+i));a=a+i;const u=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class zh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var V;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(V||(V={}));const Vc=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,a)=>(i[a]=zg(a,t,e,s),i),{})},zg=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,a=n[t];return i&&!r.includes(i)?Uh(i,a):va(a)},Uh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return qg(e,n)}switch(t){case V.bool:return Ug(e);case V.float4:case V.float8:case V.int2:case V.int4:case V.int8:case V.numeric:case V.oid:return Fg(e);case V.json:case V.jsonb:return Bg(e);case V.timestamp:return Hg(e);case V.abstime:case V.date:case V.daterange:case V.int4range:case V.int8range:case V.money:case V.reltime:case V.text:case V.time:case V.timestamptz:case V.timetz:case V.tsrange:case V.tstzrange:return va(e);default:return va(e)}},va=t=>t,Ug=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Fg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Bg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},qg=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>Uh(e,l))}return t},Hg=t=>typeof t=="string"?t.replace(" ","T"):t,Fh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class ho{constructor(e,n,r={},s=ga){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Gc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Gc||(Gc={}));class Ar{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ar.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Ar.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ar.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),a=this.transformState(n),l={},c={};return this.map(i,(u,h)=>{a[u]||(c[u]=h)}),this.map(a,(u,h)=>{const d=i[u];if(d){const f=h.map(E=>E.presence_ref),y=d.map(E=>E.presence_ref),m=h.filter(E=>y.indexOf(E.presence_ref)<0),j=d.filter(E=>f.indexOf(E.presence_ref)<0);m.length>0&&(l[u]=m),j.length>0&&(c[u]=j)}else l[u]=h}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const h=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),h.length>0){const d=e[l].map(y=>y.presence_ref),f=h.filter(y=>d.indexOf(y.presence_ref)<0);e[l].unshift(...f)}r(l,h,c)}),this.map(a,(l,c)=>{let u=e[l];if(!u)return;const h=c.map(d=>d.presence_ref);u=u.filter(d=>h.indexOf(d.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Kc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Kc||(Kc={}));var Ir;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ir||(Ir={}));var pt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(pt||(pt={}));class El{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ho(this,et.join,this.params,this.timeout),this.rejoinTimer=new zh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ce.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(et.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ar(this),this.broadcastEndpointURL=Fh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ce.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[Ir.PRESENCE]&&this.bindings[Ir.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},f={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(pt.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(pt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var m;if(this.socket.setAuth(),y===void 0){e==null||e(pt.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,E=(m=j==null?void 0:j.length)!==null&&m!==void 0?m:0,v=[];for(let g=0;g<E;g++){const p=j[g],{filter:{event:x,schema:w,table:_,filter:N}}=p,b=y&&y[g];if(b&&b.event===x&&b.schema===w&&b.table===_&&b.filter===N)v.push(Object.assign(Object.assign({},p),{id:b.id}));else{this.unsubscribe(),this.state=ce.errored,e==null||e(pt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(pt.SUBSCRIBED);return}}).receive("error",y=>{this.state=ce.errored,e==null||e(pt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(pt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ce.joined&&e===Ir.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ce.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(et.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new ho(this,et.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ce.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ho(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Dg){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const a=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:h}=et;if(r&&[l,c,u,h].indexOf(a)>=0&&r!==this._joinRef())return;let f=this._onMessage(a,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var m,j,E;return((m=y.filter)===null||m===void 0?void 0:m.event)==="*"||((E=(j=y.filter)===null||j===void 0?void 0:j.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===a}).map(y=>y.callback(f,r)):(i=this.bindings[a])===null||i===void 0||i.filter(y=>{var m,j,E,v,g,p;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const x=y.id,w=(m=y.filter)===null||m===void 0?void 0:m.event;return x&&((j=n.ids)===null||j===void 0?void 0:j.includes(x))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const x=(g=(v=y==null?void 0:y.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return x==="*"||x===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:j,table:E,commit_timestamp:v,type:g,errors:p}=m;f=Object.assign(Object.assign({},{schema:j,table:E,commit_timestamp:v,eventType:g,new:{},old:{},errors:p}),this._getPayloadRecords(m))}y.callback(f,r)})}_isClosed(){return this.state===ce.closed}_isJoined(){return this.state===ce.joined}_isJoining(){return this.state===ce.joining}_isLeaving(){return this.state===ce.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&El.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(et.close,{},e)}_onError(e){this._on(et.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ce.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Vc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Vc(e.columns,e.old_record)),n}}const fo=()=>{},Cs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Wg=[1e3,2e3,5e3,1e4],Vg=1e4,Gg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Kg{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ga,this.transport=null,this.heartbeatIntervalMs=Cs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fo,this.ref=0,this.reconnectTimer=null,this.logger=fo,this.conn=null,this.sendBuffer=[],this.serializer=new Mg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>as(async()=>{const{default:l}=await Promise.resolve().then(()=>ar);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${ya.websocket}`,this.httpEndpoint=Fh(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Rg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ig}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case $r.connecting:return on.Connecting;case $r.open:return on.Open;case $r.closing:return on.Closing;default:return on.Closed}}isConnected(){return this.connectionState()===on.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new El(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,a=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Lg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Cs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:a}=n,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(et.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Gg],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Ag};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(et.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new zh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Cs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,a,l,c,u,h;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:ga,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Cs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:fo,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:d=>Wg[d-1]||Vg,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(d,f)=>f(JSON.stringify(d)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Cl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ue(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Qg extends Cl{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xa extends Cl{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Jg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(h){try{u(r.next(h))}catch(d){a(d)}}function c(h){try{u(r.throw(h))}catch(d){a(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const Bh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>as(async()=>{const{default:r}=await Promise.resolve().then(()=>ar);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Xg=()=>Jg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield as(()=>Promise.resolve().then(()=>ar),void 0)).Response:Response}),wa=t=>{if(Array.isArray(t))return t.map(n=>wa(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=wa(r)}),e},Yg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var _n=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(h){try{u(r.next(h))}catch(d){a(d)}}function c(h){try{u(r.throw(h))}catch(d){a(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const po=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Zg=(t,e,n)=>_n(void 0,void 0,void 0,function*(){const r=yield Xg();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new Qg(po(s),i,a))}).catch(s=>{e(new xa(po(s),s))}):e(new xa(po(t),t))}),e0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(Yg(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function cs(t,e,n,r,s,i){return _n(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(n,e0(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>Zg(c,l,r))})})}function mi(t,e,n,r){return _n(this,void 0,void 0,function*(){return cs(t,"GET",e,n,r)})}function lt(t,e,n,r,s){return _n(this,void 0,void 0,function*(){return cs(t,"POST",e,r,s,n)})}function _a(t,e,n,r,s){return _n(this,void 0,void 0,function*(){return cs(t,"PUT",e,r,s,n)})}function t0(t,e,n,r){return _n(this,void 0,void 0,function*(){return cs(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function qh(t,e,n,r,s){return _n(this,void 0,void 0,function*(){return cs(t,"DELETE",e,r,s,n)})}var be=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(h){try{u(r.next(h))}catch(d){a(d)}}function c(h){try{u(r.throw(h))}catch(d){a(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const n0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class r0{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Bh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return be(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Qc),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),h=this._getFinalPath(u),d=yield(e=="PUT"?_a:lt)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ue(i))return{data:null,error:i};throw i}})}upload(e,n,r){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return be(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Qc.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const d=yield _a(this.fetch,l.toString(),c,{headers:h});return{data:{path:i,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ue(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return be(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield lt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new Cl("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}update(e,n,r){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return be(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}copy(e,n,r){return be(this,void 0,void 0,function*(){try{return{data:{path:(yield lt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return be(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield lt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return be(this,void 0,void 0,function*(){try{const s=yield lt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}download(e,n){return be(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield mi(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ue(l))return{data:null,error:l};throw l}})}info(e){return be(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield mi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:wa(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}exists(e){return be(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield t0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r)&&r instanceof xa){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return be(this,void 0,void 0,function*(){try{return{data:yield qh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}list(e,n,r){return be(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},n0),n),{prefix:e||""});return{data:yield lt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}listV2(e,n){return be(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield lt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const s0="2.12.1",i0={"X-Client-Info":`storage-js/${s0}`};var kn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(h){try{u(r.next(h))}catch(d){a(d)}}function c(h){try{u(r.throw(h))}catch(d){a(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class o0{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},i0),n),this.fetch=Bh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return kn(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ue(e))return{data:null,error:e};throw e}})}getBucket(e){return kn(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return kn(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return kn(this,void 0,void 0,function*(){try{return{data:yield _a(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}emptyBucket(e){return kn(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}deleteBucket(e){return kn(this,void 0,void 0,function*(){try{return{data:yield qh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}}class a0 extends o0{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new r0(this.url,this.headers,e,this.fetch)}}const l0="2.57.4";let jr="";typeof Deno<"u"?jr="deno":typeof document<"u"?jr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jr="react-native":jr="node";const c0={"X-Client-Info":`supabase-js-${jr}/${l0}`},u0={headers:c0},d0={schema:"public"},h0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},f0={};var p0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(h){try{u(r.next(h))}catch(d){a(d)}}function c(h){try{u(r.throw(h))}catch(d){a(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const m0=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ch:e=fetch,(...n)=>e(...n)},g0=()=>typeof Headers>"u"?Th:Headers,y0=(t,e,n)=>{const r=m0(n),s=g0();return(i,a)=>p0(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},a),{headers:u}))})};var v0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(h){try{u(r.next(h))}catch(d){a(d)}}function c(h){try{u(r.throw(h))}catch(d){a(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};function x0(t){return t.endsWith("/")?t:t+"/"}function w0(t,e){var n,r;const{db:s,auth:i,realtime:a,global:l}=t,{db:c,auth:u,realtime:h,global:d}=e,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},h),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>v0(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function _0(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(x0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Hh="2.71.1",Tn=30*1e3,ba=3,mo=ba*Tn,b0="http://localhost:9999",j0="supabase.auth.token",k0={"X-Client-Info":`gotrue-js/${Hh}`},ja="X-Supabase-Api-Version",Wh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},N0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,S0=10*60*1e3;class Tl extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function z(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class E0 extends Tl{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function C0(t){return z(t)&&t.name==="AuthApiError"}class Vh extends Tl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Xt extends Tl{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Tt extends Xt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function T0(t){return z(t)&&t.name==="AuthSessionMissingError"}class Ts extends Xt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ps extends Xt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Os extends Xt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function P0(t){return z(t)&&t.name==="AuthImplicitGrantRedirectError"}class Jc extends Xt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ka extends Xt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function go(t){return z(t)&&t.name==="AuthRetryableFetchError"}class Xc extends Xt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Na extends Xt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const gi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yc=` 	
\r=`.split(""),O0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Yc.length;e+=1)t[Yc[e].charCodeAt(0)]=-2;for(let e=0;e<gi.length;e+=1)t[gi[e].charCodeAt(0)]=e;return t})();function Zc(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(gi[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(gi[r]),e.queuedBits-=6}}function Gh(t,e,n){const r=O0[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function eu(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{A0(a,r,n)};for(let a=0;a<t.length;a+=1)Gh(t.charCodeAt(a),s,i);return e.join("")}function R0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function $0(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}R0(r,e)}}function A0(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function I0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Gh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function L0(t){const e=[];return $0(t,n=>e.push(n)),new Uint8Array(e)}function D0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Zc(s,n,r)),Zc(null,n,r),e.join("")}function M0(t){return Math.round(Date.now()/1e3)+t}function z0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Xe=()=>typeof window<"u"&&typeof document<"u",en={tested:!1,writable:!1},Kh=()=>{if(!Xe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(en.tested)return en.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),en.tested=!0,en.writable=!0}catch{en.tested=!0,en.writable=!1}return en.writable};function U0(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Qh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>as(async()=>{const{default:r}=await Promise.resolve().then(()=>ar);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},F0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Pn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},tn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ct=async(t,e)=>{await t.removeItem(e)};class Mi{constructor(){this.promise=new Mi.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Mi.promiseConstructor=Promise;function yo(t){const e=t.split(".");if(e.length!==3)throw new Na("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!N0.test(e[r]))throw new Na("JWT not in base64url format");return{header:JSON.parse(eu(e[0])),payload:JSON.parse(eu(e[1])),signature:I0(e[2]),raw:{header:e[0],payload:e[1]}}}async function B0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function q0(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function H0(t){return("0"+t.toString(16)).substr(-2)}function W0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,H0).join("")}async function V0(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function G0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await V0(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nn(t,e,n=!1){const r=W0();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Pn(t,`${e}-code-verifier`,s);const i=await G0(r);return[i,r===i?"plain":"s256"]}const K0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Q0(t){const e=t.headers.get(ja);if(!e||!e.match(K0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function J0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function X0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Y0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Sn(t){if(!Y0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vo(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tu(t){return JSON.parse(JSON.stringify(t))}var Z0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const sn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ey=[502,503,504];async function nu(t){var e;if(!F0(t))throw new ka(sn(t),0);if(ey.includes(t.status))throw new ka(sn(t),t.status);let n;try{n=await t.json()}catch(i){throw new Vh(sn(i),i)}let r;const s=Q0(t);if(s&&s.getTime()>=Wh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Xc(sn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Tt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Xc(sn(n),t.status,n.weak_password.reasons);throw new E0(sn(n),t.status||500,r)}const ty=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function F(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ja]||(i[ja]=Wh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await ny(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function ny(t,e,n,r,s,i){const a=ty(e,r,s,i);let l;try{l=await t(n,Object.assign({},a))}catch(c){throw console.error(c),new ka(sn(c),0)}if(l.ok||await nu(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await nu(c)}}function ht(t){var e;let n=null;oy(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=M0(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function ru(t){const e=ht(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function At(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ry(t){return{data:t,error:null}}function sy(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,a=Z0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function iy(t){return t}function oy(t){return t.access_token&&t.refresh_token&&t.expires_in}const xo=["global","local","others"];var ay=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class ly{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Qh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=xo[0]){if(xo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xo.join(", ")}`);try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:At})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=ay(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:sy,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(z(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:At})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:iy});if(h.error)throw h.error;const d=await h.json(),f=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(m=>{const j=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(m.split(";")[1].split("=")[1]);u[`${E}Page`]=j}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(z(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Sn(e);try{return await F(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:At})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Sn(e);try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:At})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Sn(e);try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:At})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Sn(e.userId);try{const{data:n,error:r}=await F(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(z(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Sn(e.userId),Sn(e.id);try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}}function su(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function cy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const En={debug:!!(globalThis&&Kh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class uy extends Jh{}async function dy(t,e,n){En.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),En.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){En.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{En.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw En.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new uy(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(En.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}cy();const hy={url:b0,storageKey:j0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:k0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function iu(t,e,n){return await n()}const Cn={};class es{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=es.nextInstanceID,es.nextInstanceID+=1,this.instanceID>0&&Xe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},hy),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ly({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Qh(s.fetch),this.lock=s.lock||iu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Xe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=dy:this.lock=iu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Kh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=su(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=su(this.memoryStorage)),Xe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Cn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Cn[this.storageKey]=Object.assign(Object.assign({},Cn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Cn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Cn[this.storageKey]=Object.assign(Object.assign({},Cn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Hh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=U0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Xe()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),P0(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return z(n)?{error:n}:{error:new Vh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ht}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:h,password:d,options:f}=e;let y=null,m=null;this.flowType==="pkce"&&([y,m]=await Nn(this.storage,this.storageKey)),i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:h,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:m},xform:ht})}else if("phone"in e){const{phone:h,password:d,options:f}=e;i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ht})}else throw new Ps("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:a,options:l}=e;n=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ru})}else if("phone"in e){const{phone:i,password:a,options:l}=e;n=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ru})}else throw new Ps("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ts}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,a,l,c,u,h,d,f,y;let m,j;if("message"in e)m=e.message,j=e.signature;else{const{chain:E,wallet:v,statement:g,options:p}=e;let x;if(Xe())if(typeof v=="object")x=v;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))x=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=v}const w=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const _=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),g?{statement:g}:null));let N;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")N=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)N=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)m=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),j=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${w.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((d=(h=p==null?void 0:p.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||d===void 0)&&d.length?["Resources",...p.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const _=await x.signMessage(new TextEncoder().encode(m),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=_}}try{const{data:E,error:v}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:D0(j)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ht});if(v)throw v;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new Ts}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:v})}catch(E){if(z(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(e){const n=await tn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ht});if(await Ct(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ts}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=e,l=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ht}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ts}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,a;try{if("email"in e){const{email:l,options:c}=e;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Nn(this.storage,this.storageKey));const{error:d}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:h}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Ps("You must provide either an email or phone number.")}catch(l){if(z(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ht});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Nn(this.storage,this.storageKey)),await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:ry})}catch(i){if(z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Tt;const{error:s}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(z(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:a}=await F(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:a,error:l}=await F(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Ps("You must provide either an email or phone number and a type")}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await tn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<mo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await tn(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=vo()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,h)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,h))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:At}):await this._useSession(async n=>{var r,s,i;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tt}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:At})})}catch(n){if(z(n))return T0(n)&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Tt;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Nn(this.storage,this.storageKey));const{data:u,error:h}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:At});if(h)throw h;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Tt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=yo(e.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(z(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:l}=n;if(l)throw l;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Tt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Xe())throw new Os("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Os(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Jc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Os("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Jc("No code detected.");const{data:g,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!a||!u)throw new Os("No session defined in URL");const h=Math.round(Date.now()/1e3),d=parseInt(l);let f=h+d;c&&(f=parseInt(c));const y=f-h;y*1e3<=Tn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${d}s`);const m=f-d;h-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,h):h-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,h);const{data:j,error:E}=await this._getUser(i);if(E)throw E;const v={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:a,token_type:u,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(r){if(z(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await tn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(C0(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=z0(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Nn(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,l,c,u,h;const{data:d,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return Xe()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(z(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await q0(async s=>(s>0&&await B0(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ht})),(s,i)=>{const a=200*Math.pow(2,s);return i&&go(i)&&Date.now()+a-r<Tn})}catch(r){if(this._debug(n,"error",r),z(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Xe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await tn(this.storage,this.storageKey);if(s&&this.userStorage){let a=await tn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Pn(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:vo()}else if(s&&!s.user&&!s.user){const a=await tn(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Ct(this.storage,this.storageKey+"-user"),await Pn(this.storage,this.storageKey,s)):s.user=vo()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<mo;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${mo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),go(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Mi;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Tt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),z(i)){const a={session:null,error:i};return go(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Pn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=tu(s);await Pn(this.storage,this.storageKey,i)}else{const s=tu(n);await Pn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ct(this.storage,this.storageKey),await Ct(this.storage,this.storageKey+"-code-verifier"),await Ct(this.storage,this.storageKey+"-user"),this.userStorage&&await Ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Xe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Tn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Tn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Tn}ms, refresh threshold is ${ba} ticks`),s<=ba&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Jh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await Nn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await F(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await F(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:a,error:l}=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(z(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(z(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=yo(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const h=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+S0>s)return r;const{data:i,error:a}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:y,error:m}=await this.getSession();if(m||!y.session)return{data:null,error:m};r=y.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=yo(r);n!=null&&n.allowExpired||J0(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:s,signature:a},error:null}}const h=X0(s.alg),d=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,a,L0(`${l}.${c}`)))throw new Na("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}}es.nextInstanceID=0;const fy=es;class py extends fy{constructor(e){super(e)}}var my=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(h){try{u(r.next(h))}catch(d){a(d)}}function c(h){try{u(r.throw(h))}catch(d){a(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class gy{constructor(e,n,r){var s,i,a;this.supabaseUrl=e,this.supabaseKey=n;const l=_0(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:d0,realtime:f0,auth:Object.assign(Object.assign({},h0),{storageKey:c}),global:u0},h=w0(r??{},u);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=y0(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Og(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new a0(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new cg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return my(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:a,flowType:l,lock:c,debug:u},h,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new py({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),h),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:c,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Kg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yy=(t,e,n)=>new gy(t,e,n);function vy(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}vy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xy="https://kanpcfffaprewzdcloxx.supabase.co",wy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImthbnBjZmZmYXByZXd6ZGNsb3h4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkzODM5NTcsImV4cCI6MjA4NDk1OTk1N30.1koLhtp9oP3iIY25gV_0pZ2YGyLElxFXWmb1chI_SOU",R=yy(xy,wy,{db:{schema:"public"},auth:{persistSession:!1,autoRefreshToken:!1},global:{headers:{"X-Client-Info":"supabase-js-web"}}}),ou=["https://images.pexels.com/photos/1058775/pexels-photo-1058775.jpeg?auto=compress&cs=tinysrgb&w=1600","https://images.pexels.com/photos/1762851/pexels-photo-1762851.jpeg?auto=compress&cs=tinysrgb&w=1600","https://images.pexels.com/photos/1670977/pexels-photo-1670977.jpeg?auto=compress&cs=tinysrgb&w=1600","https://images.pexels.com/photos/1337386/pexels-photo-1337386.jpeg?auto=compress&cs=tinysrgb&w=1600"];function cr(){const[t,e]=k.useState(0),[n,r]=k.useState(ou),[s,i]=k.useState([]);k.useEffect(()=>{a();const u=R.channel("background_media_changes").on("postgres_changes",{event:"*",schema:"public",table:"background_media"},()=>{a()}).subscribe();return()=>{R.removeChannel(u)}},[]);async function a(){try{const{data:u,error:h}=await R.from("background_media").select("file_url, file_type").eq("is_active",!0).order("order_position",{ascending:!0});if(h)throw h;u&&u.length>0?(r(u.map(d=>d.file_url)),i(u.map(d=>d.file_type))):(r(ou),i([]))}catch(u){console.error("Erro ao carregar mdias:",u)}}const l=()=>{e(u=>(u+1)%n.length)};k.useEffect(()=>{if((s[t]||"image")==="image"){const h=setTimeout(l,5e3);return()=>clearTimeout(h)}},[t,n.length,s]);const c=s[t]||"image";return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-gray-900 via-black to-gray-800 z-0"}),o.jsx("div",{className:"fixed inset-0 z-0 overflow-hidden",children:c==="video"?o.jsx("video",{autoPlay:!0,muted:!0,playsInline:!0,onEnded:l,className:"absolute inset-0 w-full h-full object-cover transition-opacity duration-[800ms] ease-in-out",style:{opacity:.6},children:o.jsx("source",{src:n[t],type:"video/mp4"})},n[t]):o.jsx("div",{className:"absolute inset-0 transition-opacity duration-[800ms] ease-in-out",style:{backgroundImage:`url(${n[t]})`,backgroundSize:"cover",backgroundPosition:"center",opacity:.6}},n[t])}),o.jsx("div",{className:"fixed inset-0 bg-gradient-to-t from-black/75 via-black/40 to-black/60 z-0 pointer-events-none"}),o.jsx("div",{className:"fixed inset-0 bg-gradient-to-r from-red-950/20 via-transparent to-blue-950/20 z-0 pointer-events-none"})]})}function _y({onOrderNow:t}){return o.jsxs("div",{className:"min-h-screen relative flex items-center justify-center",children:[o.jsx(cr,{}),o.jsx("div",{className:"relative z-10 container mx-auto px-4",children:o.jsxs("div",{className:"max-w-3xl mx-auto text-center space-y-8",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx("img",{src:"/expresso-delivery_615dab6902eee3285f7eabcacf6ac2ee.png",alt:"Hero's Brasa Burguer",className:"w-64 md:w-96 h-auto object-contain"})}),o.jsx("div",{className:"space-y-3",children:o.jsx("p",{className:"text-lg md:text-xl text-yellow-400 font-semibold",children:"Hamburgueria dos Super-Heris"})}),o.jsx("button",{onClick:t,className:"btn-primary text-white px-12 py-6 rounded-2xl text-2xl md:text-3xl font-bold shadow-2xl hover:scale-105 transition-transform duration-300 animate-bounce",children:" FAA SEU PEDIDO AGORA"}),o.jsx("div",{className:"glass-effect rounded-xl p-5 mt-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4 md:gap-8 text-gray-200 text-sm md:text-base",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{children:"Tera a Sbado - 18h30 s 23h00"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{children:"(66) 99936-5994"})]})]})})]})})]})}function by(){const[t,e]=k.useState([]);return k.useEffect(()=>{const n=["from-orange-600 via-orange-400 to-yellow-300","from-red-600 via-orange-500 to-yellow-400","from-yellow-600 via-yellow-400 to-white","from-orange-500 via-yellow-300 to-yellow-100"],r=()=>{const i=[];for(let a=0;a<50;a++)i.push({id:Math.random(),x:Math.random()*100,y:-5,size:Math.random()*5+1.5,duration:Math.random()*4+2,delay:Math.random()*6,offsetX:(Math.random()-.5)*200,color:n[Math.floor(Math.random()*n.length)]});e(i)};r();const s=setInterval(r,1e4);return()=>clearInterval(s)},[]),o.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-[5]",children:t.map(n=>o.jsx("div",{className:"absolute animate-spark",style:{left:`${n.x}%`,bottom:`${n.y}%`,width:`${n.size}px`,height:`${n.size}px`,animationDuration:`${n.duration}s`,animationDelay:`${n.delay}s`,"--offset-x":`${n.offsetX}px`},children:o.jsx("div",{className:`w-full h-full rounded-full bg-gradient-to-t ${n.color} shadow-[0_0_15px_rgba(251,146,60,0.9)] blur-[0.5px]`})},n.id))})}function jy({product:t,onClose:e}){const[n,r]=k.useState([]),[s,i]=k.useState([]),[a,l]=k.useState({}),[c,u]=k.useState(1),[h,d]=k.useState(""),{addItem:f}=$i();k.useEffect(()=>{y()},[t.id]),k.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const y=async()=>{const{data:p}=await R.from("product_addon_groups").select("addon_group_id").eq("product_id",t.id);if(p&&p.length>0){const x=p.map(N=>N.addon_group_id),{data:w}=await R.from("addon_groups").select("*").in("id",x),{data:_}=await R.from("addons").select("*").in("group_id",x).eq("active",!0);w&&r(w),_&&i(_)}},m=(p,x)=>{const w=n.find(b=>b.id===x);if(!w)return;const N=Object.entries(a).filter(([b])=>{var P;return((P=s.find($=>$.id===b))==null?void 0:P.group_id)===x}).reduce((b,[,P])=>b+P,0);l(b=>{if((b[p]||0)>0){const{[p]:$,...U}=b;return U}else if(N<w.max_quantity)return{...b,[p]:1};return b})},j=(p,x,w)=>{const _=n.find(P=>P.id===x);if(!_)return;const b=Object.entries(a).filter(([P])=>{var $;return(($=s.find(U=>U.id===P))==null?void 0:$.group_id)===x}).reduce((P,[,$])=>P+$,0);l(P=>{const U=(P[p]||0)+w;if(U<=0){const{[p]:T,...H}=P;return H}return w>0&&b>=_.max_quantity?P:{...P,[p]:U}})},E=()=>n.every(p=>{const w=Object.entries(a).filter(([_])=>{var N;return((N=s.find(b=>b.id===_))==null?void 0:N.group_id)===p.id}).reduce((_,[,N])=>_+N,0);return w>=p.min_quantity&&w<=p.max_quantity}),v=()=>{if(!E())return;const p=Object.entries(a).map(([x,w])=>{const _=s.find(N=>N.id===x);return{id:x,name:_.name,price:_.price,quantity:w}});f({id:"",productId:t.id,productName:t.name,productPrice:t.price,quantity:c,addons:p,notes:h}),e()},g=()=>{const p=Object.entries(a).reduce((x,[w,_])=>{const N=s.find(b=>b.id===w);return x+((N==null?void 0:N.price)||0)*_},0);return(t.price+p)*c};return o.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4 overflow-hidden",children:o.jsxs("div",{className:"glass-effect rounded-2xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"glass-effect border-b border-white/10 flex-shrink-0",children:[t.image_url&&o.jsx("img",{src:t.image_url,alt:t.name,className:"w-full h-40 object-cover rounded-t-2xl"}),o.jsxs("div",{className:"p-4 flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:t.name}),o.jsx("p",{className:"text-gray-300 text-sm line-clamp-2",children:t.description}),o.jsxs("p",{className:"text-xl font-bold text-yellow-400 mt-2",children:["R$ ",t.price.toFixed(2)]})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors flex-shrink-0",children:o.jsx(wn,{className:"w-6 h-6"})})]})]}),o.jsxs("div",{className:"p-4 overflow-y-auto scrollbar-thin flex-1",children:[n.map(p=>{const x=s.filter(_=>_.group_id===p.id),w=Object.entries(a).filter(([_])=>{var N;return((N=s.find(b=>b.id===_))==null?void 0:N.group_id)===p.id}).reduce((_,[,N])=>_+N,0);return o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("h3",{className:"text-base font-semibold text-white",children:[p.name,p.required&&o.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),o.jsxs("span",{className:"text-sm text-gray-400",children:[w,"/",p.max_quantity]})]}),o.jsxs("p",{className:"text-xs text-gray-400 mb-2",children:["Escolha de ",p.min_quantity," a ",p.max_quantity," opes"]}),o.jsx("div",{className:"space-y-2",children:x.map(_=>{const N=a[_.id]||0;return o.jsx("div",{className:`glass-effect rounded-lg p-3 transition-all ${N>0?"ring-2 ring-yellow-400":""}`,children:o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-white font-medium text-sm",children:_.name}),o.jsx("p",{className:"text-xs text-gray-400",children:_.price>0?`+ R$ ${_.price.toFixed(2)}`:"Grtis"})]}),N>0?o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.jsx("button",{onClick:()=>j(_.id,p.id,-1),className:"w-7 h-7 rounded-full bg-red-600 hover:bg-red-700 text-white flex items-center justify-center transition-colors",children:o.jsx(pa,{className:"w-3 h-3"})}),o.jsx("span",{className:"text-white font-semibold w-5 text-center text-sm",children:N}),o.jsx("button",{onClick:()=>j(_.id,p.id,1),className:"w-7 h-7 rounded-full bg-green-600 hover:bg-green-700 text-white flex items-center justify-center transition-colors",children:o.jsx(xt,{className:"w-3 h-3"})})]}):o.jsx("button",{onClick:()=>m(_.id,p.id),className:"btn-primary text-white px-3 py-1.5 rounded-lg text-xs flex-shrink-0",children:"Adicionar"})]})},_.id)})})]},p.id)}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-white font-semibold mb-2 text-sm",children:"Observaes (opcional)"}),o.jsx("textarea",{value:h,onChange:p=>d(p.target.value),placeholder:"Ex: Sem cebola, ponto da carne...",className:"w-full px-3 py-2 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400 resize-none text-sm",rows:2})]}),o.jsx("div",{className:"glass-effect rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-white font-semibold text-sm",children:"Quantidade"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>u(Math.max(1,c-1)),className:"w-8 h-8 rounded-full bg-red-600 hover:bg-red-700 text-white flex items-center justify-center transition-colors",children:o.jsx(pa,{className:"w-4 h-4"})}),o.jsx("span",{className:"text-white font-bold text-lg w-8 text-center",children:c}),o.jsx("button",{onClick:()=>u(c+1),className:"w-8 h-8 rounded-full bg-green-600 hover:bg-green-700 text-white flex items-center justify-center transition-colors",children:o.jsx(xt,{className:"w-4 h-4"})})]})]})})]}),o.jsx("div",{className:"glass-effect p-4 border-t border-white/10 flex-shrink-0",children:o.jsxs("button",{onClick:v,disabled:!E(),className:"w-full btn-primary text-white py-3 rounded-xl font-bold text-base disabled:opacity-50 disabled:cursor-not-allowed",children:["Adicionar - R$ ",g().toFixed(2)]})})]})})}const ky="pk.eyJ1IjoicGVydmVuaXJlIiwiYSI6ImNtbGI0NXAzajBkMWwzaHB3bG8yYWE2MDIifQ.5YVkdJv7rh-DLPsQEB0Xcw";function Ny(t,e,n,r){const i=(n-t)*Math.PI/180,a=(r-e)*Math.PI/180,l=Math.sin(i/2)**2+Math.cos(t*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(a/2)**2;return 6371*2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function Sy({onBack:t,onClose:e}){const{items:n,getSubtotal:r,clearCart:s}=$i(),i=kl(),[a,l]=k.useState(null),[c,u]=k.useState("info"),[h,d]=k.useState(""),[f,y]=k.useState({subtotal:0,deliveryFee:0,total:0}),[m,j]=k.useState({customerName:"",customerPhone:"",deliveryType:"delivery",houseNumber:"",paymentMethod:"pix",referencePoint:""}),[E,v]=k.useState(""),[g,p]=k.useState([]),[x,w]=k.useState(!1),[_,N]=k.useState(null),[b,P]=k.useState(0),[$,U]=k.useState(null),[T,H]=k.useState(""),[ae,bn]=k.useState(!1),[le,Yt]=k.useState({}),O=k.useRef(null),I=k.useRef(null);k.useEffect(()=>{M()},[]),k.useEffect(()=>{const S=L=>{I.current&&!I.current.contains(L.target)&&w(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const M=async()=>{const{data:S}=await R.from("delivery_config").select("*").maybeSingle();S&&l(S)},K=k.useCallback(async S=>{if(S.length<4){p([]);return}bn(!0);const L=a?`&proximity=${a.restaurant_lng},${a.restaurant_lat}`:"",Q=`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(S)}.json?access_token=${ky}&country=BR&language=pt&types=address&limit=5${L}`,Ue=await(await fetch(Q)).json();bn(!1),Ue.features&&(p(Ue.features.map(Zt=>({id:Zt.id,place_name:Zt.place_name,center:Zt.center}))),w(!0))},[a]),re=S=>{v(S),N(null),P(0),U(null),H(""),O.current&&clearTimeout(O.current),O.current=setTimeout(()=>K(S),400)},Nt=S=>{const L=S.center[1],Q=S.center[0];if(v(S.place_name),N({lat:L,lng:Q,fullAddress:S.place_name}),p([]),w(!1),H(""),a!=null&&a.restaurant_lat&&(a!=null&&a.restaurant_lng)){const Y=Ny(a.restaurant_lat,a.restaurant_lng,L,Q);if(U(Y),a.max_delivery_radius_km>0&&Y>a.max_delivery_radius_km)H(`Endereo fora do raio de entrega (${a.max_delivery_radius_km} km)`),P(0);else{const Ue=Math.max(a.min_delivery_fee,Y*a.price_per_km);P(parseFloat(Ue.toFixed(2)))}}},Ee=()=>m.deliveryType==="pickup"?0:b,Ke=()=>r()+Ee(),Qe=()=>{const S={};return m.customerName.trim()||(S.customerName="Nome  obrigatrio"),m.customerPhone.trim()||(S.customerPhone="Telefone  obrigatrio"),m.deliveryType==="delivery"&&(_||(S.address="Selecione um endereo na lista de sugestes"),m.houseNumber.trim()||(S.houseNumber="Nmero  obrigatrio"),T&&(S.address=T)),Yt(S),Object.keys(S).length===0},St=async S=>{if(S.preventDefault(),!!Qe())try{const L=`#${Date.now().toString().slice(-6)}`;let{data:Q}=await R.from("customers").select("*").eq("phone",m.customerPhone).maybeSingle(),Y;if(Q){const{data:it}=await R.from("customers").update({name:m.customerName,last_order_at:new Date().toISOString(),total_orders:Q.total_orders+1,total_spent:Q.total_spent+Ke()}).eq("id",Q.id).select().single();Y=it.id}else{const{data:it}=await R.from("customers").insert({name:m.customerName,phone:m.customerPhone,total_orders:1,total_spent:Ke()}).select().single();Y=it.id}const Ue=_?_.fullAddress.split(",")[0]:"",{data:Zt,error:Ol}=await R.from("orders").insert({order_number:L,customer_id:Y,customer_name:m.customerName,customer_phone:m.customerPhone,delivery_type:m.deliveryType,payment_method:m.paymentMethod,status:"pending",neighborhood_id:null,street:m.deliveryType==="delivery"?Ue:null,house_number:m.deliveryType==="delivery"?m.houseNumber:null,address:m.deliveryType==="delivery"&&(_==null?void 0:_.fullAddress)||null,reference_point:m.deliveryType==="delivery"?m.referencePoint:null,subtotal:r(),delivery_fee:Ee(),total:Ke()}).select().single();if(Ol)throw Ol;for(const it of n){const{data:Yh,error:Rl}=await R.from("order_items").insert({order_id:Zt.id,product_id:it.productId,product_name:it.productName,product_price:it.productPrice,quantity:it.quantity,notes:it.notes}).select().single();if(Rl)throw Rl;for(const us of it.addons)await R.from("order_item_addons").insert({order_item_id:Yh.id,addon_id:us.id,addon_name:us.name,addon_price:us.price,quantity:us.quantity})}d(L),y({subtotal:r(),deliveryFee:Ee(),total:Ke()}),u("success"),s()}catch(L){console.error("Error creating order:",L),i.error("Erro ao criar pedido. Tente novamente.")}};return c==="success"?o.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"glass-effect rounded-2xl max-w-md w-full p-8 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(yn,{className:"w-12 h-12 text-white"})}),o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Pedido Realizado!"}),o.jsxs("p",{className:"text-xl text-gray-300 mb-2",children:["Nmero do pedido: ",o.jsx("span",{className:"text-yellow-400 font-bold",children:h})]}),o.jsx("p",{className:"text-gray-400 mb-8",children:m.deliveryType==="delivery"?"Seu pedido est sendo preparado e ser entregue em breve!":"Seu pedido est sendo preparado! Aguarde para retirada."}),o.jsxs("div",{className:"glass-effect rounded-lg p-4 mb-6 text-left",children:[o.jsx("h3",{className:"text-white font-semibold mb-3",children:"Resumo do Pedido"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between text-gray-300",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["R$ ",f.subtotal.toFixed(2)]})]}),m.deliveryType==="delivery"&&o.jsxs("div",{className:"flex justify-between text-gray-300",children:[o.jsx("span",{children:"Taxa de entrega"}),o.jsxs("span",{children:["R$ ",f.deliveryFee.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-white font-bold text-base pt-2 border-t border-white/10",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["R$ ",f.total.toFixed(2)]})]})]})]}),o.jsx("button",{onClick:e,className:"w-full btn-primary text-white py-3 rounded-xl font-semibold",children:"Fechar"})]})}):o.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 overflow-y-auto",children:o.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:o.jsxs("div",{className:"glass-effect rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto scrollbar-thin",children:[o.jsxs("div",{className:"sticky top-0 glass-effect p-6 border-b border-white/10 flex items-center gap-4",children:[o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:o.jsx(Om,{className:"w-6 h-6"})}),o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Finalizar Pedido"})]}),o.jsxs("form",{onSubmit:St,className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-white font-semibold mb-2",children:"Nome completo *"}),o.jsx("input",{type:"text",value:m.customerName,onChange:S=>j({...m,customerName:S.target.value}),className:`w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 ${le.customerName?"ring-2 ring-red-500":"focus:ring-yellow-400"}`,placeholder:"Seu nome"}),le.customerName&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:le.customerName})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white font-semibold mb-2",children:"Telefone *"}),o.jsx("input",{type:"tel",value:m.customerPhone,onChange:S=>j({...m,customerPhone:S.target.value}),className:`w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 ${le.customerPhone?"ring-2 ring-red-500":"focus:ring-yellow-400"}`,placeholder:"(00) 00000-0000"}),le.customerPhone&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:le.customerPhone})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white font-semibold mb-3",children:"Tipo de pedido *"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("button",{type:"button",onClick:()=>j({...m,deliveryType:"delivery"}),className:`p-4 rounded-lg font-semibold transition-all ${m.deliveryType==="delivery"?"btn-primary text-white":"glass-effect text-gray-300 hover:text-white"}`,children:"Entrega"}),o.jsx("button",{type:"button",onClick:()=>j({...m,deliveryType:"pickup"}),className:`p-4 rounded-lg font-semibold transition-all ${m.deliveryType==="pickup"?"btn-primary text-white":"glass-effect text-gray-300 hover:text-white"}`,children:"Retirada"})]})]}),m.deliveryType==="delivery"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{ref:I,className:"relative",children:[o.jsx("label",{className:"block text-white font-semibold mb-2",children:"Endereo *"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Digite sua rua, bairro ou endereo...",value:E,onChange:S=>re(S.target.value),onFocus:()=>g.length>0&&w(!0),className:`w-full px-4 py-3 pr-10 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 ${le.address?"ring-2 ring-red-500":"focus:ring-yellow-400"}`}),o.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:ae?o.jsx(Dm,{className:"w-4 h-4 text-gray-400 animate-spin"}):o.jsx(nr,{className:"w-4 h-4 text-gray-400"})})]}),x&&g.length>0&&o.jsx("div",{className:"absolute z-50 w-full mt-1 max-h-60 overflow-y-auto bg-gray-900 rounded-lg border-2 border-yellow-400 shadow-2xl",children:g.map(S=>o.jsxs("button",{type:"button",onClick:()=>Nt(S),className:"w-full px-4 py-3 text-left text-white hover:bg-yellow-400/20 transition-colors border-b border-gray-700 last:border-b-0 flex items-start gap-2",children:[o.jsx(nr,{className:"w-4 h-4 text-yellow-400 mt-0.5 shrink-0"}),o.jsx("span",{className:"text-sm",children:S.place_name})]},S.id))}),_&&!T&&$!==null&&o.jsxs("div",{className:"mt-2 flex items-center gap-2 text-green-400 text-sm",children:[o.jsx(yn,{className:"w-4 h-4"}),o.jsxs("span",{children:[$.toFixed(1)," km do restaurante  Taxa: R$ ",b.toFixed(2)]})]}),T&&o.jsxs("div",{className:"mt-2 flex items-center gap-2 text-red-400 text-sm",children:[o.jsx(wl,{className:"w-4 h-4"}),o.jsx("span",{children:T})]}),le.address&&!T&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:le.address})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white font-semibold mb-2",children:"Nmero *"}),o.jsx("input",{type:"text",value:m.houseNumber,onChange:S=>j({...m,houseNumber:S.target.value}),className:`w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 ${le.houseNumber?"ring-2 ring-red-500":"focus:ring-yellow-400"}`,placeholder:"Ex: 123"}),le.houseNumber&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:le.houseNumber})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white font-semibold mb-2",children:"Ponto de referncia (opcional)"}),o.jsx("input",{type:"text",value:m.referencePoint,onChange:S=>j({...m,referencePoint:S.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",placeholder:"Ex: Prximo ao mercado, casa amarela..."})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white font-semibold mb-3",children:"Forma de pagamento *"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{value:"pix",label:"PIX"},{value:"dinheiro",label:"Dinheiro"},{value:"debito",label:"Debito"},{value:"credito",label:"Credito"}].map(S=>o.jsx("button",{type:"button",onClick:()=>j({...m,paymentMethod:S.value}),className:`p-3 rounded-lg font-semibold transition-all ${m.paymentMethod===S.value?"btn-primary text-white":"glass-effect text-gray-300 hover:text-white"}`,children:S.label},S.value))})]}),o.jsxs("div",{className:"glass-effect rounded-lg p-6 space-y-3",children:[o.jsx("h3",{className:"text-white font-semibold text-lg",children:"Resumo"}),o.jsxs("div",{className:"flex justify-between text-gray-300",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["R$ ",r().toFixed(2)]})]}),m.deliveryType==="delivery"&&o.jsxs("div",{className:"flex justify-between text-gray-300",children:[o.jsxs("span",{children:["Taxa de entrega",$!==null&&o.jsxs("span",{className:"text-gray-500 text-xs ml-1",children:["(",$.toFixed(1)," km)"]})]}),o.jsxs("span",{children:["R$ ",Ee().toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-white font-bold text-xl pt-3 border-t border-white/10",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{className:"text-yellow-400",children:["R$ ",Ke().toFixed(2)]})]})]}),o.jsx("button",{type:"submit",disabled:m.deliveryType==="delivery"&&!!T,className:"w-full btn-primary text-white py-4 rounded-xl font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar Pedido"})]})]})})})}function Ey({onClose:t}){const{items:e,removeItem:n,updateQuantity:r,getSubtotal:s}=$i(),[i,a]=k.useState(!1);return i?o.jsx(Sy,{onBack:()=>a(!1),onClose:t}):o.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-end md:items-center justify-center",children:o.jsxs("div",{className:"glass-effect rounded-t-3xl md:rounded-2xl w-full md:max-w-2xl md:max-h-[90vh] flex flex-col max-h-[90vh]",children:[o.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Seu Carrinho"}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:o.jsx(wn,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin p-6",children:e.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("p",{className:"text-xl text-gray-400",children:"Seu carrinho est vazio"}),o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Adicione produtos para continuar"})]}):o.jsx("div",{className:"space-y-4",children:e.map(l=>{const c=(l.productPrice+l.addons.reduce((u,h)=>u+h.price*h.quantity,0))*l.quantity;return o.jsxs("div",{className:"glass-effect rounded-xl p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:l.productName}),o.jsxs("p",{className:"text-sm text-gray-400",children:["R$ ",l.productPrice.toFixed(2)]})]}),o.jsx("button",{onClick:()=>n(l.id),className:"text-red-400 hover:text-red-300 transition-colors",children:o.jsx(os,{className:"w-5 h-5"})})]}),l.addons.length>0&&o.jsx("div",{className:"mb-3 pl-4 border-l-2 border-yellow-400/30",children:l.addons.map((u,h)=>o.jsxs("p",{className:"text-sm text-gray-300",children:["+ ",u.name," ",u.quantity>1&&`(${u.quantity}x)`,u.price>0&&` - R$ ${(u.price*u.quantity).toFixed(2)}`]},h))}),l.notes&&o.jsxs("p",{className:"text-sm text-gray-400 mb-3 italic",children:["Obs: ",l.notes]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>r(l.id,l.quantity-1),className:"w-8 h-8 rounded-full bg-red-600 hover:bg-red-700 text-white flex items-center justify-center transition-colors",children:o.jsx(pa,{className:"w-4 h-4"})}),o.jsx("span",{className:"text-white font-semibold w-6 text-center",children:l.quantity}),o.jsx("button",{onClick:()=>r(l.id,l.quantity+1),className:"w-8 h-8 rounded-full bg-green-600 hover:bg-green-700 text-white flex items-center justify-center transition-colors",children:o.jsx(xt,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:"text-lg font-bold text-yellow-400",children:["R$ ",c.toFixed(2)]})})]})]},l.id)})})}),e.length>0&&o.jsxs("div",{className:"p-6 border-t border-white/10 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between text-lg",children:[o.jsx("span",{className:"text-gray-300",children:"Subtotal"}),o.jsxs("span",{className:"text-white font-semibold",children:["R$ ",s().toFixed(2)]})]}),o.jsx("button",{onClick:()=>a(!0),className:"w-full btn-primary text-white py-4 rounded-xl font-bold text-lg",children:"Finalizar Pedido"})]})]})})}function Cy(){var b,P,$,U;const[t,e]=k.useState([]),[n,r]=k.useState([]),[s,i]=k.useState([]),[a,l]=k.useState("all"),[c,u]=k.useState(""),[h,d]=k.useState(null),[f,y]=k.useState(!1),[m,j]=k.useState(0),{items:E,addItem:v}=$i();k.useEffect(()=>{g(),p(),x()},[]),k.useEffect(()=>{if(s.length>1){const T=setInterval(()=>{j(H=>(H+1)%s.length)},5e3);return()=>clearInterval(T)}},[s.length]);const g=async()=>{const{data:T}=await R.from("categories").select("*").eq("active",!0).order("display_order");T&&e(T)},p=async()=>{const{data:T}=await R.from("products").select("*").eq("active",!0).order("display_order");T&&r(T)},x=async()=>{const{data:T}=await R.from("promotions").select("*").eq("active",!0).order("display_order");T&&i(T)},w=n.filter(T=>{const H=a==="all"||T.category_id===a,ae=T.name.toLowerCase().includes(c.toLowerCase())||T.description.toLowerCase().includes(c.toLowerCase());return H&&ae}),_=t.map(T=>({category:T,products:w.filter(H=>H.category_id===T.id)})).filter(T=>T.products.length>0),N=E.reduce((T,H)=>T+H.quantity,0);return o.jsxs("div",{className:"min-h-screen relative",children:[o.jsx(cr,{}),o.jsx(by,{}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("header",{className:"glass-effect sticky top-0 z-50 border-b border-white/10",children:o.jsx("div",{className:"container mx-auto px-3 md:px-4 py-3 md:py-4",children:o.jsxs("div",{className:"flex items-center justify-between gap-2 md:gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 md:gap-3 min-w-0",children:[o.jsx("img",{src:"/expresso-delivery_615dab6902eee3285f7eabcacf6ac2ee.png",alt:"Hero's Brasa Burguer",className:"h-10 md:h-12 w-auto object-contain flex-shrink-0"}),o.jsx("div",{className:"min-w-0",children:o.jsx("p",{className:"text-xs md:text-sm text-gray-300 truncate",children:"Hamburgueria dos Super-Heris"})})]}),o.jsxs("button",{onClick:()=>y(!0),className:"relative btn-primary text-white px-3 md:px-6 py-2 md:py-3 rounded-lg font-semibold flex items-center gap-1 md:gap-2 flex-shrink-0 text-sm md:text-base",children:[o.jsx(Km,{className:"w-4 h-4 md:w-5 md:h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Carrinho"}),N>0&&o.jsx("span",{className:"absolute -top-1 -right-1 md:-top-2 md:-right-2 bg-red-600 text-white rounded-full w-5 h-5 md:w-6 md:h-6 flex items-center justify-center text-xs md:text-sm font-bold",children:N})]})]})})}),s.length>0&&o.jsx("div",{className:"container mx-auto px-3 md:px-4 py-4 md:py-6",children:o.jsxs("div",{className:"relative overflow-hidden rounded-2xl hero-card",children:[((b=s[m])==null?void 0:b.image_url)&&o.jsx("img",{src:s[m].image_url,alt:s[m].title,className:"w-full h-48 md:h-64 object-cover"}),o.jsxs("div",{className:"p-4 md:p-6 lg:p-8",children:[o.jsxs("div",{className:"relative z-10",children:[o.jsx("h3",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white mb-2",children:(P=s[m])==null?void 0:P.title}),o.jsx("p",{className:"text-sm md:text-base lg:text-lg text-gray-200 mb-3",children:($=s[m])==null?void 0:$.description}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("span",{className:"text-2xl md:text-3xl font-bold text-yellow-400",children:["R$ ",(U=s[m])==null?void 0:U.price.toFixed(2).replace(".",",")]}),o.jsx("button",{onClick:()=>{const T=s[m];v({id:Date.now().toString(),productId:T.id,productName:T.title,productPrice:T.price,quantity:1,addons:[],notes:""})},className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold hover:scale-105 transition-transform",children:"Adicionar ao Carrinho"})]})]}),s.length>1&&o.jsx("div",{className:"flex gap-2 mt-4",children:s.map((T,H)=>o.jsx("button",{onClick:()=>j(H),className:`w-2 h-2 rounded-full transition-all ${H===m?"bg-yellow-400 w-8":"bg-white/30"}`},H))})]})]})}),o.jsxs("div",{className:"container mx-auto px-3 md:px-4 py-4 md:py-6",children:[o.jsx("div",{className:"mb-4 md:mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(Gm,{className:"absolute left-3 md:left-4 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4 md:w-5 md:h-5"}),o.jsx("input",{type:"text",placeholder:"Buscar produtos...",value:c,onChange:T=>u(T.target.value),className:"w-full pl-10 md:pl-12 pr-3 md:pr-4 py-3 md:py-4 rounded-xl glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 text-sm md:text-base"})]})}),o.jsxs("div",{className:"flex gap-2 md:gap-3 mb-6 md:mb-8 overflow-x-auto pb-2 scrollbar-thin",children:[o.jsx("button",{onClick:()=>l("all"),className:`px-4 md:px-6 py-2 md:py-3 rounded-lg text-sm md:text-base font-semibold whitespace-nowrap transition-all ${a==="all"?"btn-primary text-white":"glass-effect text-gray-300 hover:text-white"}`,children:"Todos"}),t.map(T=>o.jsx("button",{onClick:()=>l(T.id),className:`px-4 md:px-6 py-2 md:py-3 rounded-lg text-sm md:text-base font-semibold whitespace-nowrap transition-all ${a===T.id?"btn-primary text-white":"glass-effect text-gray-300 hover:text-white"}`,children:T.name},T.id))]}),a==="all"?o.jsx("div",{className:"space-y-8",children:_.map(({category:T,products:H})=>o.jsxs("div",{children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white bg-gradient-to-r from-red-600 to-orange-600 inline-block px-6 py-2 rounded-lg shadow-lg",children:T.name}),T.description&&o.jsx("p",{className:"text-gray-300 text-sm mt-2 ml-1",children:T.description})]}),o.jsx("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:H.map(ae=>o.jsxs("div",{onClick:()=>d(ae),className:"hero-card rounded-xl overflow-hidden cursor-pointer",children:[ae.image_url?o.jsx("img",{src:ae.image_url,alt:ae.name,className:"w-full aspect-video object-cover"}):o.jsx("div",{className:"aspect-video bg-gradient-to-br from-red-900/30 to-blue-900/30 flex items-center justify-center text-4xl md:text-5xl",children:""}),o.jsxs("div",{className:"p-3 md:p-4",children:[o.jsx("h3",{className:"text-base md:text-lg font-bold text-white mb-1 md:mb-2 line-clamp-1",children:ae.name}),o.jsx("p",{className:"text-gray-300 text-xs mb-2 md:mb-3 line-clamp-2",children:ae.description}),o.jsxs("div",{className:"flex items-center justify-between gap-1 md:gap-2",children:[o.jsxs("span",{className:"text-lg md:text-xl font-bold text-yellow-400",children:["R$ ",ae.price.toFixed(2)]}),o.jsx("button",{className:"btn-primary text-white px-2 md:px-3 py-1.5 md:py-2 rounded-lg font-semibold text-xs",children:"+"})]})]})]},ae.id))})]},T.id))}):o.jsx("div",{className:"grid grid-cols-2 gap-3 md:gap-4 mb-6 md:mb-8",children:w.map(T=>o.jsxs("div",{onClick:()=>d(T),className:"hero-card rounded-xl overflow-hidden cursor-pointer",children:[T.image_url?o.jsx("img",{src:T.image_url,alt:T.name,className:"w-full aspect-video object-cover"}):o.jsx("div",{className:"aspect-video bg-gradient-to-br from-red-900/30 to-blue-900/30 flex items-center justify-center text-4xl md:text-5xl",children:""}),o.jsxs("div",{className:"p-3 md:p-4",children:[o.jsx("h3",{className:"text-base md:text-lg font-bold text-white mb-1 md:mb-2 line-clamp-1",children:T.name}),o.jsx("p",{className:"text-gray-300 text-xs mb-2 md:mb-3 line-clamp-2",children:T.description}),o.jsxs("div",{className:"flex items-center justify-between gap-1 md:gap-2",children:[o.jsxs("span",{className:"text-lg md:text-xl font-bold text-yellow-400",children:["R$ ",T.price.toFixed(2)]}),o.jsx("button",{className:"btn-primary text-white px-2 md:px-3 py-1.5 md:py-2 rounded-lg font-semibold text-xs",children:"+"})]})]})]},T.id))}),w.length===0&&o.jsxs("div",{className:"text-center py-12 md:py-16",children:[o.jsx("div",{className:"text-5xl md:text-6xl mb-4",children:""}),o.jsx("p",{className:"text-lg md:text-xl text-gray-400",children:"Nenhum produto encontrado"})]})]})]}),h&&o.jsx(jy,{product:h,onClose:()=>d(null)}),f&&o.jsx(Ey,{onClose:()=>y(!1)})]})}const wo=[{value:"pending",label:"Pendente",color:"bg-yellow-600"},{value:"accepted",label:"Aceito",color:"bg-blue-600"},{value:"ready",label:"Pronto",color:"bg-orange-600"},{value:"driver_accepted",label:"Motoboy Aceitou",color:"bg-purple-600"},{value:"out_for_delivery",label:"Saiu para Entrega",color:"bg-cyan-600"},{value:"delivered",label:"Entregue",color:"bg-green-600"},{value:"cancelled",label:"Cancelado",color:"bg-red-600"}],au={pix:"PIX",dinheiro:"Dinheiro",debito:"Dbito",credito:"Crdito"};function lu(){const[t,e]=k.useState([]),[n,r]=k.useState(!0),s=()=>{try{const d=new(window.AudioContext||window.webkitAudioContext),f=(y,m,j)=>{const E=d.createOscillator(),v=d.createGain();E.connect(v),v.connect(d.destination),E.frequency.value=y,E.type="sine",v.gain.setValueAtTime(.5,m),v.gain.exponentialRampToValueAtTime(.01,m+j),E.start(m),E.stop(m+j)};f(800,d.currentTime,.15),f(800,d.currentTime+.2,.15),f(1e3,d.currentTime+.4,.3),console.log(" Som de notificao tocado!")}catch(d){console.error("Erro ao tocar som de notificao:",d)}};k.useEffect(()=>{i(),console.log(" Conectando ao Realtime do Supabase...");const d=R.channel("orders_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},f=>{console.log(" Novo pedido recebido!",f),s(),i()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders"},f=>{console.log(" Pedido atualizado!",f),i()}).on("postgres_changes",{event:"DELETE",schema:"public",table:"orders"},f=>{console.log(" Pedido deletado!",f),i()}).on("postgres_changes",{event:"*",schema:"public",table:"order_items"},f=>{console.log(" Itens do pedido alterados!",f),i()}).on("postgres_changes",{event:"*",schema:"public",table:"order_item_addons"},f=>{console.log(" Adicionais do pedido alterados!",f),i()}).subscribe(f=>{console.log(" Status da subscrio Realtime:",f)});return()=>{console.log(" Desconectando do Realtime..."),d.unsubscribe()}},[]);const i=async()=>{r(!0);const{data:d}=await R.from("orders").select("*, delivery_areas(name), delivery_drivers(id, name, phone)").order("created_at",{ascending:!1});if(d){const f=await Promise.all(d.map(async y=>{var E;const{data:m}=await R.from("order_items").select("*").eq("order_id",y.id),j=await Promise.all((m||[]).map(async v=>{const{data:g}=await R.from("order_item_addons").select("*").eq("order_item_id",v.id);return{...v,addons:g||[]}}));return{...y,neighborhood_name:((E=y.delivery_areas)==null?void 0:E.name)||null,items:j}}));e(f)}r(!1)},a=async(d,f)=>{await R.from("orders").update({status:f}).eq("id",d),i()},l=d=>{const f=window.open("about:blank","_blank");if(!f){alert("Por favor, permita pop-ups para imprimir a comanda");return}const y=j=>new Date(j).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),m=f.document;m.open(),m.write('<html><head><meta charset="UTF-8">'),m.write("<title>Pedido "+d.order_number+"</title>"),m.write("<style>"),m.write("* { margin: 0; padding: 0; box-sizing: border-box; }"),m.write("body { font-family: Arial, sans-serif; font-size: 16px; font-weight: normal; line-height: 1.6; padding: 10px; width: 80mm; background: white; color: black; }"),m.write(".header { text-align: center; margin-bottom: 18px; padding-bottom: 14px; border-bottom: 3px solid black; }"),m.write(".store-name { font-size: 24px; font-weight: bold; margin-bottom: 6px; text-transform: uppercase; }"),m.write(".order-number { font-size: 26px; font-weight: bold; margin: 10px 0; }"),m.write(".section { margin-bottom: 14px; padding-bottom: 10px; border-bottom: 2px dashed #999; }"),m.write(".section-title { font-weight: bold; margin-bottom: 8px; font-size: 18px; text-transform: uppercase; }"),m.write(".item { margin-bottom: 14px; padding-bottom: 10px; border-bottom: 2px dashed #ccc; }"),m.write(".item-row { display: flex; justify-content: space-between; margin-bottom: 6px; font-size: 16px; }"),m.write(".item-name { font-weight: bold; text-transform: uppercase; }"),m.write(".addon { margin-left: 18px; font-size: 15px; font-weight: normal; display: flex; justify-content: space-between; }"),m.write(".note { margin-left: 18px; font-size: 15px; font-weight: normal; font-style: italic; margin-top: 6px; }"),m.write(".total { font-size: 22px; font-weight: bold; margin-top: 14px; padding-top: 14px; border-top: 3px solid black; text-align: right; }"),m.write(".footer { text-align: center; margin-top: 18px; padding-top: 14px; border-top: 2px dashed #999; font-size: 15px; font-weight: normal; }"),m.write("</style></head><body>"),m.write('<div class="header">'),m.write('<div class="store-name">Heros Brasa Burguer</div>'),m.write('<div style="font-size: 16px;">Hamburgueria dos Super-Herois</div>'),m.write('<div class="order-number">'+d.order_number+"</div>"),m.write('<div style="font-size: 16px;">'+y(d.created_at)+"</div>"),m.write("</div>"),m.write('<div class="section">'),m.write('<div class="section-title">Cliente</div>'),m.write('<div style="margin-bottom: 4px; font-size: 16px;">Nome: '+d.customer_name+"</div>"),m.write('<div style="margin-bottom: 4px; font-size: 16px;">Telefone: '+d.customer_phone+"</div>"),m.write("</div>"),m.write('<div class="section">'),m.write('<div class="section-title">Entrega</div>'),d.delivery_type==="delivery"?(m.write('<div style="margin-bottom: 4px; font-size: 16px;">Entrega em domicilio</div>'),d.street&&d.house_number?(m.write('<div style="margin-bottom: 4px; font-size: 16px;">Endereco:</div>'),m.write('<div style="margin-bottom: 4px; font-size: 16px;">'+d.street+", "+d.house_number+"</div>"),d.neighborhood_name&&m.write('<div style="margin-bottom: 4px; font-size: 16px;">Bairro: '+d.neighborhood_name+"</div>"),d.reference_point&&m.write('<div style="margin-bottom: 4px; font-size: 16px;">Referencia: '+d.reference_point+"</div>"),d.delivery_fee&&d.delivery_fee>0&&m.write('<div style="margin-top: 6px; font-size: 16px;">Taxa de entrega: R$ '+d.delivery_fee.toFixed(2)+"</div>")):d.address&&m.write('<div style="margin-bottom: 4px; font-size: 16px;">'+d.address+"</div>")):m.write('<div style="margin-bottom: 4px; font-size: 16px;">Retirada no local</div>'),m.write("</div>"),m.write('<div class="section">'),m.write('<div class="section-title">Pagamento</div>'),m.write('<div style="margin-bottom: 4px; font-size: 16px;">'+au[d.payment_method]+"</div>"),m.write("</div>"),m.write('<div class="section">'),m.write('<div class="section-title">Itens do Pedido</div>'),d.items&&d.items.length>0?d.items.forEach(j=>{m.write('<div class="item">'),m.write('<div class="item-row">'),m.write('<span class="item-name">'+j.quantity+"x "+j.product_name+"</span>"),m.write("<span>R$ "+(j.product_price*j.quantity).toFixed(2)+"</span>"),m.write("</div>"),j.addons&&j.addons.length>0&&j.addons.forEach(E=>{m.write('<div class="addon">'),m.write("<span>+ "+E.quantity+"x "+E.addon_name+"</span>"),m.write("<span>R$ "+(E.addon_price*E.quantity).toFixed(2)+"</span>"),m.write("</div>")}),j.notes&&m.write('<div class="note">Obs: '+j.notes+"</div>"),m.write("</div>")}):m.write('<div style="text-align: center; font-size: 16px; color: #666;">Nenhum item disponivel</div>'),m.write("</div>"),m.write('<div class="total">Total: R$ '+d.total.toFixed(2)+"</div>"),m.write('<div class="footer">Obrigado pela preferencia!<br>Volte sempre!</div>'),m.write("</body></html>"),m.close(),setTimeout(()=>{f.focus(),f.print()},500)},c=t.filter(d=>d.status!=="delivered"&&d.status!=="cancelled"),u=d=>{var f;return((f=wo.find(y=>y.value===d))==null?void 0:f.color)||"bg-gray-600"},h=d=>{var f;return((f=wo.find(y=>y.value===d))==null?void 0:f.label)||d};return o.jsxs("div",{className:"space-y-4 md:space-y-6",children:[o.jsx("div",{className:"glass-effect rounded-xl p-4 md:p-6",children:o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white",children:"Gerenciar Pedidos"})}),n?o.jsxs("div",{className:"glass-effect rounded-xl p-8 md:p-12 text-center",children:[o.jsx("div",{className:"text-4xl mb-4",children:""}),o.jsx("p",{className:"text-gray-400",children:"Carregando pedidos..."})]}):c.length===0?o.jsxs("div",{className:"glass-effect rounded-xl p-8 md:p-12 text-center",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("p",{className:"text-xl text-gray-400",children:"Nenhum pedido ativo"})]}):o.jsx("div",{className:"space-y-3",children:c.map(d=>o.jsxs("div",{className:"glass-effect rounded-lg p-3 md:p-4 hover:bg-white/10 transition-all",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("h3",{className:"text-lg md:text-xl font-bold text-white mb-1",children:["Pedido ",d.order_number]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[o.jsx(jh,{className:"w-3 h-3"}),new Date(d.created_at).toLocaleString("pt-BR")]})]}),o.jsx("span",{className:`px-2 py-1 rounded text-white font-semibold text-xs ${u(d.status)} self-start`,children:h(d.status)})]}),o.jsxs("div",{className:"space-y-2 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm text-gray-300",children:[o.jsx(_l,{className:"w-3 h-3 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:d.customer_name}),o.jsx("span",{className:"text-gray-500",children:""}),o.jsx("span",{className:"whitespace-nowrap",children:d.customer_phone})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm text-gray-300",children:[o.jsx(kh,{className:"w-3 h-3 flex-shrink-0"}),o.jsx("span",{children:au[d.payment_method]})]}),o.jsxs("div",{className:"flex items-start gap-2 text-xs md:text-sm text-gray-300",children:[o.jsx(nr,{className:"w-3 h-3 flex-shrink-0 mt-0.5"}),d.delivery_type==="delivery"?o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-white mb-1",children:"Entrega:"}),d.street&&d.house_number?o.jsxs(o.Fragment,{children:[o.jsxs("p",{children:[d.street,", ",d.house_number]}),d.neighborhood_name&&o.jsx("p",{className:"text-yellow-400",children:d.neighborhood_name}),d.reference_point&&o.jsxs("p",{className:"text-gray-400 italic text-[10px] mt-1",children:["Referncia: ",d.reference_point]}),d.delivery_fee>0&&o.jsxs("p",{className:"text-[10px] text-gray-400 mt-1",children:["Taxa de entrega: R$ ",d.delivery_fee.toFixed(2)]})]}):d.address?o.jsx("p",{children:d.address}):o.jsx("p",{className:"text-gray-400 italic",children:"Endereo no informado"})]}):o.jsx("span",{children:"Retirada no local"})]}),d.delivery_drivers&&o.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm",children:[o.jsx(Gt,{className:"w-3 h-3 flex-shrink-0 text-blue-400"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("span",{className:"text-blue-400 font-semibold",children:"Motoboy: "}),o.jsx("span",{className:"text-white",children:d.delivery_drivers.name}),o.jsx("span",{className:"text-gray-500",children:"  "}),o.jsx("span",{className:"text-gray-300",children:d.delivery_drivers.phone})]})]})]}),o.jsxs("div",{className:"mb-3 glass-effect rounded-lg p-2",children:[o.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[o.jsx(pi,{className:"w-3 h-3 text-yellow-400"}),o.jsx("p",{className:"text-white font-semibold text-xs",children:"Itens do Pedido"})]}),d.items&&d.items.length>0?o.jsx("div",{className:"space-y-1.5",children:d.items.map(f=>o.jsxs("div",{className:"bg-black/20 rounded p-2",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("span",{className:"text-white font-medium text-xs",children:[f.quantity,"x ",f.product_name]}),o.jsxs("span",{className:"text-yellow-400 font-semibold text-xs",children:["R$ ",(f.product_price*f.quantity).toFixed(2)]})]}),f.addons&&f.addons.length>0&&o.jsx("div",{className:"ml-3 mt-1 space-y-0.5",children:f.addons.map((y,m)=>o.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400",children:[o.jsxs("span",{children:["+ ",y.quantity,"x ",y.addon_name]}),o.jsxs("span",{children:["R$ ",(y.addon_price*y.quantity).toFixed(2)]})]},m))}),f.notes&&o.jsxs("p",{className:"text-[10px] text-gray-400 mt-1 italic",children:["Obs: ",f.notes]})]},f.id))}):o.jsx("div",{className:"bg-black/20 rounded p-2 text-center",children:o.jsx("p",{className:"text-[10px] text-gray-400 italic",children:"Pedido antigo - itens no disponveis"})})]}),o.jsx("div",{className:"pt-2 mb-3 border-t border-white/10",children:o.jsxs("p",{className:"text-lg md:text-xl font-bold text-yellow-400",children:["Total: R$ ",d.total.toFixed(2)]})}),o.jsxs("button",{onClick:()=>l(d),className:"w-full px-3 py-2 rounded-lg font-semibold bg-blue-600 hover:bg-blue-700 text-white transition-colors text-xs flex items-center justify-center gap-2 mb-3",children:[o.jsx(Wm,{className:"w-4 h-4"}),"Imprimir Comanda"]}),d.status!=="delivered"&&d.status!=="cancelled"&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"glass-effect rounded-lg p-2",children:[o.jsx("p",{className:"text-white font-semibold mb-2 text-xs",children:"Alterar Status"}),o.jsxs("div",{className:"relative",children:[o.jsx("select",{value:d.status,onChange:f=>a(d.id,f.target.value),className:"w-full px-3 py-2 rounded-lg glass-effect text-white appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-yellow-400 text-xs",disabled:d.status==="driver_accepted"||d.status==="out_for_delivery",children:wo.filter(f=>d.delivery_type==="delivery"&&f.value==="accepted"?!0:!(f.value==="pending"||f.value==="driver_accepted"||f.value==="out_for_delivery")).map(f=>o.jsx("option",{value:f.value,className:"bg-gray-900",children:f.label},f.value))}),o.jsx(Am,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),o.jsx("button",{onClick:()=>a(d.id,"cancelled"),className:"w-full px-3 py-2 rounded-lg font-semibold bg-red-600 hover:bg-red-700 text-white transition-colors text-xs",children:"Cancelar Pedido"})]})]},d.id))})]})}function Ty(){const t=kl(),[e,n]=k.useState([]),[r,s]=k.useState([]),[i,a]=k.useState([]),[l,c]=k.useState({customerName:"",customerPhone:"",deliveryType:"delivery",neighborhoodId:"",street:"",houseNumber:"",referencePoint:"",paymentMethod:"pix"}),[u,h]=k.useState(""),[d,f]=k.useState(!1);k.useEffect(()=>{y(),m()},[]),k.useEffect(()=>{const p=x=>{x.target.closest(".neighborhood-autocomplete")||f(!1)};return d&&document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[d]);const y=async()=>{const{data:p}=await R.from("products").select("id, name, price").eq("active",!0);p&&n(p)},m=async()=>{const{data:p}=await R.from("delivery_areas").select("*").eq("active",!0);p&&s(p)},j=p=>{const x=i.find(w=>w.productId===p);a(x?i.map(w=>w.productId===p?{...w,quantity:w.quantity+1}:w):[...i,{productId:p,quantity:1}])},E=p=>{a(i.filter(x=>x.productId!==p))},v=()=>{var w;const p=i.reduce((_,N)=>{const b=e.find(P=>P.id===N.productId);return _+((b==null?void 0:b.price)||0)*N.quantity},0),x=l.deliveryType==="delivery"&&((w=r.find(_=>_.id===l.neighborhoodId))==null?void 0:w.delivery_fee)||0;return p+x},g=async p=>{var b;if(p.preventDefault(),!l.customerName||!l.customerPhone||i.length===0){t.warning("Preencha todos os campos e adicione produtos");return}const x=`#${Date.now().toString().slice(-6)}`,w=i.reduce((P,$)=>{const U=e.find(T=>T.id===$.productId);return P+((U==null?void 0:U.price)||0)*$.quantity},0),_=l.deliveryType==="delivery"&&((b=r.find(P=>P.id===l.neighborhoodId))==null?void 0:b.delivery_fee)||0,{data:N}=await R.from("orders").insert({order_number:x,customer_name:l.customerName,customer_phone:l.customerPhone,delivery_type:l.deliveryType,payment_method:l.paymentMethod,status:"pending",neighborhood_id:l.deliveryType==="delivery"?l.neighborhoodId:null,street:l.deliveryType==="delivery"?l.street:null,house_number:l.deliveryType==="delivery"?l.houseNumber:null,address:l.deliveryType==="delivery"?`${l.street}, ${l.houseNumber}`:null,reference_point:l.deliveryType==="delivery"?l.referencePoint:null,subtotal:w,delivery_fee:_,total:w+_}).select().single();if(N){for(const P of i){const $=e.find(U=>U.id===P.productId);await R.from("order_items").insert({order_id:N.id,product_id:P.productId,quantity:P.quantity,unit_price:$.price,subtotal:$.price*P.quantity})}t.success(`Pedido ${x} criado com sucesso!`),a([]),h(""),c({customerName:"",customerPhone:"",deliveryType:"delivery",neighborhoodId:"",street:"",houseNumber:"",referencePoint:"",paymentMethod:"pix"})}};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"glass-effect rounded-xl p-6",children:o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Novo Pedido"})}),o.jsxs("form",{onSubmit:g,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("input",{type:"text",placeholder:"Nome do cliente",value:l.customerName,onChange:p=>c({...l,customerName:p.target.value}),className:"px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"}),o.jsx("input",{type:"tel",placeholder:"Telefone",value:l.customerPhone,onChange:p=>c({...l,customerPhone:p.target.value}),className:"px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("button",{type:"button",onClick:()=>c({...l,deliveryType:"delivery"}),className:`p-3 rounded-lg font-semibold ${l.deliveryType==="delivery"?"btn-primary text-white":"glass-effect text-gray-300"}`,children:"Entrega"}),o.jsx("button",{type:"button",onClick:()=>c({...l,deliveryType:"pickup"}),className:`p-3 rounded-lg font-semibold ${l.deliveryType==="pickup"?"btn-primary text-white":"glass-effect text-gray-300"}`,children:"Retirada"})]}),l.deliveryType==="delivery"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative neighborhood-autocomplete",children:[o.jsx("label",{className:"block text-white font-semibold mb-2",children:"Bairro *"}),o.jsx("input",{type:"text",placeholder:"Digite para buscar o bairro...",value:u,onChange:p=>{h(p.target.value),f(!0),p.target.value===""&&c({...l,neighborhoodId:""})},onFocus:()=>f(!0),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"}),d&&u&&o.jsxs("div",{className:"absolute z-50 w-full mt-1 max-h-60 overflow-y-auto bg-gray-900 rounded-lg border-2 border-yellow-400 shadow-2xl",children:[r.filter(p=>p.name.toLowerCase().includes(u.toLowerCase())).map(p=>o.jsxs("button",{type:"button",onClick:()=>{c({...l,neighborhoodId:p.id}),h(p.name),f(!1)},className:"w-full px-4 py-3 text-left text-white hover:bg-yellow-400/30 transition-colors border-b border-gray-700 last:border-b-0",children:[o.jsx("div",{className:"font-semibold text-base",children:p.name}),o.jsxs("div",{className:"text-sm font-bold text-yellow-400 mt-1",children:["Taxa: R$ ",p.delivery_fee.toFixed(2)]})]},p.id)),r.filter(p=>p.name.toLowerCase().includes(u.toLowerCase())).length===0&&o.jsx("div",{className:"px-4 py-3 text-gray-400 text-center",children:"Nenhum bairro encontrado"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-white font-semibold mb-2",children:"Nome da rua *"}),o.jsx("input",{type:"text",placeholder:"Ex: Rua das Flores",value:l.street,onChange:p=>c({...l,street:p.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white font-semibold mb-2",children:"Nmero *"}),o.jsx("input",{type:"text",placeholder:"Ex: 123",value:l.houseNumber,onChange:p=>c({...l,houseNumber:p.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white font-semibold mb-2",children:"Ponto de referncia"}),o.jsx("input",{type:"text",placeholder:"Ex: Prximo ao mercado, casa amarela...",value:l.referencePoint,onChange:p=>c({...l,referencePoint:p.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"})]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["pix","dinheiro","debito","credito"].map(p=>o.jsx("button",{type:"button",onClick:()=>c({...l,paymentMethod:p}),className:`p-3 rounded-lg font-semibold ${l.paymentMethod===p?"btn-primary text-white":"glass-effect text-gray-300"}`,children:p.charAt(0).toUpperCase()+p.slice(1)},p))}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-semibold mb-3",children:"Produtos"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:e.map(p=>o.jsxs("button",{type:"button",onClick:()=>j(p.id),className:"glass-effect p-4 rounded-lg text-left hover:bg-white/10 transition-colors",children:[o.jsx("p",{className:"text-white font-semibold",children:p.name}),o.jsxs("p",{className:"text-yellow-400",children:["R$ ",p.price.toFixed(2)]})]},p.id))}),i.length>0&&o.jsxs("div",{className:"glass-effect p-4 rounded-lg space-y-2",children:[o.jsx("h4",{className:"text-white font-semibold mb-2",children:"Produtos Selecionados"}),i.map(p=>{const x=e.find(w=>w.id===p.productId);return o.jsxs("div",{className:"flex justify-between items-center text-gray-300",children:[o.jsxs("span",{children:[x==null?void 0:x.name," x",p.quantity]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("span",{children:["R$ ",(((x==null?void 0:x.price)||0)*p.quantity).toFixed(2)]}),o.jsx("button",{type:"button",onClick:()=>E(p.productId),className:"text-red-400 hover:text-red-300",children:"Remover"})]})]},p.productId)}),o.jsxs("div",{className:"pt-2 border-t border-white/10 flex justify-between text-white font-bold",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{className:"text-yellow-400",children:["R$ ",v().toFixed(2)]})]})]})]}),o.jsx("button",{type:"submit",className:"w-full btn-primary text-white py-4 rounded-xl font-bold text-lg",children:"Criar Pedido"})]})]})}function Xh({isOpen:t,title:e,message:n,confirmText:r="Confirmar",cancelText:s="Cancelar",onConfirm:i,onCancel:a,type:l="danger"}){if(!t)return null;const c={danger:"bg-red-600 hover:bg-red-700",warning:"bg-yellow-600 hover:bg-yellow-700",info:"bg-blue-600 hover:bg-blue-700"};return o.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center p-4 animate-fade-in",children:[o.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:a}),o.jsxs("div",{className:"relative glass-effect rounded-2xl p-6 md:p-8 max-w-md w-full animate-scale-in border border-white/10 shadow-2xl",children:[o.jsx("button",{onClick:a,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:o.jsx(wn,{className:"w-6 h-6"})}),o.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[o.jsx("div",{className:`p-3 rounded-full ${l==="danger"?"bg-red-600/20":l==="warning"?"bg-yellow-600/20":"bg-blue-600/20"}`,children:o.jsx(Pm,{className:`w-8 h-8 ${l==="danger"?"text-red-500":l==="warning"?"text-yellow-500":"text-blue-500"}`})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:e}),o.jsx("p",{className:"text-gray-300 leading-relaxed",children:n})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:a,className:"flex-1 px-6 py-3 rounded-lg font-semibold glass-effect text-white hover:bg-white/10 transition-all",children:s}),o.jsx("button",{onClick:i,className:`flex-1 px-6 py-3 rounded-lg font-semibold text-white transition-all ${c[l]}`,children:r})]})]})]})}function Pl(){const[t,e]=k.useState(!1),[n,r]=k.useState({title:"",message:""}),[s,i]=k.useState(null),a=h=>(r(h),e(!0),new Promise(d=>{i(()=>d)})),l=()=>{e(!1),s&&s(!0)},c=()=>{e(!1),s&&s(!1)};return{confirm:a,ConfirmDialog:()=>o.jsx(Xh,{isOpen:t,title:n.title,message:n.message,confirmText:n.confirmText,cancelText:n.cancelText,type:n.type,onConfirm:l,onCancel:c})}}function Py(){const{confirm:t,ConfirmDialog:e}=Pl(),[n,r]=k.useState([]),[s,i]=k.useState(!1),[a,l]=k.useState(null),[c,u]=k.useState({name:"",description:"",active:!0,display_order:0});k.useEffect(()=>{h()},[]);const h=async()=>{const{data:m}=await R.from("categories").select("*").order("display_order");m&&r(m)},d=async m=>{m.preventDefault(),a?await R.from("categories").update(c).eq("id",a):await R.from("categories").insert(c),i(!1),l(null),u({name:"",description:"",active:!0,display_order:0}),h()},f=m=>{u(m),l(m.id),i(!0)},y=async m=>{await t({title:"Excluir Categoria",message:"Tem certeza que deseja excluir esta categoria? Todos os produtos associados sero afetados.",type:"danger"})&&(await R.from("categories").delete().eq("id",m),h())};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"glass-effect rounded-xl p-6",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Categorias"}),o.jsxs("button",{onClick:()=>i(!s),className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[o.jsx(xt,{className:"w-5 h-5"}),"Nova Categoria"]})]})}),s&&o.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:a?"Editar Categoria":"Nova Categoria"}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsx("input",{type:"text",placeholder:"Nome da categoria",value:c.name,onChange:m=>u({...c,name:m.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0}),o.jsx("textarea",{placeholder:"Descrio",value:c.description,onChange:m=>u({...c,description:m.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400 resize-none",rows:3}),o.jsx("input",{type:"number",placeholder:"Ordem de exibio",value:c.display_order,onChange:m=>u({...c,display_order:parseInt(m.target.value)}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"}),o.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:c.active,onChange:m=>u({...c,active:m.target.checked}),className:"w-5 h-5 rounded"}),"Ativo"]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"submit",className:"flex-1 btn-primary text-white py-3 rounded-lg font-semibold",children:a?"Salvar":"Criar"}),o.jsx("button",{type:"button",onClick:()=>{i(!1),l(null),u({name:"",description:"",active:!0,display_order:0})},className:"px-6 py-3 rounded-lg glass-effect text-gray-300 hover:text-white",children:"Cancelar"})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(m=>o.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:m.name}),o.jsx("span",{className:`px-3 py-1 rounded-lg text-sm ${m.active?"bg-green-600":"bg-gray-600"} text-white`,children:m.active?"Ativo":"Inativo"})]}),o.jsx("p",{className:"text-gray-300 text-sm mb-4",children:m.description}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>f(m),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[o.jsx(jl,{className:"w-4 h-4"}),"Editar"]}),o.jsxs("button",{onClick:()=>y(m.id),className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[o.jsx(os,{className:"w-4 h-4"}),"Excluir"]})]})]},m.id))}),o.jsx(e,{})]})}function Oy(){const{confirm:t,ConfirmDialog:e}=Pl(),[n,r]=k.useState("products"),[s,i]=k.useState([]),[a,l]=k.useState([]),[c,u]=k.useState([]),[h,d]=k.useState([]),[f,y]=k.useState(!1),[m,j]=k.useState(!1),[E,v]=k.useState(!1),[g,p]=k.useState(null),[x,w]=k.useState({name:"",description:"",price:0,category_id:"",active:!0,image_url:""}),[_,N]=k.useState(null),[b,P]=k.useState(""),[$,U]=k.useState({name:"",min_quantity:0,max_quantity:10,required:!1}),[T,H]=k.useState({group_id:"",name:"",price:0,active:!0}),[ae,bn]=k.useState(null),[le,Yt]=k.useState([]);k.useEffect(()=>{O()},[]);const O=async()=>{const{data:S}=await R.from("products").select("*").order("name"),{data:L}=await R.from("categories").select("*"),{data:Q}=await R.from("addon_groups").select("*"),{data:Y}=await R.from("addons").select("*"),{data:Ue}=await R.from("product_addon_groups").select("*");S&&i(S),L&&l(L),Q&&u(Q),Y&&d(Y),Ue&&Yt(Ue)},I=S=>{var Q;const L=(Q=S.target.files)==null?void 0:Q[0];if(L){N(L);const Y=new FileReader;Y.onloadend=()=>{P(Y.result)},Y.readAsDataURL(L)}},M=async S=>{const L=S.name.split(".").pop(),Y=`${Math.random().toString(36).substring(2)}-${Date.now()}.${L}`,{error:Ue}=await R.storage.from("product-images").upload(Y,S);if(Ue)return console.error("Erro ao fazer upload:",Ue),null;const{data:Zt}=R.storage.from("product-images").getPublicUrl(Y);return Zt.publicUrl},K=async S=>{S.preventDefault();let L=x.image_url;if(_){const Y=await M(_);Y&&(L=Y)}const Q={...x,image_url:L};g?await R.from("products").update(Q).eq("id",g):await R.from("products").insert(Q),y(!1),p(null),w({name:"",description:"",price:0,category_id:"",active:!0,image_url:""}),N(null),P(""),O()},re=async S=>{S.preventDefault();const{error:L}=await R.from("addon_groups").insert($);if(L){console.error("Erro ao salvar grupo:",L);return}await O(),j(!1),U({name:"",min_quantity:0,max_quantity:10,required:!1})},Nt=async S=>{S.preventDefault(),await R.from("addons").insert(T),v(!1),H({group_id:"",name:"",price:0,active:!0}),O()},Ee=async S=>{await t({title:"Excluir Produto",message:"Tem certeza que deseja excluir este produto? Esta ao no pode ser desfeita.",type:"danger"})&&(await R.from("products").delete().eq("id",S),O())},Ke=S=>{p(S.id),w({name:S.name,description:S.description,price:S.price,category_id:S.category_id,active:S.active,image_url:S.image_url||""}),S.image_url&&P(S.image_url),y(!0),window.scrollTo({top:0,behavior:"smooth"})},Qe=async(S,L)=>{const Q=le.find(Y=>Y.product_id===S&&Y.addon_group_id===L);Q?await R.from("product_addon_groups").delete().eq("id",Q.id):await R.from("product_addon_groups").insert({product_id:S,addon_group_id:L}),O()},St=S=>le.filter(L=>L.product_id===S).map(L=>L.addon_group_id);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Produtos e Adicionais"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>r("products"),className:`px-6 py-3 rounded-lg font-semibold ${n==="products"?"btn-primary text-white":"glass-effect text-gray-300"}`,children:"Produtos"}),o.jsx("button",{onClick:()=>r("addons"),className:`px-6 py-3 rounded-lg font-semibold ${n==="addons"?"btn-primary text-white":"glass-effect text-gray-300"}`,children:"Adicionais"})]})]}),n==="products"?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>y(!f),className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[o.jsx(xt,{className:"w-5 h-5"}),"Novo Produto"]}),f&&o.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:g?"Editar Produto":"Novo Produto"}),o.jsxs("form",{onSubmit:K,className:"space-y-4",children:[o.jsx("input",{type:"text",placeholder:"Nome do produto",value:x.name,onChange:S=>w({...x,name:S.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white focus:ring-2 focus:ring-yellow-400",required:!0}),o.jsx("textarea",{placeholder:"Descrio",value:x.description,onChange:S=>w({...x,description:S.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white resize-none",rows:3}),o.jsx("input",{type:"number",step:"0.01",placeholder:"Preo",value:x.price,onChange:S=>w({...x,price:parseFloat(S.target.value)}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white",required:!0}),o.jsxs("select",{value:x.category_id,onChange:S=>w({...x,category_id:S.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white",children:[o.jsx("option",{value:"",children:"Selecione a categoria"}),a.map(S=>o.jsx("option",{value:S.id,className:"bg-gray-900",children:S.name},S.id))]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-white font-semibold",children:"Imagem do Produto"}),o.jsx("input",{type:"file",accept:"image/*",onChange:I,className:"w-full px-4 py-3 rounded-lg glass-effect text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-yellow-500 file:text-black file:font-semibold hover:file:bg-yellow-400"}),b&&o.jsxs("div",{className:"mt-3 relative",children:[o.jsx("img",{src:b,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),o.jsx("button",{type:"button",onClick:()=>{P(""),N(null),w({...x,image_url:""})},className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700 text-white p-2 rounded-full transition-colors",title:"Remover imagem",children:o.jsx(wn,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"submit",className:"flex-1 btn-primary text-white py-3 rounded-lg font-semibold",children:g?"Atualizar":"Salvar"}),g&&o.jsx("button",{type:"button",onClick:()=>{p(null),y(!1),w({name:"",description:"",price:0,category_id:"",active:!0,image_url:""}),N(null),P("")},className:"flex-1 bg-gray-600 text-white py-3 rounded-lg font-semibold",children:"Cancelar"})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(S=>o.jsxs("div",{className:"glass-effect rounded-xl overflow-hidden",children:[S.image_url&&o.jsx("img",{src:S.image_url,alt:S.name,className:"w-full h-48 object-cover"}),o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:S.name}),o.jsx("p",{className:"text-gray-300 text-sm mb-2",children:S.description}),o.jsxs("p",{className:"text-2xl font-bold text-yellow-400 mb-4",children:["R$ ",S.price.toFixed(2)]}),o.jsxs("div",{className:"flex gap-2 mb-3",children:[o.jsxs("button",{onClick:()=>Ke(S),className:"flex-1 bg-blue-600 text-white py-2 rounded-lg flex items-center justify-center gap-2",children:[o.jsx(jl,{className:"w-4 h-4"}),"Editar"]}),o.jsxs("button",{onClick:()=>Ee(S.id),className:"flex-1 bg-red-600 text-white py-2 rounded-lg flex items-center justify-center gap-2",children:[o.jsx(os,{className:"w-4 h-4"}),"Excluir"]})]}),o.jsx("button",{onClick:()=>bn(ae===S.id?null:S.id),className:"w-full btn-primary text-white py-2 rounded-lg text-sm",children:ae===S.id?"Fechar":"Gerenciar Adicionais"}),ae===S.id&&o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsx("p",{className:"text-white font-semibold text-sm mb-2",children:"Grupos de Adicionais:"}),c.map(L=>{const Q=St(S.id).includes(L.id);return o.jsxs("button",{onClick:()=>Qe(S.id,L.id),className:`w-full px-3 py-2 rounded-lg text-sm transition-colors ${Q?"bg-green-600 text-white":"glass-effect text-gray-300 hover:bg-gray-700"}`,children:[Q?" ":"",L.name]},L.id)})]})]})]},S.id))})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:()=>j(!m),className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[o.jsx(xt,{className:"w-5 h-5"}),"Novo Grupo"]}),o.jsxs("button",{onClick:()=>v(!E),className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[o.jsx(xt,{className:"w-5 h-5"}),"Novo Adicional"]})]}),m&&o.jsx("div",{className:"glass-effect rounded-xl p-6",children:o.jsxs("form",{onSubmit:re,className:"space-y-4",children:[o.jsx("input",{type:"text",placeholder:"Nome do grupo",value:$.name,onChange:S=>U({...$,name:S.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white",required:!0}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("input",{type:"number",placeholder:"Quantidade mnima",value:$.min_quantity,onChange:S=>U({...$,min_quantity:parseInt(S.target.value)}),className:"px-4 py-3 rounded-lg glass-effect text-white"}),o.jsx("input",{type:"number",placeholder:"Quantidade mxima",value:$.max_quantity,onChange:S=>U({...$,max_quantity:parseInt(S.target.value)}),className:"px-4 py-3 rounded-lg glass-effect text-white"})]}),o.jsx("button",{type:"submit",className:"w-full btn-primary text-white py-3 rounded-lg font-semibold",children:"Criar Grupo"})]})}),E&&o.jsx("div",{className:"glass-effect rounded-xl p-6",children:o.jsxs("form",{onSubmit:Nt,className:"space-y-4",children:[o.jsxs("select",{value:T.group_id,onChange:S=>H({...T,group_id:S.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white",required:!0,children:[o.jsx("option",{value:"",children:"Selecione o grupo"}),c.map(S=>o.jsx("option",{value:S.id,className:"bg-gray-900",children:S.name},S.id))]}),o.jsx("input",{type:"text",placeholder:"Nome do adicional",value:T.name,onChange:S=>H({...T,name:S.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white",required:!0}),o.jsx("input",{type:"number",step:"0.01",placeholder:"Preo (0 se grtis)",value:T.price,onChange:S=>H({...T,price:parseFloat(S.target.value)}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white"}),o.jsx("button",{type:"submit",className:"w-full btn-primary text-white py-3 rounded-lg font-semibold",children:"Criar Adicional"})]})}),o.jsx("div",{className:"space-y-6",children:c.map(S=>o.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:S.name}),o.jsxs("p",{className:"text-gray-300 text-sm mb-4",children:["Quantidade: ",S.min_quantity," - ",S.max_quantity]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:h.filter(L=>L.group_id===S.id).map(L=>o.jsxs("div",{className:"glass-effect p-4 rounded-lg",children:[o.jsx("p",{className:"text-white font-semibold",children:L.name}),o.jsx("p",{className:"text-yellow-400",children:L.price>0?`R$ ${L.price.toFixed(2)}`:"Grtis"})]},L.id))})]},S.id))})]}),o.jsx(e,{})]})}const Ry="pk.eyJ1IjoicGVydmVuaXJlIiwiYSI6ImNtbGI0NXAzajBkMWwzaHB3bG8yYWE2MDIifQ.5YVkdJv7rh-DLPsQEB0Xcw";function $y(){const[t,e]=k.useState(null),[n,r]=k.useState(""),[s,i]=k.useState([]),[a,l]=k.useState(!1),[c,u]=k.useState(!1),[h,d]=k.useState(!1),[f,y]=k.useState({price_per_km:2,min_delivery_fee:5,max_delivery_radius_km:0}),[m,j]=k.useState(null),E=k.useRef(null),v=k.useRef(null);k.useEffect(()=>{g()},[]),k.useEffect(()=>{const b=P=>{v.current&&!v.current.contains(P.target)&&l(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const g=async()=>{const{data:b}=await R.from("delivery_config").select("*").maybeSingle();b&&(e(b),r(b.restaurant_address||""),y({price_per_km:b.price_per_km,min_delivery_fee:b.min_delivery_fee,max_delivery_radius_km:b.max_delivery_radius_km}),b.restaurant_lat&&b.restaurant_lng&&j({lat:b.restaurant_lat,lng:b.restaurant_lng}))},p=async b=>{if(b.length<3){i([]);return}const P=`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(b)}.json?access_token=${Ry}&country=BR&language=pt&types=address,place&limit=5`,U=await(await fetch(P)).json();U.features&&(i(U.features.map(T=>({id:T.id,place_name:T.place_name,center:T.center}))),l(!0))},x=b=>{r(b),j(null),E.current&&clearTimeout(E.current),E.current=setTimeout(()=>p(b),400)},w=b=>{r(b.place_name),j({lat:b.center[1],lng:b.center[0]}),i([]),l(!1)},_=async()=>{if(!m)return;u(!0);const b={restaurant_address:n,restaurant_lat:m.lat,restaurant_lng:m.lng,price_per_km:f.price_per_km,min_delivery_fee:f.min_delivery_fee,max_delivery_radius_km:f.max_delivery_radius_km,updated_at:new Date().toISOString()};t!=null&&t.id?await R.from("delivery_config").update(b).eq("id",t.id):await R.from("delivery_config").insert(b),u(!1),d(!0),setTimeout(()=>d(!1),3e3),g()},N=()=>[1,2,3,5,8,10].map(P=>({km:P,fee:Math.max(f.min_delivery_fee,P*f.price_per_km)}));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-1",children:"Configurar Entrega"}),o.jsx("p",{className:"text-gray-400",children:"Taxa calculada automaticamente por distncia em km"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"glass-effect rounded-xl p-6 space-y-5",children:[o.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[o.jsx(Fm,{className:"w-5 h-5 text-yellow-400"}),"Endereo do Restaurante"]}),o.jsxs("div",{ref:v,className:"relative",children:[o.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Endereo completo"}),o.jsx("input",{type:"text",value:n,onChange:b=>x(b.target.value),onFocus:()=>s.length>0&&l(!0),placeholder:"Ex: Rua das Flores, 123, Sinop - MT",className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"}),a&&s.length>0&&o.jsx("div",{className:"absolute z-50 w-full mt-1 bg-gray-900 border border-yellow-400 rounded-lg shadow-2xl overflow-hidden",children:s.map(b=>o.jsxs("button",{type:"button",onClick:()=>w(b),className:"w-full px-4 py-3 text-left text-white hover:bg-yellow-400/20 transition-colors border-b border-gray-700 last:border-b-0 flex items-start gap-2",children:[o.jsx(nr,{className:"w-4 h-4 text-yellow-400 mt-0.5 shrink-0"}),o.jsx("span",{className:"text-sm",children:b.place_name})]},b.id))}),m&&o.jsxs("div",{className:"mt-2 flex items-center gap-2 text-green-400 text-sm",children:[o.jsx(yn,{className:"w-4 h-4"}),o.jsxs("span",{children:["Localizao confirmada: ",m.lat.toFixed(5),", ",m.lng.toFixed(5)]})]}),!m&&n&&o.jsxs("div",{className:"mt-2 flex items-center gap-2 text-yellow-400 text-sm",children:[o.jsx(wl,{className:"w-4 h-4"}),o.jsx("span",{children:"Selecione um endereo da lista de sugestes"})]})]})]}),o.jsxs("div",{className:"glass-effect rounded-xl p-6 space-y-5",children:[o.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[o.jsx(Zr,{className:"w-5 h-5 text-yellow-400"}),"Configurao de Preos"]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Taxa por km (R$)"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:"R$"}),o.jsx("input",{type:"number",step:"0.10",min:"0",value:f.price_per_km,onChange:b=>y({...f,price_per_km:parseFloat(b.target.value)||0}),className:"w-full pl-10 pr-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"})]}),o.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Valor cobrado por cada km de distncia"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Taxa mnima (R$)"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:"R$"}),o.jsx("input",{type:"number",step:"0.50",min:"0",value:f.min_delivery_fee,onChange:b=>y({...f,min_delivery_fee:parseFloat(b.target.value)||0}),className:"w-full pl-10 pr-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"})]}),o.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Valor mnimo cobrado mesmo para distncias curtas"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Raio mximo de entrega (km)  0 = ilimitado"}),o.jsxs("div",{className:"relative",children:[o.jsx(Bc,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx("input",{type:"number",step:"1",min:"0",value:f.max_delivery_radius_km,onChange:b=>y({...f,max_delivery_radius_km:parseInt(b.target.value)||0}),className:"w-full pl-10 pr-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"})]}),o.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Bloqueie pedidos fora deste raio. Use 0 para no limitar."})]}),o.jsx("button",{onClick:_,disabled:!m||c,className:"w-full btn-primary text-white py-3 rounded-lg font-semibold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:h?o.jsxs(o.Fragment,{children:[o.jsx(yn,{className:"w-5 h-5"}),"Salvo!"]}):o.jsxs(o.Fragment,{children:[o.jsx(Vm,{className:"w-5 h-5"}),c?"Salvando...":"Salvar Configurao"]})}),!m&&o.jsx("p",{className:"text-yellow-400 text-sm text-center",children:"Confirme o endereo do restaurante para salvar"})]})]}),o.jsxs("div",{className:"glass-effect rounded-xl p-6 space-y-4",children:[o.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[o.jsx(Bc,{className:"w-5 h-5 text-yellow-400"}),"Simulao de Taxas"]}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Com as configuraes atuais, as taxas ficaro assim:"}),o.jsx("div",{className:"space-y-2",children:N().map(({km:b,fee:P})=>o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-400/20 flex items-center justify-center",children:o.jsx("span",{className:"text-yellow-400 font-bold text-xs",children:b})}),o.jsxs("span",{className:"text-gray-300",children:[b," km de distncia"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("span",{className:"text-yellow-400 font-bold text-lg",children:["R$ ",P.toFixed(2)]}),b*f.price_per_km<f.min_delivery_fee&&o.jsx("p",{className:"text-gray-500 text-xs",children:"taxa mnima aplicada"})]})]},b))}),o.jsx("div",{className:"mt-4 p-4 rounded-lg bg-blue-500/10 border border-blue-500/30",children:o.jsxs("p",{className:"text-blue-300 text-sm",children:[o.jsx("strong",{children:"Como funciona:"})," A distncia  calculada em linha reta entre o restaurante e o endereo do cliente usando as coordenadas do Mapbox. A taxa  calculada como: ",o.jsxs("strong",{children:["distncia  R$ ",f.price_per_km.toFixed(2),"/km"]}),", com mnimo de ",o.jsxs("strong",{children:["R$ ",f.min_delivery_fee.toFixed(2)]}),"."]})})]})]})]})}function Ay(){const{confirm:t,ConfirmDialog:e}=Pl(),[n,r]=k.useState([]),[s,i]=k.useState(!1),[a,l]=k.useState(null),[c,u]=k.useState(null),[h,d]=k.useState(""),[f,y]=k.useState({title:"",description:"",price:"",image_url:"",active:!0,display_order:0});k.useEffect(()=>{m()},[]);const m=async()=>{const{data:x}=await R.from("promotions").select("*").order("display_order");x&&r(x)},j=x=>{var _;const w=(_=x.target.files)==null?void 0:_[0];if(w){u(w);const N=new FileReader;N.onloadend=()=>{d(N.result)},N.readAsDataURL(w)}},E=async x=>{const w=x.name.split(".").pop(),N=`promo-${Math.random().toString(36).substring(2)}-${Date.now()}.${w}`,{error:b}=await R.storage.from("product-images").upload(N,x);if(b)return console.error("Erro ao fazer upload:",b),null;const{data:P}=R.storage.from("product-images").getPublicUrl(N);return P.publicUrl},v=async x=>{x.preventDefault();let w=f.image_url;if(c){const b=await E(c);b&&(w=b)}const _=parseFloat(f.price.replace(",",".")),N={...f,price:_,image_url:w};a?await R.from("promotions").update(N).eq("id",a):await R.from("promotions").insert(N),i(!1),l(null),y({title:"",description:"",price:"",image_url:"",active:!0,display_order:0}),u(null),d(""),m()},g=x=>{y({...x,price:x.price.toString().replace(".",",")}),x.image_url&&d(x.image_url),l(x.id),i(!0),window.scrollTo({top:0,behavior:"smooth"})},p=async x=>{await t({title:"Excluir Promoo",message:"Tem certeza que deseja excluir esta promoo? Ela ser removida do carrossel.",type:"danger"})&&(await R.from("promotions").delete().eq("id",x),m())};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"glass-effect rounded-xl p-6",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:"Promoes"}),o.jsx("p",{className:"text-gray-400 mt-1",children:"Aparecem no carrossel do catlogo digital"})]}),o.jsxs("button",{onClick:()=>i(!s),className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[o.jsx(xt,{className:"w-5 h-5"}),"Nova Promoo"]})]})}),s&&o.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:a?"Editar Promoo":"Nova Promoo"}),o.jsxs("form",{onSubmit:v,className:"space-y-4",children:[o.jsx("input",{type:"text",placeholder:"Ttulo da promoo",value:f.title,onChange:x=>y({...f,title:x.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0}),o.jsx("textarea",{placeholder:"Descrio",value:f.description,onChange:x=>y({...f,description:x.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400 resize-none",rows:3,required:!0}),o.jsx("input",{type:"text",placeholder:"Preo (ex: 15,50)",value:f.price,onChange:x=>{const w=x.target.value.replace(/[^\d,]/g,"");y({...f,price:w})},className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white mb-2",children:"Imagem da Promoo"}),o.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"w-full px-4 py-3 rounded-lg glass-effect text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-yellow-600 file:text-white file:cursor-pointer hover:file:bg-yellow-700"}),h&&o.jsxs("div",{className:"mt-3 relative",children:[o.jsx("img",{src:h,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),o.jsx("button",{type:"button",onClick:()=>{d(""),u(null),y({...f,image_url:""})},className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700 text-white p-2 rounded-full transition-colors",title:"Remover imagem",children:o.jsx(wn,{className:"w-5 h-5"})})]})]}),o.jsx("input",{type:"number",placeholder:"Ordem de exibio",value:f.display_order,onChange:x=>y({...f,display_order:parseInt(x.target.value)}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"}),o.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:f.active,onChange:x=>y({...f,active:x.target.checked}),className:"w-5 h-5 rounded"}),"Ativa"]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"submit",className:"flex-1 btn-primary text-white py-3 rounded-lg font-semibold",children:a?"Salvar":"Criar"}),o.jsx("button",{type:"button",onClick:()=>{i(!1),l(null),y({title:"",description:"",price:"",image_url:"",active:!0,display_order:0}),u(null),d("")},className:"px-6 py-3 rounded-lg glass-effect text-gray-300 hover:text-white",children:"Cancelar"})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(x=>o.jsxs("div",{className:"hero-card rounded-xl overflow-hidden",children:[x.image_url&&o.jsx("img",{src:x.image_url,alt:x.title,className:"w-full h-48 object-cover"}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx("h3",{className:"text-2xl font-bold text-white",children:x.title}),o.jsx("span",{className:`px-3 py-1 rounded-lg text-sm ${x.active?"bg-green-600":"bg-gray-600"} text-white`,children:x.active?"Ativa":"Inativa"})]}),o.jsx("p",{className:"text-gray-300 mb-2",children:x.description}),o.jsxs("p",{className:"text-2xl font-bold text-yellow-400 mb-4",children:["R$ ",x.price.toFixed(2).replace(".",",")]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>g(x),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[o.jsx(jl,{className:"w-4 h-4"}),"Editar"]}),o.jsxs("button",{onClick:()=>p(x.id),className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[o.jsx(os,{className:"w-4 h-4"}),"Excluir"]})]})]})]},x.id))}),o.jsx(e,{})]})}function Iy(){const[t,e]=k.useState({totalRevenue:0,totalOrders:0,topProducts:[],paymentMethods:{}}),[n,r]=k.useState({start:new Date(new Date().setDate(new Date().getDate()-30)).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]});k.useEffect(()=>{s()},[n]);const s=async()=>{const{data:a}=await R.from("orders").select("*, order_items(*, products(name))").gte("created_at",n.start).lte("created_at",n.end+"T23:59:59").eq("status","delivered");if(a){const l=a.reduce((f,y)=>f+y.total,0),c=a.length,u={};a.forEach(f=>{var y;(y=f.order_items)==null||y.forEach(m=>{var E;const j=((E=m.products)==null?void 0:E.name)||"Desconhecido";u[j]=(u[j]||0)+m.quantity})});const h=Object.entries(u).map(([f,y])=>({name:f,count:y})).sort((f,y)=>y.count-f.count).slice(0,10),d={};a.forEach(f=>{d[f.payment_method]=(d[f.payment_method]||0)+1}),e({totalRevenue:l,totalOrders:c,topProducts:h,paymentMethods:d})}},i={pix:"PIX",dinheiro:"Dinheiro",debito:"Carto Dbito",credito:"Carto Crdito"};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Relatrios e Analytics"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-white font-semibold mb-2",children:"Data Inicial"}),o.jsx("input",{type:"date",value:n.start,onChange:a=>r({...n,start:a.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white focus:outline-none focus:ring-2 focus:ring-yellow-400"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white font-semibold mb-2",children:"Data Final"}),o.jsx("input",{type:"date",value:n.end,onChange:a=>r({...n,end:a.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white focus:outline-none focus:ring-2 focus:ring-yellow-400"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{className:"glass-effect rounded-xl p-6",children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center",children:o.jsx(Zr,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400 text-sm",children:"Faturamento Total"}),o.jsxs("p",{className:"text-3xl font-bold text-white",children:["R$ ",t.totalRevenue.toFixed(2)]})]})]})}),o.jsx("div",{className:"glass-effect rounded-xl p-6",children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center",children:o.jsx(bl,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400 text-sm",children:"Total de Pedidos"}),o.jsx("p",{className:"text-3xl font-bold text-white",children:t.totalOrders})]})]})})]}),o.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(Qm,{className:"w-6 h-6 text-yellow-400"}),o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Produtos Mais Vendidos"})]}),o.jsxs("div",{className:"space-y-3",children:[t.topProducts.map((a,l)=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"w-8 h-8 rounded-full bg-yellow-600 flex items-center justify-center text-white font-bold",children:l+1}),o.jsx("span",{className:"text-white font-semibold",children:a.name})]}),o.jsxs("span",{className:"text-yellow-400 font-bold",children:[a.count," unidades"]})]},l)),t.topProducts.length===0&&o.jsx("p",{className:"text-center text-gray-400 py-8",children:"Nenhum produto vendido no perodo"})]})]}),o.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(kh,{className:"w-6 h-6 text-yellow-400"}),o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Formas de Pagamento"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[Object.entries(t.paymentMethods).map(([a,l])=>o.jsxs("div",{className:"glass-effect rounded-lg p-4 text-center",children:[o.jsx("p",{className:"text-gray-400 text-sm mb-2",children:i[a]||a}),o.jsx("p",{className:"text-3xl font-bold text-white",children:l}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"pedidos"})]},a)),Object.keys(t.paymentMethods).length===0&&o.jsx("p",{className:"col-span-full text-center text-gray-400 py-8",children:"Nenhum pagamento registrado no perodo"})]})]})]})}function Ly(){const[t,e]=k.useState([]),[n,r]=k.useState(!1),[s,i]=k.useState(!0),[a,l]=k.useState({isOpen:!1,media:null}),c=kl();k.useEffect(()=>{u()},[]);async function u(){try{const{data:y,error:m}=await R.from("background_media").select("*").order("order_position",{ascending:!0});if(m)throw m;e(y||[])}catch(y){console.error("Erro ao carregar mdias:",y),c.error("Erro ao carregar mdias de fundo")}finally{i(!1)}}async function h(y){var g,p,x;const m=(g=y.target.files)==null?void 0:g[0];if(!m)return;const j=m.type.startsWith("image/"),E=m.type.startsWith("video/");if(!j&&!E){c.warning("Por favor, envie apenas imagens ou vdeos");return}const v=100*1024*1024;if(m.size>v){c.error("Arquivo muito grande. O tamanho mximo  100MB.");return}r(!0);try{const w=m.name.split(".").pop(),N=`${`${Date.now()}-${Math.random().toString(36).substring(7)}.${w}`}`,{error:b}=await R.storage.from("background-media").upload(N,m,{cacheControl:"3600",upsert:!1});if(b)throw console.error("Upload error:",b),b;const{data:{publicUrl:P}}=R.storage.from("background-media").getPublicUrl(N),{error:$}=await R.from("background_media").insert({file_url:P,file_type:j?"image":"video",order_position:t.length,is_active:!0});if($)throw $;c.success("Mdia enviada com sucesso!"),u()}catch(w){console.error("Erro ao fazer upload:",w);let _="Erro ao enviar mdia.";(p=w==null?void 0:w.message)!=null&&p.includes("Payload")?_="Arquivo muito grande. Tente com um arquivo menor.":(x=w==null?void 0:w.message)!=null&&x.includes("duplicate")?_="J existe um arquivo com este nome.":w!=null&&w.message&&(_=`Erro: ${w.message}`),c.error(_)}finally{r(!1),y.target.value=""}}async function d(){if(a.media)try{const y=a.media.file_url.split("/").pop();y&&await R.storage.from("background-media").remove([y]);const{error:m}=await R.from("background_media").delete().eq("id",a.media.id);if(m)throw m;c.success("Mdia excluda com sucesso!"),u()}catch(y){console.error("Erro ao excluir mdia:",y),c.error("Erro ao excluir mdia")}finally{l({isOpen:!1,media:null})}}async function f(y){try{const{error:m}=await R.from("background_media").update({is_active:!y.is_active}).eq("id",y.id);if(m)throw m;u()}catch(m){console.error("Erro ao atualizar mdia:",m),c.error("Erro ao atualizar mdia")}}return s?o.jsx("div",{className:"p-8 text-center",children:o.jsx("div",{className:"text-gray-400",children:"Carregando..."})}):o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Mdias de Fundo"}),o.jsx("p",{className:"text-gray-400",children:"Gerencie as imagens e vdeos que aparecem no fundo do site"})]}),o.jsx("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:o.jsxs("label",{className:"block cursor-pointer",children:[o.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center hover:border-red-500 transition-colors",children:[o.jsx(Jm,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),o.jsx("p",{className:"text-white font-semibold mb-2",children:n?"Enviando...":"Clique para fazer upload"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Imagens (JPG, PNG, GIF) ou Vdeos (MP4, WebM)"})]}),o.jsx("input",{type:"file",accept:"image/*,video/*",onChange:h,disabled:n,className:"hidden"})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(y=>o.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden border-2 border-gray-700",children:[o.jsxs("div",{className:"relative aspect-video bg-gray-900",children:[y.file_type==="image"?o.jsx("img",{src:y.file_url,alt:"Background",className:"w-full h-full object-cover"}):o.jsx("video",{src:y.file_url,className:"w-full h-full object-cover",muted:!0,loop:!0}),o.jsxs("div",{className:"absolute top-2 right-2 bg-black/70 px-2 py-1 rounded flex items-center gap-1",children:[y.file_type==="image"?o.jsx(fa,{className:"w-4 h-4 text-white"}):o.jsx(Zm,{className:"w-4 h-4 text-white"}),o.jsx("span",{className:"text-white text-xs uppercase",children:y.file_type})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("button",{onClick:()=>f(y),className:`px-3 py-1 rounded text-sm font-semibold transition-colors ${y.is_active?"bg-green-600 text-white hover:bg-green-700":"bg-gray-600 text-gray-300 hover:bg-gray-700"}`,children:y.is_active?"Ativo":"Inativo"}),o.jsx("button",{onClick:()=>l({isOpen:!0,media:y}),className:"p-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:o.jsx(os,{className:"w-4 h-4"})})]}),o.jsxs("p",{className:"text-gray-400 text-xs",children:["Adicionado em ",new Date(y.created_at).toLocaleDateString("pt-BR")]})]})]},y.id))}),t.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(fa,{className:"w-16 h-16 mx-auto mb-4 text-gray-600"}),o.jsx("p",{className:"text-gray-400",children:"Nenhuma mdia adicionada ainda"}),o.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Faa upload de imagens ou vdeos para aparecerem no fundo do site"})]})]}),o.jsx(Xh,{isOpen:a.isOpen,title:"Excluir Mdia",message:"Tem certeza que deseja excluir esta mdia? Esta ao no pode ser desfeita.",confirmText:"Excluir",cancelText:"Cancelar",onConfirm:d,onCancel:()=>l({isOpen:!1,media:null}),type:"danger"})]})}function Dy(){const[t,e]=k.useState([]),[n,r]=k.useState(!0),[s,i]=k.useState("");k.useEffect(()=>{a()},[]);const a=async()=>{r(!0);const{data:c}=await R.from("customers").select("*").order("total_spent",{ascending:!1});c&&e(c),r(!1)},l=t.filter(c=>c.name.toLowerCase().includes(s.toLowerCase())||c.phone.includes(s));return o.jsxs("div",{className:"space-y-4 md:space-y-6",children:[o.jsxs("div",{className:"glass-effect rounded-xl p-4 md:p-6",children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Clientes"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[o.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Total de Clientes"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:t.length})]}),o.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[o.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Total em Pedidos"}),o.jsxs("p",{className:"text-2xl font-bold text-yellow-400",children:["R$ ",t.reduce((c,u)=>c+u.total_spent,0).toFixed(2)]})]}),o.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[o.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Pedidos Realizados"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:t.reduce((c,u)=>c+u.total_orders,0)})]})]})]}),o.jsxs("div",{className:"glass-effect rounded-xl p-4 md:p-6",children:[o.jsx("input",{type:"text",placeholder:"Buscar por nome ou telefone...",value:s,onChange:c=>i(c.target.value),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400 mb-4"}),n?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"text-4xl mb-4",children:""}),o.jsx("p",{className:"text-gray-400",children:"Carregando clientes..."})]}):l.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("p",{className:"text-xl text-gray-400",children:s?"Nenhum cliente encontrado":"Nenhum cliente cadastrado"})]}):o.jsx("div",{className:"space-y-3",children:l.map(c=>o.jsx("div",{className:"glass-effect rounded-lg p-4 hover:bg-white/10 transition-all",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:c.name}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[o.jsx(_l,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{children:c.phone})]}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[o.jsx(bl,{className:"w-4 h-4 flex-shrink-0"}),o.jsxs("span",{children:[c.total_orders," pedido",c.total_orders!==1?"s":""]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[o.jsx(Zr,{className:"w-4 h-4 flex-shrink-0"}),o.jsxs("span",{children:["R$ ",c.total_spent.toFixed(2)," gasto"]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[o.jsx($m,{className:"w-4 h-4 flex-shrink-0"}),o.jsxs("span",{children:["ltimo: ",new Date(c.last_order_at).toLocaleDateString("pt-BR")]})]})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-1",children:[o.jsx("span",{className:"text-xs text-gray-400",children:"Cliente desde"}),o.jsx("span",{className:"text-sm text-white font-semibold",children:new Date(c.created_at).toLocaleDateString("pt-BR")})]})]})},c.id))})]})]})}function My(){const[t,e]=k.useState([]),[n,r]=k.useState(!1),[s,i]=k.useState(null),[a,l]=k.useState({name:"",phone:"",username:"",password:""});k.useEffect(()=>{c()},[]);const c=async()=>{const{data:y}=await R.from("delivery_drivers").select("*").order("created_at",{ascending:!1});y&&e(y)},u=async y=>{if(y.preventDefault(),s){const m={name:a.name,phone:a.phone,username:a.username,updated_at:new Date().toISOString()};a.password&&(m.password=a.password),await R.from("delivery_drivers").update(m).eq("id",s.id)}else await R.from("delivery_drivers").insert([{name:a.name,phone:a.phone,username:a.username,password:a.password}]);c(),f()},h=async y=>{await R.from("delivery_drivers").update({is_active:!y.is_active,updated_at:new Date().toISOString()}).eq("id",y.id),c()},d=y=>{y?(i(y),l({name:y.name,phone:y.phone,username:y.username,password:""})):(i(null),l({name:"",phone:"",username:"",password:""})),r(!0)},f=()=>{r(!1),i(null),l({name:"",phone:"",username:"",password:""})};return o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Motoboys"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie os entregadores do sistema"})]}),o.jsxs("button",{onClick:()=>d(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[o.jsx(xt,{className:"w-5 h-5"}),"Novo Motoboy"]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(y=>o.jsxs("div",{className:`bg-white rounded-lg shadow-md p-6 border-2 ${y.is_active?"border-green-500":"border-gray-300"}`,children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-3 rounded-full ${y.is_active?"bg-green-100":"bg-gray-100"}`,children:o.jsx(Gt,{className:`w-6 h-6 ${y.is_active?"text-green-600":"text-gray-400"}`})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800",children:y.name}),o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${y.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:y.is_active?"Ativo":"Inativo"})]})]})}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx("span",{className:"font-semibold",children:"Telefone:"})," ",y.phone]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx("span",{className:"font-semibold",children:"Usurio:"})," ",y.username]}),o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Total de Entregas"}),o.jsx("span",{className:"text-2xl font-bold text-blue-600",children:y.total_deliveries})]})})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsxs("button",{onClick:()=>d(y),className:"flex-1 bg-gray-100 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-200 flex items-center justify-center gap-2",children:[o.jsx(Bm,{className:"w-4 h-4"}),"Editar"]}),o.jsxs("button",{onClick:()=>h(y),className:`flex-1 px-3 py-2 rounded-lg flex items-center justify-center gap-2 ${y.is_active?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[o.jsx(Hm,{className:"w-4 h-4"}),y.is_active?"Desativar":"Ativar"]})]})]},y.id))}),t.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Gt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 text-lg",children:"Nenhum motoboy cadastrado"}),o.jsx("p",{className:"text-gray-400 mt-2",children:'Clique em "Novo Motoboy" para comear'})]}),n&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:s?"Editar Motoboy":"Novo Motoboy"}),o.jsxs("form",{onSubmit:u,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),o.jsx("input",{type:"text",required:!0,value:a.name,onChange:y=>l({...a,name:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),o.jsx("input",{type:"tel",required:!0,value:a.phone,onChange:y=>l({...a,phone:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usurio (Login)"}),o.jsx("input",{type:"text",required:!0,value:a.username,onChange:y=>l({...a,username:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Senha ",s&&"(deixe vazio para no alterar)"]}),o.jsx("input",{type:"password",required:!s,value:a.password,onChange:y=>l({...a,password:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx("button",{type:"button",onClick:f,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:s?"Salvar":"Criar"})]})]})]})})]})}const zy=[{id:"orders",label:"Pedidos",icon:bl},{id:"newOrder",label:"Lanar Pedido",icon:qm},{id:"customers",label:"Clientes",icon:Ym},{id:"categories",label:"Categorias",icon:Im},{id:"products",label:"Produtos e Adicionais",icon:pi},{id:"delivery",label:"Delivery",icon:nr},{id:"drivers",label:"Motoboys",icon:Gt},{id:"promotions",label:"Promoes",icon:zm},{id:"reports",label:"Relatrios",icon:Rm},{id:"backgroundMedia",label:"Mdias de Fundo",icon:fa}];function Uy(){const[t,e]=k.useState("orders"),[n,r]=k.useState(!1),s=()=>{switch(t){case"orders":return o.jsx(lu,{});case"newOrder":return o.jsx(Ty,{});case"customers":return o.jsx(Dy,{});case"categories":return o.jsx(Py,{});case"products":return o.jsx(Oy,{});case"delivery":return o.jsx($y,{});case"drivers":return o.jsx(My,{});case"promotions":return o.jsx(Ay,{});case"reports":return o.jsx(Iy,{});case"backgroundMedia":return o.jsx(Ly,{});default:return o.jsx(lu,{})}};return o.jsxs("div",{className:"min-h-screen relative",children:[o.jsx(cr,{}),o.jsxs("div",{className:"relative z-10 flex",children:[n&&o.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-30",onClick:()=>r(!1)}),o.jsxs("aside",{className:`fixed lg:sticky top-0 h-screen glass-effect border-r border-white/10 transition-transform duration-300 z-40 ${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0 w-72 flex flex-col`,children:[o.jsx("div",{className:"p-4 border-b border-white/10",children:o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsx("img",{src:"/logo.png",alt:"Hero's Brasa Burguer",className:"h-16 w-auto object-contain"}),o.jsx("button",{onClick:()=>r(!1),className:"lg:hidden glass-effect p-2 rounded-lg text-white hover:bg-white/10 transition-colors flex-shrink-0",children:o.jsx(wn,{className:"w-5 h-5"})})]})}),o.jsx("nav",{className:"p-4 space-y-2 flex-1 overflow-y-auto",children:zy.map(i=>{const a=i.icon;return o.jsxs("button",{onClick:()=>{e(i.id),r(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-semibold transition-all ${t===i.id?"btn-primary text-white":"text-gray-300 hover:bg-white/5"}`,children:[o.jsx(a,{className:"w-5 h-5"}),i.label]},i.id)})})]}),!n&&o.jsx("button",{onClick:()=>r(!0),className:"lg:hidden fixed top-4 left-4 z-50 glass-effect p-3 rounded-lg text-white hover:bg-white/10 transition-colors",children:o.jsx(Um,{className:"w-6 h-6"})}),o.jsx("main",{className:"flex-1 min-h-screen p-4 lg:p-8 pt-20 lg:pt-8",children:s()})]})]})}function Fy({onLogin:t}){const[e,n]=k.useState(""),[r,s]=k.useState(""),[i,a]=k.useState(""),[l,c]=k.useState(!1),u=async h=>{h.preventDefault(),a(""),c(!0);try{const{data:d,error:f}=await R.from("delivery_drivers").select("*").eq("username",e).eq("password",r).eq("is_active",!0).maybeSingle();if(f||!d){a("Usurio ou senha invlidos"),c(!1);return}t(d.id,d.name)}catch{a("Erro ao fazer login. Tente novamente."),c(!1)}};return o.jsxs("div",{className:"min-h-screen relative flex items-center justify-center p-4",children:[o.jsx(cr,{}),o.jsx("div",{className:"relative z-10 w-full max-w-md",children:o.jsxs("div",{className:"glass-effect rounded-2xl shadow-2xl p-8 border border-white/10",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mb-4",children:o.jsx(Gt,{className:"w-10 h-10 text-white"})}),o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Painel do Motoboy"}),o.jsx("p",{className:"text-gray-300",children:"Faa login para acessar suas entregas"})]}),o.jsxs("form",{onSubmit:u,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-200 mb-2",children:"Usurio"}),o.jsx("input",{id:"username",type:"text",value:e,onChange:h=>n(h.target.value),required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite seu usurio"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-200 mb-2",children:"Senha"}),o.jsx("input",{id:"password",type:"password",value:r,onChange:h=>s(h.target.value),required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite sua senha"})]}),i&&o.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 px-4 py-3 rounded-lg text-sm",children:i}),o.jsxs("button",{type:"submit",disabled:l,className:"w-full btn-primary py-3 rounded-lg font-semibold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(Mm,{className:"w-5 h-5"}),l?"Entrando...":"Entrar"]})]})]})})]})}function By({driverId:t,driverName:e,onLogout:n}){const[r,s]=k.useState([]),[i,a]=k.useState([]),[l,c]=k.useState(!1),[u,h]=k.useState({total:0,totalEarnings:0});k.useEffect(()=>{d(),f();const g=R.channel("driver-orders").on("postgres_changes",{event:"*",schema:"public",table:"orders"},()=>{d(),f()}).subscribe();return()=>{g.unsubscribe()}},[t]);const d=async()=>{const{data:g}=await R.from("orders").select("*, items:order_items(*)").eq("delivery_type","delivery").eq("status","ready").is("driver_id",null).order("created_at",{ascending:!1}),{data:p}=await R.from("orders").select("*, items:order_items(*)").eq("driver_id",t).in("status",["driver_accepted","out_for_delivery"]).order("created_at",{ascending:!1});s(g||[]),a(p||[])},f=async()=>{const{data:g}=await R.from("orders").select("delivery_fee").eq("driver_id",t).eq("status","delivered");if(g){const p=g.length,x=g.reduce((w,_)=>w+(_.delivery_fee||0),0);h({total:p,totalEarnings:x})}},y=async g=>{await R.from("orders").update({driver_id:t,status:"driver_accepted",driver_accepted_at:new Date().toISOString()}).eq("id",g),d()},m=async g=>{await R.from("orders").update({status:"out_for_delivery",out_for_delivery_at:new Date().toISOString()}).eq("id",g),d()},j=async g=>{await R.from("orders").update({status:"delivered",delivered_at:new Date().toISOString()}).eq("id",g),await R.rpc("increment",{row_id:t,x:1}),d(),f()},E=g=>new Date(g).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),v=({order:g,isAvailable:p})=>{var x,w,_;return o.jsxs("div",{className:"glass-effect rounded-lg p-4 md:p-6 border border-white/10",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3 mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:g.order_number}),o.jsx("p",{className:"text-gray-300 text-xs md:text-sm",children:E(g.created_at)})]}),o.jsxs("div",{className:"text-left sm:text-right bg-green-500/10 p-3 rounded-lg border border-green-500/30",children:[o.jsxs("p",{className:"text-xl md:text-2xl font-bold text-green-400",children:["R$ ",(x=g.delivery_fee)==null?void 0:x.toFixed(2)]}),o.jsx("p",{className:"text-gray-400 text-xs md:text-sm",children:"Taxa de entrega"})]})]}),o.jsxs("div",{className:"space-y-2 md:space-y-3 mb-4 bg-black/20 rounded-lg p-3 md:p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-200 text-sm md:text-base",children:[o.jsx(Xm,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{className:"font-semibold",children:g.customer_name})]}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-200 text-sm md:text-base",children:[o.jsx(_l,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("a",{href:`tel:${g.customer_phone}`,className:"text-blue-400 hover:underline",children:g.customer_phone})]}),o.jsxs("div",{className:"flex items-start gap-2 text-gray-200 text-sm md:text-base",children:[o.jsx(nr,{className:"w-4 h-4 flex-shrink-0 mt-1"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"font-semibold text-white",children:[g.street,", ",g.house_number]}),o.jsx("p",{className:"text-xs md:text-sm text-yellow-400 mt-1",children:g.neighborhood_name}),g.reference_point&&o.jsxs("p",{className:"text-xs md:text-sm text-gray-400 mt-1",children:[" ",g.reference_point]})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-white/10",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-200 text-sm",children:[o.jsx(pi,{className:"w-4 h-4"}),o.jsxs("span",{children:[((w=g.items)==null?void 0:w.length)||0," ",((_=g.items)==null?void 0:_.length)===1?"item":"itens"]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-200 text-sm",children:[o.jsx(Zr,{className:"w-4 h-4"}),o.jsxs("span",{className:"font-semibold",children:["Total: R$ ",g.total.toFixed(2)]})]})]})]}),p?o.jsx("button",{onClick:()=>y(g.id),className:"w-full btn-primary py-3 md:py-4 rounded-lg font-bold text-base md:text-lg shadow-lg hover:scale-105 transition-transform",children:" Aceitar Entrega"}):o.jsxs("div",{className:"space-y-2",children:[g.status==="driver_accepted"&&o.jsx("button",{onClick:()=>m(g.id),className:"w-full bg-blue-600 text-white py-3 md:py-4 rounded-lg font-bold text-base md:text-lg hover:bg-blue-700 shadow-lg hover:scale-105 transition-transform",children:" Saiu para Entrega"}),g.status==="out_for_delivery"&&o.jsxs("button",{onClick:()=>j(g.id),className:"w-full bg-green-600 text-white py-3 md:py-4 rounded-lg font-bold text-base md:text-lg hover:bg-green-700 flex items-center justify-center gap-2 shadow-lg hover:scale-105 transition-transform",children:[o.jsx(yn,{className:"w-5 h-5"}),"Finalizar Entrega"]})]})]})};return l?o.jsx(qy,{driverId:t,driverName:e,onBack:()=>c(!1),onLogout:n}):o.jsxs("div",{className:"min-h-screen relative",children:[o.jsx(cr,{}),o.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto p-3 md:p-4",children:[o.jsx("div",{className:"glass-effect rounded-lg p-4 md:p-6 mb-4 md:mb-6 border border-white/10",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 md:p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full",children:o.jsx(Gt,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:e}),o.jsx("p",{className:"text-sm text-gray-300",children:"Painel de Entregas"})]})]}),o.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[o.jsxs("button",{onClick:()=>c(!0),className:"glass-effect px-3 py-2 rounded-lg text-white hover:bg-white/10 flex items-center justify-center gap-2 flex-1 sm:flex-initial text-sm",children:[o.jsx(Nh,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Histrico"})]}),o.jsxs("button",{onClick:n,className:"glass-effect px-3 py-2 rounded-lg text-white hover:bg-white/10 flex items-center justify-center gap-2 flex-1 sm:flex-initial text-sm",children:[o.jsx(Sh,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Sair"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 md:gap-4 mb-4 md:mb-6",children:[o.jsx("div",{className:"glass-effect rounded-lg p-3 md:p-6 border border-white/10",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300 text-xs md:text-sm",children:"Entregas Hoje"}),o.jsx("p",{className:"text-2xl md:text-3xl font-bold text-white",children:i.length})]}),o.jsx(jh,{className:"w-6 h-6 md:w-8 md:h-8 text-blue-400 hidden md:block"})]})}),o.jsx("div",{className:"glass-effect rounded-lg p-3 md:p-6 border border-white/10",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300 text-xs md:text-sm",children:"Total Entregas"}),o.jsx("p",{className:"text-2xl md:text-3xl font-bold text-white",children:u.total})]}),o.jsx(yn,{className:"w-6 h-6 md:w-8 md:h-8 text-green-400 hidden md:block"})]})}),o.jsx("div",{className:"glass-effect rounded-lg p-3 md:p-6 border border-white/10",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300 text-xs md:text-sm",children:"Total Ganhos"}),o.jsxs("p",{className:"text-xl md:text-3xl font-bold text-green-400",children:["R$ ",u.totalEarnings.toFixed(2)]})]}),o.jsx(Zr,{className:"w-6 h-6 md:w-8 md:h-8 text-green-400 hidden md:block"})]})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-3 md:mb-4",children:" Entregas Disponveis"}),r.length===0?o.jsxs("div",{className:"glass-effect rounded-lg p-8 md:p-12 text-center border border-white/10",children:[o.jsx(pi,{className:"w-12 h-12 md:w-16 md:h-16 text-gray-400 mx-auto mb-3 md:mb-4"}),o.jsx("p",{className:"text-sm md:text-base text-gray-300",children:"Nenhuma entrega disponvel"})]}):o.jsx("div",{className:"space-y-3",children:r.map(g=>o.jsx(v,{order:g,isAvailable:!0},g.id))})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-3 md:mb-4",children:"Minhas Entregas"}),i.length===0?o.jsxs("div",{className:"glass-effect rounded-lg p-8 md:p-12 text-center border border-white/10",children:[o.jsx(Gt,{className:"w-12 h-12 md:w-16 md:h-16 text-gray-400 mx-auto mb-3 md:mb-4"}),o.jsx("p",{className:"text-sm md:text-base text-gray-300",children:"Voc no tem entregas no momento"})]}):o.jsx("div",{className:"space-y-3",children:i.map(g=>o.jsx(v,{order:g,isAvailable:!1},g.id))})]})]})]})]})}function qy({driverId:t,driverName:e,onBack:n,onLogout:r}){const[s,i]=k.useState([]);k.useEffect(()=>{a()},[t]);const a=async()=>{const{data:c}=await R.from("orders").select("*").eq("driver_id",t).eq("status","delivered").order("delivered_at",{ascending:!1});i(c||[])},l=s.reduce((c,u)=>c+(u.delivery_fee||0),0);return o.jsxs("div",{className:"min-h-screen relative",children:[o.jsx(cr,{}),o.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto p-3 md:p-4",children:[o.jsx("div",{className:"glass-effect rounded-lg p-4 md:p-6 mb-4 md:mb-6 border border-white/10",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 md:p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full",children:o.jsx(Gt,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:e}),o.jsx("p",{className:"text-sm text-gray-300",children:"Histrico de Entregas"})]})]}),o.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[o.jsx("button",{onClick:n,className:"glass-effect px-3 py-2 rounded-lg text-white hover:bg-white/10 flex-1 sm:flex-initial text-sm",children:"Voltar"}),o.jsxs("button",{onClick:r,className:"glass-effect px-3 py-2 rounded-lg text-white hover:bg-white/10 flex items-center justify-center gap-2 flex-1 sm:flex-initial text-sm",children:[o.jsx(Sh,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Sair"})]})]})]})}),o.jsx("div",{className:"glass-effect rounded-lg p-4 md:p-6 mb-4 md:mb-6 border border-white/10",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4 md:gap-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300 text-xs md:text-sm mb-1",children:"Total de Entregas"}),o.jsx("p",{className:"text-3xl md:text-4xl font-bold text-white",children:s.length})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300 text-xs md:text-sm mb-1",children:"Total em Taxas"}),o.jsxs("p",{className:"text-2xl md:text-4xl font-bold text-green-400",children:["R$ ",l.toFixed(2)]})]})]})}),o.jsxs("div",{className:"space-y-3 md:space-y-4",children:[s.map(c=>{var u;return o.jsxs("div",{className:"glass-effect rounded-lg p-4 md:p-6 border border-white/10",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2 mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-base md:text-lg font-bold text-white",children:c.order_number}),o.jsx("p",{className:"text-gray-400 text-xs md:text-sm",children:new Date(c.delivered_at).toLocaleString("pt-BR")})]}),o.jsxs("p",{className:"text-lg md:text-xl font-bold text-green-400",children:["R$ ",(u=c.delivery_fee)==null?void 0:u.toFixed(2)]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 md:gap-4 text-xs md:text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400",children:"Cliente"}),o.jsx("p",{className:"text-white",children:c.customer_name})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400",children:"Bairro"}),o.jsx("p",{className:"text-white",children:c.neighborhood_name})]})]})]},c.id)}),s.length===0&&o.jsxs("div",{className:"glass-effect rounded-lg p-8 md:p-12 text-center border border-white/10",children:[o.jsx(Nh,{className:"w-12 h-12 md:w-16 md:h-16 text-gray-400 mx-auto mb-3 md:mb-4"}),o.jsx("p",{className:"text-sm md:text-base text-gray-300",children:"Nenhuma entrega realizada ainda"})]})]})]})]})}function Hy(){const[t,e]=k.useState("landing"),[n,r]=k.useState(null),[s,i]=k.useState("");k.useEffect(()=>{const u=()=>{const h=window.location.hash.slice(1);e(h==="admin"?"admin":h==="catalog"?"catalog":h==="driver"?"driver":"landing")};return u(),window.addEventListener("hashchange",u),()=>window.removeEventListener("hashchange",u)},[]);const a=()=>{window.location.hash="catalog"},l=(u,h)=>{r(u),i(h)},c=()=>{r(null),i("")};return o.jsx(rg,{children:o.jsxs(Em,{children:[t==="landing"&&o.jsx(_y,{onOrderNow:a}),t==="catalog"&&o.jsx(Cy,{}),t==="admin"&&o.jsx(Uy,{}),t==="driver"&&!n&&o.jsx(Fy,{onLogin:l}),t==="driver"&&n&&o.jsx(By,{driverId:n,driverName:s,onLogout:c})]})})}_h(document.getElementById("root")).render(o.jsx(k.StrictMode,{children:o.jsx(Hy,{})}));
