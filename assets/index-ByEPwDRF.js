(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Ju={exports:{}},ai={},Xu={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qr=Symbol.for("react.element"),qh=Symbol.for("react.portal"),Wh=Symbol.for("react.fragment"),Hh=Symbol.for("react.strict_mode"),Vh=Symbol.for("react.profiler"),Kh=Symbol.for("react.provider"),Gh=Symbol.for("react.context"),Qh=Symbol.for("react.forward_ref"),Jh=Symbol.for("react.suspense"),Xh=Symbol.for("react.memo"),Yh=Symbol.for("react.lazy"),_a=Symbol.iterator;function Zh(t){return t===null||typeof t!="object"?null:(t=_a&&t[_a]||t["@@iterator"],typeof t=="function"?t:null)}var Yu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zu=Object.assign,ec={};function Jn(t,e,n){this.props=t,this.context=e,this.refs=ec,this.updater=n||Yu}Jn.prototype.isReactComponent={};Jn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tc(){}tc.prototype=Jn.prototype;function xl(t,e,n){this.props=t,this.context=e,this.refs=ec,this.updater=n||Yu}var wl=xl.prototype=new tc;wl.constructor=xl;Zu(wl,Jn.prototype);wl.isPureReactComponent=!0;var ba=Array.isArray,nc=Object.prototype.hasOwnProperty,_l={current:null},rc={key:!0,ref:!0,__self:!0,__source:!0};function sc(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)nc.call(e,r)&&!rc.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Qr,type:t,key:i,ref:o,props:s,_owner:_l.current}}function ef(t,e){return{$$typeof:Qr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qr}function tf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ja=/\/+/g;function Ri(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tf(""+t.key):e.toString(36)}function ks(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Qr:case qh:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ri(o,0):r,ba(s)?(n="",t!=null&&(n=t.replace(ja,"$&/")+"/"),ks(s,e,n,"",function(c){return c})):s!=null&&(bl(s)&&(s=ef(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ja,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",ba(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+Ri(i,a);o+=ks(i,e,n,u,s)}else if(u=Zh(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+Ri(i,a++),o+=ks(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function rs(t,e,n){if(t==null)return t;var r=[],s=0;return ks(t,r,"","",function(i){return e.call(n,i,s++)}),r}function nf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Se={current:null},Ss={transition:null},rf={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:Ss,ReactCurrentOwner:_l};function ic(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:rs,forEach:function(t,e,n){rs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return rs(t,function(){e++}),e},toArray:function(t){return rs(t,function(e){return e})||[]},only:function(t){if(!bl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};M.Component=Jn;M.Fragment=Wh;M.Profiler=Vh;M.PureComponent=xl;M.StrictMode=Hh;M.Suspense=Jh;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rf;M.act=ic;M.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Zu({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=_l.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)nc.call(e,u)&&!rc.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Qr,type:t.type,key:s,ref:i,props:r,_owner:o}};M.createContext=function(t){return t={$$typeof:Gh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Kh,_context:t},t.Consumer=t};M.createElement=sc;M.createFactory=function(t){var e=sc.bind(null,t);return e.type=t,e};M.createRef=function(){return{current:null}};M.forwardRef=function(t){return{$$typeof:Qh,render:t}};M.isValidElement=bl;M.lazy=function(t){return{$$typeof:Yh,_payload:{_status:-1,_result:t},_init:nf}};M.memo=function(t,e){return{$$typeof:Xh,type:t,compare:e===void 0?null:e}};M.startTransition=function(t){var e=Ss.transition;Ss.transition={};try{t()}finally{Ss.transition=e}};M.unstable_act=ic;M.useCallback=function(t,e){return Se.current.useCallback(t,e)};M.useContext=function(t){return Se.current.useContext(t)};M.useDebugValue=function(){};M.useDeferredValue=function(t){return Se.current.useDeferredValue(t)};M.useEffect=function(t,e){return Se.current.useEffect(t,e)};M.useId=function(){return Se.current.useId()};M.useImperativeHandle=function(t,e,n){return Se.current.useImperativeHandle(t,e,n)};M.useInsertionEffect=function(t,e){return Se.current.useInsertionEffect(t,e)};M.useLayoutEffect=function(t,e){return Se.current.useLayoutEffect(t,e)};M.useMemo=function(t,e){return Se.current.useMemo(t,e)};M.useReducer=function(t,e,n){return Se.current.useReducer(t,e,n)};M.useRef=function(t){return Se.current.useRef(t)};M.useState=function(t){return Se.current.useState(t)};M.useSyncExternalStore=function(t,e,n){return Se.current.useSyncExternalStore(t,e,n)};M.useTransition=function(){return Se.current.useTransition()};M.version="18.3.1";Xu.exports=M;var k=Xu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sf=k,of=Symbol.for("react.element"),lf=Symbol.for("react.fragment"),af=Object.prototype.hasOwnProperty,uf=sf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cf={key:!0,ref:!0,__self:!0,__source:!0};function oc(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)af.call(e,r)&&!cf.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:of,type:t,key:i,ref:o,props:s,_owner:uf.current}}ai.Fragment=lf;ai.jsx=oc;ai.jsxs=oc;Ju.exports=ai;var l=Ju.exports,lc={exports:{}},De={},ac={exports:{}},uc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,L){var D=O.length;O.push(L);e:for(;0<D;){var X=D-1>>>1,se=O[X];if(0<s(se,L))O[X]=L,O[D]=se,D=X;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var L=O[0],D=O.pop();if(D!==L){O[0]=D;e:for(var X=0,se=O.length,pn=se>>>1;X<pn;){var at=2*(X+1)-1,rr=O[at],ut=at+1,mn=O[ut];if(0>s(rr,D))ut<se&&0>s(mn,rr)?(O[X]=mn,O[ut]=D,X=ut):(O[X]=rr,O[at]=D,X=at);else if(ut<se&&0>s(mn,D))O[X]=mn,O[ut]=D,X=ut;else break e}}return L}function s(O,L){var D=O.sortIndex-L.sortIndex;return D!==0?D:O.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],f=1,d=null,m=3,y=!1,h=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(O){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=O)r(c),L.sortIndex=L.expirationTime,e(u,L);else break;L=n(c)}}function v(O){if(_=!1,p(O),!h)if(n(u)!==null)h=!0,lt(w);else{var L=n(c);L!==null&&me(v,L.startTime-O)}}function w(O,L){h=!1,_&&(_=!1,x(S),S=-1),y=!0;var D=m;try{for(p(L),d=n(u);d!==null&&(!(d.expirationTime>L)||O&&!C());){var X=d.callback;if(typeof X=="function"){d.callback=null,m=d.priorityLevel;var se=X(d.expirationTime<=L);L=t.unstable_now(),typeof se=="function"?d.callback=se:d===n(u)&&r(u),p(L)}else r(u);d=n(u)}if(d!==null)var pn=!0;else{var at=n(c);at!==null&&me(v,at.startTime-L),pn=!1}return pn}finally{d=null,m=D,y=!1}}var b=!1,j=null,S=-1,A=5,R=-1;function C(){return!(t.unstable_now()-R<A)}function P(){if(j!==null){var O=t.unstable_now();R=O;var L=!0;try{L=j(!0,O)}finally{L?W():(b=!1,j=null)}}else b=!1}var W;if(typeof g=="function")W=function(){g(P)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,nr=ne.port2;ne.port1.onmessage=P,W=function(){nr.postMessage(null)}}else W=function(){N(P,0)};function lt(O){j=O,b||(b=!0,W())}function me(O,L){S=N(function(){O(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){h||y||(h=!0,lt(w))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(O){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var D=m;m=L;try{return O()}finally{m=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var D=m;m=O;try{return L()}finally{m=D}},t.unstable_scheduleCallback=function(O,L,D){var X=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?X+D:X):D=X,O){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=D+se,O={id:f++,callback:L,priorityLevel:O,startTime:D,expirationTime:se,sortIndex:-1},D>X?(O.sortIndex=D,e(c,O),n(u)===null&&O===n(c)&&(_?(x(S),S=-1):_=!0,me(v,D-X))):(O.sortIndex=se,e(u,O),h||y||(h=!0,lt(w))),O},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(O){var L=m;return function(){var D=m;m=L;try{return O.apply(this,arguments)}finally{m=D}}}})(uc);ac.exports=uc;var df=ac.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf=k,Le=df;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cc=new Set,Or={};function cn(t,e){Bn(t,e),Bn(t+"Capture",e)}function Bn(t,e){for(Or[t]=e,t=0;t<e.length;t++)cc.add(e[t])}var yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),po=Object.prototype.hasOwnProperty,ff=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ka={},Sa={};function pf(t){return po.call(Sa,t)?!0:po.call(ka,t)?!1:ff.test(t)?Sa[t]=!0:(ka[t]=!0,!1)}function mf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gf(t,e,n,r){if(e===null||typeof e>"u"||mf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ne(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pe[t]=new Ne(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pe[e]=new Ne(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pe[t]=new Ne(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pe[t]=new Ne(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pe[t]=new Ne(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pe[t]=new Ne(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pe[t]=new Ne(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pe[t]=new Ne(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pe[t]=new Ne(t,5,!1,t.toLowerCase(),null,!1,!1)});var jl=/[\-:]([a-z])/g;function kl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jl,kl);pe[e]=new Ne(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jl,kl);pe[e]=new Ne(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jl,kl);pe[e]=new Ne(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pe[t]=new Ne(t,1,!1,t.toLowerCase(),null,!1,!1)});pe.xlinkHref=new Ne("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pe[t]=new Ne(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sl(t,e,n,r){var s=pe.hasOwnProperty(e)?pe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gf(e,n,s,r)&&(n=null),r||s===null?pf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var bt=hf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ss=Symbol.for("react.element"),kn=Symbol.for("react.portal"),Sn=Symbol.for("react.fragment"),Nl=Symbol.for("react.strict_mode"),mo=Symbol.for("react.profiler"),dc=Symbol.for("react.provider"),hc=Symbol.for("react.context"),El=Symbol.for("react.forward_ref"),go=Symbol.for("react.suspense"),vo=Symbol.for("react.suspense_list"),Cl=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),fc=Symbol.for("react.offscreen"),Na=Symbol.iterator;function ir(t){return t===null||typeof t!="object"?null:(t=Na&&t[Na]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,$i;function pr(t){if($i===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$i=e&&e[1]||""}return`
`+$i+t}var Ai=!1;function Ii(t,e){if(!t||Ai)return"";Ai=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Ai=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pr(t):""}function vf(t){switch(t.tag){case 5:return pr(t.type);case 16:return pr("Lazy");case 13:return pr("Suspense");case 19:return pr("SuspenseList");case 0:case 2:case 15:return t=Ii(t.type,!1),t;case 11:return t=Ii(t.type.render,!1),t;case 1:return t=Ii(t.type,!0),t;default:return""}}function yo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Sn:return"Fragment";case kn:return"Portal";case mo:return"Profiler";case Nl:return"StrictMode";case go:return"Suspense";case vo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hc:return(t.displayName||"Context")+".Consumer";case dc:return(t._context.displayName||"Context")+".Provider";case El:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cl:return e=t.displayName||null,e!==null?e:yo(t.type)||"Memo";case Nt:e=t._payload,t=t._init;try{return yo(t(e))}catch{}}return null}function yf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yo(e);case 8:return e===Nl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ft(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xf(t){var e=pc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function is(t){t._valueTracker||(t._valueTracker=xf(t))}function mc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=pc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ls(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xo(t,e){var n=e.checked;return ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ea(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ft(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gc(t,e){e=e.checked,e!=null&&Sl(t,"checked",e,!1)}function wo(t,e){gc(t,e);var n=Ft(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_o(t,e.type,n):e.hasOwnProperty("defaultValue")&&_o(t,e.type,Ft(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ca(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _o(t,e,n){(e!=="number"||Ls(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mr=Array.isArray;function Ln(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ft(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function bo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ta(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(mr(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ft(n)}}function vc(t,e){var n=Ft(e.value),r=Ft(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Pa(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var os,xc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(os=os||document.createElement("div"),os.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=os.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wf=["Webkit","ms","Moz","O"];Object.keys(xr).forEach(function(t){wf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xr[e]=xr[t]})});function wc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xr.hasOwnProperty(t)&&xr[t]?(""+e).trim():e+"px"}function _c(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=wc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var _f=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ko(t,e){if(e){if(_f[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function So(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var No=null;function Tl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Eo=null,Dn=null,zn=null;function Oa(t){if(t=Yr(t)){if(typeof Eo!="function")throw Error(E(280));var e=t.stateNode;e&&(e=fi(e),Eo(t.stateNode,t.type,e))}}function bc(t){Dn?zn?zn.push(t):zn=[t]:Dn=t}function jc(){if(Dn){var t=Dn,e=zn;if(zn=Dn=null,Oa(t),e)for(t=0;t<e.length;t++)Oa(e[t])}}function kc(t,e){return t(e)}function Sc(){}var Li=!1;function Nc(t,e,n){if(Li)return t(e,n);Li=!0;try{return kc(t,e,n)}finally{Li=!1,(Dn!==null||zn!==null)&&(Sc(),jc())}}function $r(t,e){var n=t.stateNode;if(n===null)return null;var r=fi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var Co=!1;if(yt)try{var or={};Object.defineProperty(or,"passive",{get:function(){Co=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{Co=!1}function bf(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var wr=!1,Ds=null,zs=!1,To=null,jf={onError:function(t){wr=!0,Ds=t}};function kf(t,e,n,r,s,i,o,a,u){wr=!1,Ds=null,bf.apply(jf,arguments)}function Sf(t,e,n,r,s,i,o,a,u){if(kf.apply(this,arguments),wr){if(wr){var c=Ds;wr=!1,Ds=null}else throw Error(E(198));zs||(zs=!0,To=c)}}function dn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ec(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ra(t){if(dn(t)!==t)throw Error(E(188))}function Nf(t){var e=t.alternate;if(!e){if(e=dn(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ra(s),t;if(i===r)return Ra(s),e;i=i.sibling}throw Error(E(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function Cc(t){return t=Nf(t),t!==null?Tc(t):null}function Tc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Tc(t);if(e!==null)return e;t=t.sibling}return null}var Pc=Le.unstable_scheduleCallback,$a=Le.unstable_cancelCallback,Ef=Le.unstable_shouldYield,Cf=Le.unstable_requestPaint,re=Le.unstable_now,Tf=Le.unstable_getCurrentPriorityLevel,Pl=Le.unstable_ImmediatePriority,Oc=Le.unstable_UserBlockingPriority,Us=Le.unstable_NormalPriority,Pf=Le.unstable_LowPriority,Rc=Le.unstable_IdlePriority,ui=null,it=null;function Of(t){if(it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(ui,t,void 0,(t.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:Af,Rf=Math.log,$f=Math.LN2;function Af(t){return t>>>=0,t===0?32:31-(Rf(t)/$f|0)|0}var ls=64,as=4194304;function gr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ms(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=gr(a):(i&=o,i!==0&&(r=gr(i)))}else o=n&~s,o!==0?r=gr(o):i!==0&&(r=gr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ye(e),s=1<<n,r|=t[n],e&=~s;return r}function If(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ye(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=If(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function Po(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $c(){var t=ls;return ls<<=1,!(ls&4194240)&&(ls=64),t}function Di(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ye(e),t[e]=n}function Df(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ye(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ol(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ye(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var H=0;function Ac(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ic,Rl,Lc,Dc,zc,Oo=!1,us=[],$t=null,At=null,It=null,Ar=new Map,Ir=new Map,Ct=[],zf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Aa(t,e){switch(t){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Ar.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ir.delete(e.pointerId)}}function lr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Yr(e),e!==null&&Rl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Uf(t,e,n,r,s){switch(e){case"focusin":return $t=lr($t,t,e,n,r,s),!0;case"dragenter":return At=lr(At,t,e,n,r,s),!0;case"mouseover":return It=lr(It,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ar.set(i,lr(Ar.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ir.set(i,lr(Ir.get(i)||null,t,e,n,r,s)),!0}return!1}function Uc(t){var e=Zt(t.target);if(e!==null){var n=dn(e);if(n!==null){if(e=n.tag,e===13){if(e=Ec(n),e!==null){t.blockedOn=e,zc(t.priority,function(){Lc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ns(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ro(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);No=r,n.target.dispatchEvent(r),No=null}else return e=Yr(n),e!==null&&Rl(e),t.blockedOn=n,!1;e.shift()}return!0}function Ia(t,e,n){Ns(t)&&n.delete(e)}function Mf(){Oo=!1,$t!==null&&Ns($t)&&($t=null),At!==null&&Ns(At)&&(At=null),It!==null&&Ns(It)&&(It=null),Ar.forEach(Ia),Ir.forEach(Ia)}function ar(t,e){t.blockedOn===e&&(t.blockedOn=null,Oo||(Oo=!0,Le.unstable_scheduleCallback(Le.unstable_NormalPriority,Mf)))}function Lr(t){function e(s){return ar(s,t)}if(0<us.length){ar(us[0],t);for(var n=1;n<us.length;n++){var r=us[n];r.blockedOn===t&&(r.blockedOn=null)}}for($t!==null&&ar($t,t),At!==null&&ar(At,t),It!==null&&ar(It,t),Ar.forEach(e),Ir.forEach(e),n=0;n<Ct.length;n++)r=Ct[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ct.length&&(n=Ct[0],n.blockedOn===null);)Uc(n),n.blockedOn===null&&Ct.shift()}var Un=bt.ReactCurrentBatchConfig,Fs=!0;function Ff(t,e,n,r){var s=H,i=Un.transition;Un.transition=null;try{H=1,$l(t,e,n,r)}finally{H=s,Un.transition=i}}function Bf(t,e,n,r){var s=H,i=Un.transition;Un.transition=null;try{H=4,$l(t,e,n,r)}finally{H=s,Un.transition=i}}function $l(t,e,n,r){if(Fs){var s=Ro(t,e,n,r);if(s===null)Ki(t,e,r,Bs,n),Aa(t,r);else if(Uf(s,t,e,n,r))r.stopPropagation();else if(Aa(t,r),e&4&&-1<zf.indexOf(t)){for(;s!==null;){var i=Yr(s);if(i!==null&&Ic(i),i=Ro(t,e,n,r),i===null&&Ki(t,e,r,Bs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ki(t,e,r,null,n)}}var Bs=null;function Ro(t,e,n,r){if(Bs=null,t=Tl(r),t=Zt(t),t!==null)if(e=dn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ec(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bs=t,null}function Mc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tf()){case Pl:return 1;case Oc:return 4;case Us:case Pf:return 16;case Rc:return 536870912;default:return 16}default:return 16}}var Ot=null,Al=null,Es=null;function Fc(){if(Es)return Es;var t,e=Al,n=e.length,r,s="value"in Ot?Ot.value:Ot.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Es=s.slice(t,1<r?1-r:void 0)}function Cs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cs(){return!0}function La(){return!1}function ze(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?cs:La,this.isPropagationStopped=La,this}return ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),e}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Il=ze(Xn),Xr=ee({},Xn,{view:0,detail:0}),qf=ze(Xr),zi,Ui,ur,ci=ee({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ll,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ur&&(ur&&t.type==="mousemove"?(zi=t.screenX-ur.screenX,Ui=t.screenY-ur.screenY):Ui=zi=0,ur=t),zi)},movementY:function(t){return"movementY"in t?t.movementY:Ui}}),Da=ze(ci),Wf=ee({},ci,{dataTransfer:0}),Hf=ze(Wf),Vf=ee({},Xr,{relatedTarget:0}),Mi=ze(Vf),Kf=ee({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),Gf=ze(Kf),Qf=ee({},Xn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jf=ze(Qf),Xf=ee({},Xn,{data:0}),za=ze(Xf),Yf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ep={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ep[t])?!!e[t]:!1}function Ll(){return tp}var np=ee({},Xr,{key:function(t){if(t.key){var e=Yf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ll,charCode:function(t){return t.type==="keypress"?Cs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rp=ze(np),sp=ee({},ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ua=ze(sp),ip=ee({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ll}),op=ze(ip),lp=ee({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ap=ze(lp),up=ee({},ci,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cp=ze(up),dp=[9,13,27,32],Dl=yt&&"CompositionEvent"in window,_r=null;yt&&"documentMode"in document&&(_r=document.documentMode);var hp=yt&&"TextEvent"in window&&!_r,Bc=yt&&(!Dl||_r&&8<_r&&11>=_r),Ma=" ",Fa=!1;function qc(t,e){switch(t){case"keyup":return dp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nn=!1;function fp(t,e){switch(t){case"compositionend":return Wc(e);case"keypress":return e.which!==32?null:(Fa=!0,Ma);case"textInput":return t=e.data,t===Ma&&Fa?null:t;default:return null}}function pp(t,e){if(Nn)return t==="compositionend"||!Dl&&qc(t,e)?(t=Fc(),Es=Al=Ot=null,Nn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bc&&e.locale!=="ko"?null:e.data;default:return null}}var mp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ba(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mp[t.type]:e==="textarea"}function Hc(t,e,n,r){bc(r),e=qs(e,"onChange"),0<e.length&&(n=new Il("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var br=null,Dr=null;function gp(t){nd(t,0)}function di(t){var e=Tn(t);if(mc(e))return t}function vp(t,e){if(t==="change")return e}var Vc=!1;if(yt){var Fi;if(yt){var Bi="oninput"in document;if(!Bi){var qa=document.createElement("div");qa.setAttribute("oninput","return;"),Bi=typeof qa.oninput=="function"}Fi=Bi}else Fi=!1;Vc=Fi&&(!document.documentMode||9<document.documentMode)}function Wa(){br&&(br.detachEvent("onpropertychange",Kc),Dr=br=null)}function Kc(t){if(t.propertyName==="value"&&di(Dr)){var e=[];Hc(e,Dr,t,Tl(t)),Nc(gp,e)}}function yp(t,e,n){t==="focusin"?(Wa(),br=e,Dr=n,br.attachEvent("onpropertychange",Kc)):t==="focusout"&&Wa()}function xp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return di(Dr)}function wp(t,e){if(t==="click")return di(e)}function _p(t,e){if(t==="input"||t==="change")return di(e)}function bp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var et=typeof Object.is=="function"?Object.is:bp;function zr(t,e){if(et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!po.call(e,s)||!et(t[s],e[s]))return!1}return!0}function Ha(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Va(t,e){var n=Ha(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ha(n)}}function Gc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Gc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Qc(){for(var t=window,e=Ls();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ls(t.document)}return e}function zl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jp(t){var e=Qc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Gc(n.ownerDocument.documentElement,n)){if(r!==null&&zl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Va(n,i);var o=Va(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kp=yt&&"documentMode"in document&&11>=document.documentMode,En=null,$o=null,jr=null,Ao=!1;function Ka(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ao||En==null||En!==Ls(r)||(r=En,"selectionStart"in r&&zl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jr&&zr(jr,r)||(jr=r,r=qs($o,"onSelect"),0<r.length&&(e=new Il("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=En)))}function ds(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Cn={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionend:ds("Transition","TransitionEnd")},qi={},Jc={};yt&&(Jc=document.createElement("div").style,"AnimationEvent"in window||(delete Cn.animationend.animation,delete Cn.animationiteration.animation,delete Cn.animationstart.animation),"TransitionEvent"in window||delete Cn.transitionend.transition);function hi(t){if(qi[t])return qi[t];if(!Cn[t])return t;var e=Cn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Jc)return qi[t]=e[n];return t}var Xc=hi("animationend"),Yc=hi("animationiteration"),Zc=hi("animationstart"),ed=hi("transitionend"),td=new Map,Ga="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qt(t,e){td.set(t,e),cn(e,[t])}for(var Wi=0;Wi<Ga.length;Wi++){var Hi=Ga[Wi],Sp=Hi.toLowerCase(),Np=Hi[0].toUpperCase()+Hi.slice(1);qt(Sp,"on"+Np)}qt(Xc,"onAnimationEnd");qt(Yc,"onAnimationIteration");qt(Zc,"onAnimationStart");qt("dblclick","onDoubleClick");qt("focusin","onFocus");qt("focusout","onBlur");qt(ed,"onTransitionEnd");Bn("onMouseEnter",["mouseout","mouseover"]);Bn("onMouseLeave",["mouseout","mouseover"]);Bn("onPointerEnter",["pointerout","pointerover"]);Bn("onPointerLeave",["pointerout","pointerover"]);cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cn("onBeforeInput",["compositionend","keypress","textInput","paste"]);cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ep=new Set("cancel close invalid load scroll toggle".split(" ").concat(vr));function Qa(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Sf(r,e,void 0,t),t.currentTarget=null}function nd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Qa(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Qa(s,a,c),i=u}}}if(zs)throw t=To,zs=!1,To=null,t}function G(t,e){var n=e[Uo];n===void 0&&(n=e[Uo]=new Set);var r=t+"__bubble";n.has(r)||(rd(e,t,2,!1),n.add(r))}function Vi(t,e,n){var r=0;e&&(r|=4),rd(n,t,r,e)}var hs="_reactListening"+Math.random().toString(36).slice(2);function Ur(t){if(!t[hs]){t[hs]=!0,cc.forEach(function(n){n!=="selectionchange"&&(Ep.has(n)||Vi(n,!1,t),Vi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hs]||(e[hs]=!0,Vi("selectionchange",!1,e))}}function rd(t,e,n,r){switch(Mc(e)){case 1:var s=Ff;break;case 4:s=Bf;break;default:s=$l}n=s.bind(null,e,n,t),s=void 0,!Co||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ki(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Zt(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Nc(function(){var c=i,f=Tl(n),d=[];e:{var m=td.get(t);if(m!==void 0){var y=Il,h=t;switch(t){case"keypress":if(Cs(n)===0)break e;case"keydown":case"keyup":y=rp;break;case"focusin":h="focus",y=Mi;break;case"focusout":h="blur",y=Mi;break;case"beforeblur":case"afterblur":y=Mi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Da;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=op;break;case Xc:case Yc:case Zc:y=Gf;break;case ed:y=ap;break;case"scroll":y=qf;break;case"wheel":y=cp;break;case"copy":case"cut":case"paste":y=Jf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Ua}var _=(e&4)!==0,N=!_&&t==="scroll",x=_?m!==null?m+"Capture":null:m;_=[];for(var g=c,p;g!==null;){p=g;var v=p.stateNode;if(p.tag===5&&v!==null&&(p=v,x!==null&&(v=$r(g,x),v!=null&&_.push(Mr(g,v,p)))),N)break;g=g.return}0<_.length&&(m=new y(m,h,null,n,f),d.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==No&&(h=n.relatedTarget||n.fromElement)&&(Zt(h)||h[xt]))break e;if((y||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,y?(h=n.relatedTarget||n.toElement,y=c,h=h?Zt(h):null,h!==null&&(N=dn(h),h!==N||h.tag!==5&&h.tag!==6)&&(h=null)):(y=null,h=c),y!==h)){if(_=Da,v="onMouseLeave",x="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(_=Ua,v="onPointerLeave",x="onPointerEnter",g="pointer"),N=y==null?m:Tn(y),p=h==null?m:Tn(h),m=new _(v,g+"leave",y,n,f),m.target=N,m.relatedTarget=p,v=null,Zt(f)===c&&(_=new _(x,g+"enter",h,n,f),_.target=p,_.relatedTarget=N,v=_),N=v,y&&h)t:{for(_=y,x=h,g=0,p=_;p;p=gn(p))g++;for(p=0,v=x;v;v=gn(v))p++;for(;0<g-p;)_=gn(_),g--;for(;0<p-g;)x=gn(x),p--;for(;g--;){if(_===x||x!==null&&_===x.alternate)break t;_=gn(_),x=gn(x)}_=null}else _=null;y!==null&&Ja(d,m,y,_,!1),h!==null&&N!==null&&Ja(d,N,h,_,!0)}}e:{if(m=c?Tn(c):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var w=vp;else if(Ba(m))if(Vc)w=_p;else{w=xp;var b=yp}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(w=wp);if(w&&(w=w(t,c))){Hc(d,w,n,f);break e}b&&b(t,m,c),t==="focusout"&&(b=m._wrapperState)&&b.controlled&&m.type==="number"&&_o(m,"number",m.value)}switch(b=c?Tn(c):window,t){case"focusin":(Ba(b)||b.contentEditable==="true")&&(En=b,$o=c,jr=null);break;case"focusout":jr=$o=En=null;break;case"mousedown":Ao=!0;break;case"contextmenu":case"mouseup":case"dragend":Ao=!1,Ka(d,n,f);break;case"selectionchange":if(kp)break;case"keydown":case"keyup":Ka(d,n,f)}var j;if(Dl)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Nn?qc(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Bc&&n.locale!=="ko"&&(Nn||S!=="onCompositionStart"?S==="onCompositionEnd"&&Nn&&(j=Fc()):(Ot=f,Al="value"in Ot?Ot.value:Ot.textContent,Nn=!0)),b=qs(c,S),0<b.length&&(S=new za(S,t,null,n,f),d.push({event:S,listeners:b}),j?S.data=j:(j=Wc(n),j!==null&&(S.data=j)))),(j=hp?fp(t,n):pp(t,n))&&(c=qs(c,"onBeforeInput"),0<c.length&&(f=new za("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:c}),f.data=j))}nd(d,e)})}function Mr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qs(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=$r(t,n),i!=null&&r.unshift(Mr(t,i,s)),i=$r(t,e),i!=null&&r.push(Mr(t,i,s))),t=t.return}return r}function gn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ja(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=$r(n,i),u!=null&&o.unshift(Mr(n,u,a))):s||(u=$r(n,i),u!=null&&o.push(Mr(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Cp=/\r\n?/g,Tp=/\u0000|\uFFFD/g;function Xa(t){return(typeof t=="string"?t:""+t).replace(Cp,`
`).replace(Tp,"")}function fs(t,e,n){if(e=Xa(e),Xa(t)!==e&&n)throw Error(E(425))}function Ws(){}var Io=null,Lo=null;function Do(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zo=typeof setTimeout=="function"?setTimeout:void 0,Pp=typeof clearTimeout=="function"?clearTimeout:void 0,Ya=typeof Promise=="function"?Promise:void 0,Op=typeof queueMicrotask=="function"?queueMicrotask:typeof Ya<"u"?function(t){return Ya.resolve(null).then(t).catch(Rp)}:zo;function Rp(t){setTimeout(function(){throw t})}function Gi(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Lr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Lr(e)}function Lt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Za(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yn=Math.random().toString(36).slice(2),st="__reactFiber$"+Yn,Fr="__reactProps$"+Yn,xt="__reactContainer$"+Yn,Uo="__reactEvents$"+Yn,$p="__reactListeners$"+Yn,Ap="__reactHandles$"+Yn;function Zt(t){var e=t[st];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xt]||n[st]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Za(t);t!==null;){if(n=t[st])return n;t=Za(t)}return e}t=n,n=t.parentNode}return null}function Yr(t){return t=t[st]||t[xt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Tn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function fi(t){return t[Fr]||null}var Mo=[],Pn=-1;function Wt(t){return{current:t}}function Q(t){0>Pn||(t.current=Mo[Pn],Mo[Pn]=null,Pn--)}function K(t,e){Pn++,Mo[Pn]=t.current,t.current=e}var Bt={},xe=Wt(Bt),Pe=Wt(!1),sn=Bt;function qn(t,e){var n=t.type.contextTypes;if(!n)return Bt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Oe(t){return t=t.childContextTypes,t!=null}function Hs(){Q(Pe),Q(xe)}function eu(t,e,n){if(xe.current!==Bt)throw Error(E(168));K(xe,e),K(Pe,n)}function sd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(E(108,yf(t)||"Unknown",s));return ee({},n,r)}function Vs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bt,sn=xe.current,K(xe,t),K(Pe,Pe.current),!0}function tu(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=sd(t,e,sn),r.__reactInternalMemoizedMergedChildContext=t,Q(Pe),Q(xe),K(xe,t)):Q(Pe),K(Pe,n)}var ft=null,pi=!1,Qi=!1;function id(t){ft===null?ft=[t]:ft.push(t)}function Ip(t){pi=!0,id(t)}function Ht(){if(!Qi&&ft!==null){Qi=!0;var t=0,e=H;try{var n=ft;for(H=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ft=null,pi=!1}catch(s){throw ft!==null&&(ft=ft.slice(t+1)),Pc(Pl,Ht),s}finally{H=e,Qi=!1}}return null}var On=[],Rn=0,Ks=null,Gs=0,Ue=[],Me=0,on=null,pt=1,mt="";function Qt(t,e){On[Rn++]=Gs,On[Rn++]=Ks,Ks=t,Gs=e}function od(t,e,n){Ue[Me++]=pt,Ue[Me++]=mt,Ue[Me++]=on,on=t;var r=pt;t=mt;var s=32-Ye(r)-1;r&=~(1<<s),n+=1;var i=32-Ye(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,pt=1<<32-Ye(e)+s|n<<s|r,mt=i+t}else pt=1<<i|n<<s|r,mt=t}function Ul(t){t.return!==null&&(Qt(t,1),od(t,1,0))}function Ml(t){for(;t===Ks;)Ks=On[--Rn],On[Rn]=null,Gs=On[--Rn],On[Rn]=null;for(;t===on;)on=Ue[--Me],Ue[Me]=null,mt=Ue[--Me],Ue[Me]=null,pt=Ue[--Me],Ue[Me]=null}var Ie=null,Ae=null,J=!1,Xe=null;function ld(t,e){var n=Fe(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ie=t,Ae=Lt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ie=t,Ae=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=on!==null?{id:pt,overflow:mt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fe(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ie=t,Ae=null,!0):!1;default:return!1}}function Fo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bo(t){if(J){var e=Ae;if(e){var n=e;if(!nu(t,e)){if(Fo(t))throw Error(E(418));e=Lt(n.nextSibling);var r=Ie;e&&nu(t,e)?ld(r,n):(t.flags=t.flags&-4097|2,J=!1,Ie=t)}}else{if(Fo(t))throw Error(E(418));t.flags=t.flags&-4097|2,J=!1,Ie=t}}}function ru(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ie=t}function ps(t){if(t!==Ie)return!1;if(!J)return ru(t),J=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Do(t.type,t.memoizedProps)),e&&(e=Ae)){if(Fo(t))throw ad(),Error(E(418));for(;e;)ld(t,e),e=Lt(e.nextSibling)}if(ru(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ae=Lt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ae=null}}else Ae=Ie?Lt(t.stateNode.nextSibling):null;return!0}function ad(){for(var t=Ae;t;)t=Lt(t.nextSibling)}function Wn(){Ae=Ie=null,J=!1}function Fl(t){Xe===null?Xe=[t]:Xe.push(t)}var Lp=bt.ReactCurrentBatchConfig;function cr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function ms(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function su(t){var e=t._init;return e(t._payload)}function ud(t){function e(x,g){if(t){var p=x.deletions;p===null?(x.deletions=[g],x.flags|=16):p.push(g)}}function n(x,g){if(!t)return null;for(;g!==null;)e(x,g),g=g.sibling;return null}function r(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function s(x,g){return x=Mt(x,g),x.index=0,x.sibling=null,x}function i(x,g,p){return x.index=p,t?(p=x.alternate,p!==null?(p=p.index,p<g?(x.flags|=2,g):p):(x.flags|=2,g)):(x.flags|=1048576,g)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,g,p,v){return g===null||g.tag!==6?(g=no(p,x.mode,v),g.return=x,g):(g=s(g,p),g.return=x,g)}function u(x,g,p,v){var w=p.type;return w===Sn?f(x,g,p.props.children,v,p.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Nt&&su(w)===g.type)?(v=s(g,p.props),v.ref=cr(x,g,p),v.return=x,v):(v=Is(p.type,p.key,p.props,null,x.mode,v),v.ref=cr(x,g,p),v.return=x,v)}function c(x,g,p,v){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=ro(p,x.mode,v),g.return=x,g):(g=s(g,p.children||[]),g.return=x,g)}function f(x,g,p,v,w){return g===null||g.tag!==7?(g=rn(p,x.mode,v,w),g.return=x,g):(g=s(g,p),g.return=x,g)}function d(x,g,p){if(typeof g=="string"&&g!==""||typeof g=="number")return g=no(""+g,x.mode,p),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ss:return p=Is(g.type,g.key,g.props,null,x.mode,p),p.ref=cr(x,null,g),p.return=x,p;case kn:return g=ro(g,x.mode,p),g.return=x,g;case Nt:var v=g._init;return d(x,v(g._payload),p)}if(mr(g)||ir(g))return g=rn(g,x.mode,p,null),g.return=x,g;ms(x,g)}return null}function m(x,g,p,v){var w=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return w!==null?null:a(x,g,""+p,v);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ss:return p.key===w?u(x,g,p,v):null;case kn:return p.key===w?c(x,g,p,v):null;case Nt:return w=p._init,m(x,g,w(p._payload),v)}if(mr(p)||ir(p))return w!==null?null:f(x,g,p,v,null);ms(x,p)}return null}function y(x,g,p,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return x=x.get(p)||null,a(g,x,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ss:return x=x.get(v.key===null?p:v.key)||null,u(g,x,v,w);case kn:return x=x.get(v.key===null?p:v.key)||null,c(g,x,v,w);case Nt:var b=v._init;return y(x,g,p,b(v._payload),w)}if(mr(v)||ir(v))return x=x.get(p)||null,f(g,x,v,w,null);ms(g,v)}return null}function h(x,g,p,v){for(var w=null,b=null,j=g,S=g=0,A=null;j!==null&&S<p.length;S++){j.index>S?(A=j,j=null):A=j.sibling;var R=m(x,j,p[S],v);if(R===null){j===null&&(j=A);break}t&&j&&R.alternate===null&&e(x,j),g=i(R,g,S),b===null?w=R:b.sibling=R,b=R,j=A}if(S===p.length)return n(x,j),J&&Qt(x,S),w;if(j===null){for(;S<p.length;S++)j=d(x,p[S],v),j!==null&&(g=i(j,g,S),b===null?w=j:b.sibling=j,b=j);return J&&Qt(x,S),w}for(j=r(x,j);S<p.length;S++)A=y(j,x,S,p[S],v),A!==null&&(t&&A.alternate!==null&&j.delete(A.key===null?S:A.key),g=i(A,g,S),b===null?w=A:b.sibling=A,b=A);return t&&j.forEach(function(C){return e(x,C)}),J&&Qt(x,S),w}function _(x,g,p,v){var w=ir(p);if(typeof w!="function")throw Error(E(150));if(p=w.call(p),p==null)throw Error(E(151));for(var b=w=null,j=g,S=g=0,A=null,R=p.next();j!==null&&!R.done;S++,R=p.next()){j.index>S?(A=j,j=null):A=j.sibling;var C=m(x,j,R.value,v);if(C===null){j===null&&(j=A);break}t&&j&&C.alternate===null&&e(x,j),g=i(C,g,S),b===null?w=C:b.sibling=C,b=C,j=A}if(R.done)return n(x,j),J&&Qt(x,S),w;if(j===null){for(;!R.done;S++,R=p.next())R=d(x,R.value,v),R!==null&&(g=i(R,g,S),b===null?w=R:b.sibling=R,b=R);return J&&Qt(x,S),w}for(j=r(x,j);!R.done;S++,R=p.next())R=y(j,x,S,R.value,v),R!==null&&(t&&R.alternate!==null&&j.delete(R.key===null?S:R.key),g=i(R,g,S),b===null?w=R:b.sibling=R,b=R);return t&&j.forEach(function(P){return e(x,P)}),J&&Qt(x,S),w}function N(x,g,p,v){if(typeof p=="object"&&p!==null&&p.type===Sn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case ss:e:{for(var w=p.key,b=g;b!==null;){if(b.key===w){if(w=p.type,w===Sn){if(b.tag===7){n(x,b.sibling),g=s(b,p.props.children),g.return=x,x=g;break e}}else if(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Nt&&su(w)===b.type){n(x,b.sibling),g=s(b,p.props),g.ref=cr(x,b,p),g.return=x,x=g;break e}n(x,b);break}else e(x,b);b=b.sibling}p.type===Sn?(g=rn(p.props.children,x.mode,v,p.key),g.return=x,x=g):(v=Is(p.type,p.key,p.props,null,x.mode,v),v.ref=cr(x,g,p),v.return=x,x=v)}return o(x);case kn:e:{for(b=p.key;g!==null;){if(g.key===b)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){n(x,g.sibling),g=s(g,p.children||[]),g.return=x,x=g;break e}else{n(x,g);break}else e(x,g);g=g.sibling}g=ro(p,x.mode,v),g.return=x,x=g}return o(x);case Nt:return b=p._init,N(x,g,b(p._payload),v)}if(mr(p))return h(x,g,p,v);if(ir(p))return _(x,g,p,v);ms(x,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,g!==null&&g.tag===6?(n(x,g.sibling),g=s(g,p),g.return=x,x=g):(n(x,g),g=no(p,x.mode,v),g.return=x,x=g),o(x)):n(x,g)}return N}var Hn=ud(!0),cd=ud(!1),Qs=Wt(null),Js=null,$n=null,Bl=null;function ql(){Bl=$n=Js=null}function Wl(t){var e=Qs.current;Q(Qs),t._currentValue=e}function qo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Mn(t,e){Js=t,Bl=$n=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Te=!0),t.firstContext=null)}function We(t){var e=t._currentValue;if(Bl!==t)if(t={context:t,memoizedValue:e,next:null},$n===null){if(Js===null)throw Error(E(308));$n=t,Js.dependencies={lanes:0,firstContext:t}}else $n=$n.next=t;return e}var en=null;function Hl(t){en===null?en=[t]:en.push(t)}function dd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Hl(e)):(n.next=s.next,s.next=n),e.interleaved=n,wt(t,r)}function wt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Et=!1;function Vl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Dt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,B&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,wt(t,n)}return s=r.interleaved,s===null?(e.next=e,Hl(r)):(e.next=s.next,s.next=e),r.interleaved=e,wt(t,n)}function Ts(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ol(t,n)}}function iu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xs(t,e,n,r){var s=t.updateQueue;Et=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=u))}if(i!==null){var d=s.baseState;o=0,f=c=u=null,a=i;do{var m=a.lane,y=a.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=t,_=a;switch(m=e,y=n,_.tag){case 1:if(h=_.payload,typeof h=="function"){d=h.call(y,d,m);break e}d=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=_.payload,m=typeof h=="function"?h.call(y,d,m):h,m==null)break e;d=ee({},d,m);break e;case 2:Et=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=y,u=d):f=f.next=y,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(u=d),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);an|=o,t.lanes=o,t.memoizedState=d}}function ou(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(E(191,s));s.call(r)}}}var Zr={},ot=Wt(Zr),Br=Wt(Zr),qr=Wt(Zr);function tn(t){if(t===Zr)throw Error(E(174));return t}function Kl(t,e){switch(K(qr,e),K(Br,t),K(ot,Zr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jo(e,t)}Q(ot),K(ot,e)}function Vn(){Q(ot),Q(Br),Q(qr)}function fd(t){tn(qr.current);var e=tn(ot.current),n=jo(e,t.type);e!==n&&(K(Br,t),K(ot,n))}function Gl(t){Br.current===t&&(Q(ot),Q(Br))}var Y=Wt(0);function Ys(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ji=[];function Ql(){for(var t=0;t<Ji.length;t++)Ji[t]._workInProgressVersionPrimary=null;Ji.length=0}var Ps=bt.ReactCurrentDispatcher,Xi=bt.ReactCurrentBatchConfig,ln=0,Z=null,ae=null,ce=null,Zs=!1,kr=!1,Wr=0,Dp=0;function ge(){throw Error(E(321))}function Jl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!et(t[n],e[n]))return!1;return!0}function Xl(t,e,n,r,s,i){if(ln=i,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ps.current=t===null||t.memoizedState===null?Fp:Bp,t=n(r,s),kr){i=0;do{if(kr=!1,Wr=0,25<=i)throw Error(E(301));i+=1,ce=ae=null,e.updateQueue=null,Ps.current=qp,t=n(r,s)}while(kr)}if(Ps.current=ei,e=ae!==null&&ae.next!==null,ln=0,ce=ae=Z=null,Zs=!1,e)throw Error(E(300));return t}function Yl(){var t=Wr!==0;return Wr=0,t}function nt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?Z.memoizedState=ce=t:ce=ce.next=t,ce}function He(){if(ae===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=ae.next;var e=ce===null?Z.memoizedState:ce.next;if(e!==null)ce=e,ae=t;else{if(t===null)throw Error(E(310));ae=t,t={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},ce===null?Z.memoizedState=ce=t:ce=ce.next=t}return ce}function Hr(t,e){return typeof e=="function"?e(t):e}function Yi(t){var e=He(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=ae,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var f=c.lane;if((ln&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=d,o=r):u=u.next=d,Z.lanes|=f,an|=f}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,et(r,e.memoizedState)||(Te=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Z.lanes|=i,an|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zi(t){var e=He(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);et(i,e.memoizedState)||(Te=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function pd(){}function md(t,e){var n=Z,r=He(),s=e(),i=!et(r.memoizedState,s);if(i&&(r.memoizedState=s,Te=!0),r=r.queue,Zl(yd.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ce!==null&&ce.memoizedState.tag&1){if(n.flags|=2048,Vr(9,vd.bind(null,n,r,s,e),void 0,null),de===null)throw Error(E(349));ln&30||gd(n,e,s)}return s}function gd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vd(t,e,n,r){e.value=n,e.getSnapshot=r,xd(e)&&wd(t)}function yd(t,e,n){return n(function(){xd(e)&&wd(t)})}function xd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!et(t,n)}catch{return!0}}function wd(t){var e=wt(t,1);e!==null&&Ze(e,t,1,-1)}function lu(t){var e=nt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:t},e.queue=t,t=t.dispatch=Mp.bind(null,Z,t),[e.memoizedState,t]}function Vr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _d(){return He().memoizedState}function Os(t,e,n,r){var s=nt();Z.flags|=t,s.memoizedState=Vr(1|e,n,void 0,r===void 0?null:r)}function mi(t,e,n,r){var s=He();r=r===void 0?null:r;var i=void 0;if(ae!==null){var o=ae.memoizedState;if(i=o.destroy,r!==null&&Jl(r,o.deps)){s.memoizedState=Vr(e,n,i,r);return}}Z.flags|=t,s.memoizedState=Vr(1|e,n,i,r)}function au(t,e){return Os(8390656,8,t,e)}function Zl(t,e){return mi(2048,8,t,e)}function bd(t,e){return mi(4,2,t,e)}function jd(t,e){return mi(4,4,t,e)}function kd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Sd(t,e,n){return n=n!=null?n.concat([t]):null,mi(4,4,kd.bind(null,e,t),n)}function ea(){}function Nd(t,e){var n=He();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ed(t,e){var n=He();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Cd(t,e,n){return ln&21?(et(n,e)||(n=$c(),Z.lanes|=n,an|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Te=!0),t.memoizedState=n)}function zp(t,e){var n=H;H=n!==0&&4>n?n:4,t(!0);var r=Xi.transition;Xi.transition={};try{t(!1),e()}finally{H=n,Xi.transition=r}}function Td(){return He().memoizedState}function Up(t,e,n){var r=Ut(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Pd(t))Od(e,n);else if(n=dd(t,e,n,r),n!==null){var s=ke();Ze(n,t,r,s),Rd(n,e,r)}}function Mp(t,e,n){var r=Ut(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pd(t))Od(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,et(a,o)){var u=e.interleaved;u===null?(s.next=s,Hl(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=dd(t,e,s,r),n!==null&&(s=ke(),Ze(n,t,r,s),Rd(n,e,r))}}function Pd(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function Od(t,e){kr=Zs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Rd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ol(t,n)}}var ei={readContext:We,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},Fp={readContext:We,useCallback:function(t,e){return nt().memoizedState=[t,e===void 0?null:e],t},useContext:We,useEffect:au,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Os(4194308,4,kd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Os(4194308,4,t,e)},useInsertionEffect:function(t,e){return Os(4,2,t,e)},useMemo:function(t,e){var n=nt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=nt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Up.bind(null,Z,t),[r.memoizedState,t]},useRef:function(t){var e=nt();return t={current:t},e.memoizedState=t},useState:lu,useDebugValue:ea,useDeferredValue:function(t){return nt().memoizedState=t},useTransition:function(){var t=lu(!1),e=t[0];return t=zp.bind(null,t[1]),nt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Z,s=nt();if(J){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),de===null)throw Error(E(349));ln&30||gd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,au(yd.bind(null,r,i,t),[t]),r.flags|=2048,Vr(9,vd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=nt(),e=de.identifierPrefix;if(J){var n=mt,r=pt;n=(r&~(1<<32-Ye(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Dp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Bp={readContext:We,useCallback:Nd,useContext:We,useEffect:Zl,useImperativeHandle:Sd,useInsertionEffect:bd,useLayoutEffect:jd,useMemo:Ed,useReducer:Yi,useRef:_d,useState:function(){return Yi(Hr)},useDebugValue:ea,useDeferredValue:function(t){var e=He();return Cd(e,ae.memoizedState,t)},useTransition:function(){var t=Yi(Hr)[0],e=He().memoizedState;return[t,e]},useMutableSource:pd,useSyncExternalStore:md,useId:Td,unstable_isNewReconciler:!1},qp={readContext:We,useCallback:Nd,useContext:We,useEffect:Zl,useImperativeHandle:Sd,useInsertionEffect:bd,useLayoutEffect:jd,useMemo:Ed,useReducer:Zi,useRef:_d,useState:function(){return Zi(Hr)},useDebugValue:ea,useDeferredValue:function(t){var e=He();return ae===null?e.memoizedState=t:Cd(e,ae.memoizedState,t)},useTransition:function(){var t=Zi(Hr)[0],e=He().memoizedState;return[t,e]},useMutableSource:pd,useSyncExternalStore:md,useId:Td,unstable_isNewReconciler:!1};function Ge(t,e){if(t&&t.defaultProps){e=ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gi={isMounted:function(t){return(t=t._reactInternals)?dn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ke(),s=Ut(t),i=gt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Dt(t,i,s),e!==null&&(Ze(e,t,s,r),Ts(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ke(),s=Ut(t),i=gt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Dt(t,i,s),e!==null&&(Ze(e,t,s,r),Ts(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ke(),r=Ut(t),s=gt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Dt(t,s,r),e!==null&&(Ze(e,t,r,n),Ts(e,t,r))}};function uu(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!zr(n,r)||!zr(s,i):!0}function $d(t,e,n){var r=!1,s=Bt,i=e.contextType;return typeof i=="object"&&i!==null?i=We(i):(s=Oe(e)?sn:xe.current,r=e.contextTypes,i=(r=r!=null)?qn(t,s):Bt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gi,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function cu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gi.enqueueReplaceState(e,e.state,null)}function Ho(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Vl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=We(i):(i=Oe(e)?sn:xe.current,s.context=qn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Wo(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&gi.enqueueReplaceState(s,s.state,null),Xs(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Kn(t,e){try{var n="",r=e;do n+=vf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function eo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Wp=typeof WeakMap=="function"?WeakMap:Map;function Ad(t,e,n){n=gt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ni||(ni=!0,nl=r),Vo(t,e)},n}function Id(t,e,n){n=gt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Vo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Vo(t,e),typeof r!="function"&&(zt===null?zt=new Set([this]):zt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function du(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Wp;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=sm.bind(null,t,e,n),e.then(t,t))}function hu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fu(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gt(-1,1),e.tag=2,Dt(n,e,1))),n.lanes|=1),t)}var Hp=bt.ReactCurrentOwner,Te=!1;function je(t,e,n,r){e.child=t===null?cd(e,null,n,r):Hn(e,t.child,n,r)}function pu(t,e,n,r,s){n=n.render;var i=e.ref;return Mn(e,s),r=Xl(t,e,n,r,i,s),n=Yl(),t!==null&&!Te?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_t(t,e,s)):(J&&n&&Ul(e),e.flags|=1,je(t,e,r,s),e.child)}function mu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!aa(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Ld(t,e,i,r,s)):(t=Is(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:zr,n(o,r)&&t.ref===e.ref)return _t(t,e,s)}return e.flags|=1,t=Mt(i,r),t.ref=e.ref,t.return=e,e.child=t}function Ld(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(zr(i,r)&&t.ref===e.ref)if(Te=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Te=!0);else return e.lanes=t.lanes,_t(t,e,s)}return Ko(t,e,n,r,s)}function Dd(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(In,$e),$e|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,K(In,$e),$e|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,K(In,$e),$e|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,K(In,$e),$e|=r;return je(t,e,s,n),e.child}function zd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ko(t,e,n,r,s){var i=Oe(n)?sn:xe.current;return i=qn(e,i),Mn(e,s),n=Xl(t,e,n,r,i,s),r=Yl(),t!==null&&!Te?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_t(t,e,s)):(J&&r&&Ul(e),e.flags|=1,je(t,e,n,s),e.child)}function gu(t,e,n,r,s){if(Oe(n)){var i=!0;Vs(e)}else i=!1;if(Mn(e,s),e.stateNode===null)Rs(t,e),$d(e,n,r),Ho(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=We(c):(c=Oe(n)?sn:xe.current,c=qn(e,c));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&cu(e,o,r,c),Et=!1;var m=e.memoizedState;o.state=m,Xs(e,r,o,s),u=e.memoizedState,a!==r||m!==u||Pe.current||Et?(typeof f=="function"&&(Wo(e,n,f,r),u=e.memoizedState),(a=Et||uu(e,n,a,r,m,u,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,hd(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ge(e.type,a),o.props=c,d=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=We(u):(u=Oe(n)?sn:xe.current,u=qn(e,u));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||m!==u)&&cu(e,o,r,u),Et=!1,m=e.memoizedState,o.state=m,Xs(e,r,o,s);var h=e.memoizedState;a!==d||m!==h||Pe.current||Et?(typeof y=="function"&&(Wo(e,n,y,r),h=e.memoizedState),(c=Et||uu(e,n,c,r,m,h,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,h,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,h,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=h),o.props=r,o.state=h,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Go(t,e,n,r,i,s)}function Go(t,e,n,r,s,i){zd(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&tu(e,n,!1),_t(t,e,i);r=e.stateNode,Hp.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Hn(e,t.child,null,i),e.child=Hn(e,null,a,i)):je(t,e,a,i),e.memoizedState=r.state,s&&tu(e,n,!0),e.child}function Ud(t){var e=t.stateNode;e.pendingContext?eu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&eu(t,e.context,!1),Kl(t,e.containerInfo)}function vu(t,e,n,r,s){return Wn(),Fl(s),e.flags|=256,je(t,e,n,r),e.child}var Qo={dehydrated:null,treeContext:null,retryLane:0};function Jo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Md(t,e,n){var r=e.pendingProps,s=Y.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),K(Y,s&1),t===null)return Bo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=xi(o,r,0,null),t=rn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Jo(n),e.memoizedState=Qo,t):ta(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Vp(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Mt(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Mt(a,i):(i=rn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Jo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Qo,r}return i=t.child,t=i.sibling,r=Mt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ta(t,e){return e=xi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gs(t,e,n,r){return r!==null&&Fl(r),Hn(e,t.child,null,n),t=ta(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Vp(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=eo(Error(E(422))),gs(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=xi({mode:"visible",children:r.children},s,0,null),i=rn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Hn(e,t.child,null,o),e.child.memoizedState=Jo(o),e.memoizedState=Qo,i);if(!(e.mode&1))return gs(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(E(419)),r=eo(i,r,void 0),gs(t,e,o,r)}if(a=(o&t.childLanes)!==0,Te||a){if(r=de,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,wt(t,s),Ze(r,t,s,-1))}return la(),r=eo(Error(E(421))),gs(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=im.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ae=Lt(s.nextSibling),Ie=e,J=!0,Xe=null,t!==null&&(Ue[Me++]=pt,Ue[Me++]=mt,Ue[Me++]=on,pt=t.id,mt=t.overflow,on=e),e=ta(e,r.children),e.flags|=4096,e)}function yu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qo(t.return,e,n)}function to(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Fd(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(je(t,e,r.children,n),r=Y.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yu(t,n,e);else if(t.tag===19)yu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(K(Y,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ys(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),to(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ys(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}to(e,!0,n,null,i);break;case"together":to(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _t(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),an|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=Mt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Kp(t,e,n){switch(e.tag){case 3:Ud(e),Wn();break;case 5:fd(e);break;case 1:Oe(e.type)&&Vs(e);break;case 4:Kl(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;K(Qs,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(K(Y,Y.current&1),e.flags|=128,null):n&e.child.childLanes?Md(t,e,n):(K(Y,Y.current&1),t=_t(t,e,n),t!==null?t.sibling:null);K(Y,Y.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Fd(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(Y,Y.current),r)break;return null;case 22:case 23:return e.lanes=0,Dd(t,e,n)}return _t(t,e,n)}var Bd,Xo,qd,Wd;Bd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xo=function(){};qd=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,tn(ot.current);var i=null;switch(n){case"input":s=xo(t,s),r=xo(t,r),i=[];break;case"select":s=ee({},s,{value:void 0}),r=ee({},r,{value:void 0}),i=[];break;case"textarea":s=bo(t,s),r=bo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ws)}ko(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Or.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Or.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&G("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Wd=function(t,e,n,r){n!==r&&(e.flags|=4)};function dr(t,e){if(!J)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Gp(t,e,n){var r=e.pendingProps;switch(Ml(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(e),null;case 1:return Oe(e.type)&&Hs(),ve(e),null;case 3:return r=e.stateNode,Vn(),Q(Pe),Q(xe),Ql(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ps(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xe!==null&&(il(Xe),Xe=null))),Xo(t,e),ve(e),null;case 5:Gl(e);var s=tn(qr.current);if(n=e.type,t!==null&&e.stateNode!=null)qd(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return ve(e),null}if(t=tn(ot.current),ps(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[st]=e,r[Fr]=i,t=(e.mode&1)!==0,n){case"dialog":G("cancel",r),G("close",r);break;case"iframe":case"object":case"embed":G("load",r);break;case"video":case"audio":for(s=0;s<vr.length;s++)G(vr[s],r);break;case"source":G("error",r);break;case"img":case"image":case"link":G("error",r),G("load",r);break;case"details":G("toggle",r);break;case"input":Ea(r,i),G("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},G("invalid",r);break;case"textarea":Ta(r,i),G("invalid",r)}ko(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&fs(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&fs(r.textContent,a,t),s=["children",""+a]):Or.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&G("scroll",r)}switch(n){case"input":is(r),Ca(r,i,!0);break;case"textarea":is(r),Pa(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ws)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[st]=e,t[Fr]=r,Bd(t,e,!1,!1),e.stateNode=t;e:{switch(o=So(n,r),n){case"dialog":G("cancel",t),G("close",t),s=r;break;case"iframe":case"object":case"embed":G("load",t),s=r;break;case"video":case"audio":for(s=0;s<vr.length;s++)G(vr[s],t);s=r;break;case"source":G("error",t),s=r;break;case"img":case"image":case"link":G("error",t),G("load",t),s=r;break;case"details":G("toggle",t),s=r;break;case"input":Ea(t,r),s=xo(t,r),G("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ee({},r,{value:void 0}),G("invalid",t);break;case"textarea":Ta(t,r),s=bo(t,r),G("invalid",t);break;default:s=r}ko(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?_c(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&xc(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Rr(t,u):typeof u=="number"&&Rr(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Or.hasOwnProperty(i)?u!=null&&i==="onScroll"&&G("scroll",t):u!=null&&Sl(t,i,u,o))}switch(n){case"input":is(t),Ca(t,r,!1);break;case"textarea":is(t),Pa(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ft(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ln(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ln(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ws)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ve(e),null;case 6:if(t&&e.stateNode!=null)Wd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=tn(qr.current),tn(ot.current),ps(e)){if(r=e.stateNode,n=e.memoizedProps,r[st]=e,(i=r.nodeValue!==n)&&(t=Ie,t!==null))switch(t.tag){case 3:fs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fs(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[st]=e,e.stateNode=r}return ve(e),null;case 13:if(Q(Y),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(J&&Ae!==null&&e.mode&1&&!(e.flags&128))ad(),Wn(),e.flags|=98560,i=!1;else if(i=ps(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[st]=e}else Wn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ve(e),i=!1}else Xe!==null&&(il(Xe),Xe=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Y.current&1?ue===0&&(ue=3):la())),e.updateQueue!==null&&(e.flags|=4),ve(e),null);case 4:return Vn(),Xo(t,e),t===null&&Ur(e.stateNode.containerInfo),ve(e),null;case 10:return Wl(e.type._context),ve(e),null;case 17:return Oe(e.type)&&Hs(),ve(e),null;case 19:if(Q(Y),i=e.memoizedState,i===null)return ve(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)dr(i,!1);else{if(ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ys(t),o!==null){for(e.flags|=128,dr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return K(Y,Y.current&1|2),e.child}t=t.sibling}i.tail!==null&&re()>Gn&&(e.flags|=128,r=!0,dr(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ys(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),dr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return ve(e),null}else 2*re()-i.renderingStartTime>Gn&&n!==1073741824&&(e.flags|=128,r=!0,dr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=re(),e.sibling=null,n=Y.current,K(Y,r?n&1|2:n&1),e):(ve(e),null);case 22:case 23:return oa(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$e&1073741824&&(ve(e),e.subtreeFlags&6&&(e.flags|=8192)):ve(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function Qp(t,e){switch(Ml(e),e.tag){case 1:return Oe(e.type)&&Hs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vn(),Q(Pe),Q(xe),Ql(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gl(e),null;case 13:if(Q(Y),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));Wn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Q(Y),null;case 4:return Vn(),null;case 10:return Wl(e.type._context),null;case 22:case 23:return oa(),null;case 24:return null;default:return null}}var vs=!1,ye=!1,Jp=typeof WeakSet=="function"?WeakSet:Set,$=null;function An(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){te(t,e,r)}else n.current=null}function Yo(t,e,n){try{n()}catch(r){te(t,e,r)}}var xu=!1;function Xp(t,e){if(Io=Fs,t=Qc(),zl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,f=0,d=t,m=null;t:for(;;){for(var y;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(u=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(y=d.firstChild)!==null;)m=d,d=y;for(;;){if(d===t)break t;if(m===n&&++c===s&&(a=o),m===i&&++f===r&&(u=o),(y=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lo={focusedElem:t,selectionRange:n},Fs=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var _=h.memoizedProps,N=h.memoizedState,x=e.stateNode,g=x.getSnapshotBeforeUpdate(e.elementType===e.type?_:Ge(e.type,_),N);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(v){te(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return h=xu,xu=!1,h}function Sr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Yo(e,n,i)}s=s.next}while(s!==r)}}function vi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Hd(t){var e=t.alternate;e!==null&&(t.alternate=null,Hd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[st],delete e[Fr],delete e[Uo],delete e[$p],delete e[Ap])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vd(t){return t.tag===5||t.tag===3||t.tag===4}function wu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function el(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ws));else if(r!==4&&(t=t.child,t!==null))for(el(t,e,n),t=t.sibling;t!==null;)el(t,e,n),t=t.sibling}function tl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tl(t,e,n),t=t.sibling;t!==null;)tl(t,e,n),t=t.sibling}var he=null,Qe=!1;function jt(t,e,n){for(n=n.child;n!==null;)Kd(t,e,n),n=n.sibling}function Kd(t,e,n){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(ui,n)}catch{}switch(n.tag){case 5:ye||An(n,e);case 6:var r=he,s=Qe;he=null,jt(t,e,n),he=r,Qe=s,he!==null&&(Qe?(t=he,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):he.removeChild(n.stateNode));break;case 18:he!==null&&(Qe?(t=he,n=n.stateNode,t.nodeType===8?Gi(t.parentNode,n):t.nodeType===1&&Gi(t,n),Lr(t)):Gi(he,n.stateNode));break;case 4:r=he,s=Qe,he=n.stateNode.containerInfo,Qe=!0,jt(t,e,n),he=r,Qe=s;break;case 0:case 11:case 14:case 15:if(!ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Yo(n,e,o),s=s.next}while(s!==r)}jt(t,e,n);break;case 1:if(!ye&&(An(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){te(n,e,a)}jt(t,e,n);break;case 21:jt(t,e,n);break;case 22:n.mode&1?(ye=(r=ye)||n.memoizedState!==null,jt(t,e,n),ye=r):jt(t,e,n);break;default:jt(t,e,n)}}function _u(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Jp),e.forEach(function(r){var s=om.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ve(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:he=a.stateNode,Qe=!1;break e;case 3:he=a.stateNode.containerInfo,Qe=!0;break e;case 4:he=a.stateNode.containerInfo,Qe=!0;break e}a=a.return}if(he===null)throw Error(E(160));Kd(i,o,s),he=null,Qe=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){te(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Gd(e,t),e=e.sibling}function Gd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ve(e,t),tt(t),r&4){try{Sr(3,t,t.return),vi(3,t)}catch(_){te(t,t.return,_)}try{Sr(5,t,t.return)}catch(_){te(t,t.return,_)}}break;case 1:Ve(e,t),tt(t),r&512&&n!==null&&An(n,n.return);break;case 5:if(Ve(e,t),tt(t),r&512&&n!==null&&An(n,n.return),t.flags&32){var s=t.stateNode;try{Rr(s,"")}catch(_){te(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&gc(s,i),So(a,o);var c=So(a,i);for(o=0;o<u.length;o+=2){var f=u[o],d=u[o+1];f==="style"?_c(s,d):f==="dangerouslySetInnerHTML"?xc(s,d):f==="children"?Rr(s,d):Sl(s,f,d,c)}switch(a){case"input":wo(s,i);break;case"textarea":vc(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Ln(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ln(s,!!i.multiple,i.defaultValue,!0):Ln(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fr]=i}catch(_){te(t,t.return,_)}}break;case 6:if(Ve(e,t),tt(t),r&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){te(t,t.return,_)}}break;case 3:if(Ve(e,t),tt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lr(e.containerInfo)}catch(_){te(t,t.return,_)}break;case 4:Ve(e,t),tt(t);break;case 13:Ve(e,t),tt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(sa=re())),r&4&&_u(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(ye=(c=ye)||f,Ve(e,t),ye=c):Ve(e,t),tt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for($=t,f=t.child;f!==null;){for(d=$=f;$!==null;){switch(m=$,y=m.child,m.tag){case 0:case 11:case 14:case 15:Sr(4,m,m.return);break;case 1:An(m,m.return);var h=m.stateNode;if(typeof h.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(_){te(r,n,_)}}break;case 5:An(m,m.return);break;case 22:if(m.memoizedState!==null){ju(d);continue}}y!==null?(y.return=m,$=y):ju(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=wc("display",o))}catch(_){te(t,t.return,_)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(_){te(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ve(e,t),tt(t),r&4&&_u(t);break;case 21:break;default:Ve(e,t),tt(t)}}function tt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Vd(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Rr(s,""),r.flags&=-33);var i=wu(t);tl(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=wu(t);el(t,a,o);break;default:throw Error(E(161))}}catch(u){te(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Yp(t,e,n){$=t,Qd(t)}function Qd(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||vs;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||ye;a=vs;var c=ye;if(vs=o,(ye=u)&&!c)for($=s;$!==null;)o=$,u=o.child,o.tag===22&&o.memoizedState!==null?ku(s):u!==null?(u.return=o,$=u):ku(s);for(;i!==null;)$=i,Qd(i),i=i.sibling;$=s,vs=a,ye=c}bu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):bu(t)}}function bu(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ye||vi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ye)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ge(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ou(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ou(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Lr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ye||e.flags&512&&Zo(e)}catch(m){te(e,e.return,m)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function ju(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function ku(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vi(4,e)}catch(u){te(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){te(e,s,u)}}var i=e.return;try{Zo(e)}catch(u){te(e,i,u)}break;case 5:var o=e.return;try{Zo(e)}catch(u){te(e,o,u)}}}catch(u){te(e,e.return,u)}if(e===t){$=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$=a;break}$=e.return}}var Zp=Math.ceil,ti=bt.ReactCurrentDispatcher,na=bt.ReactCurrentOwner,Be=bt.ReactCurrentBatchConfig,B=0,de=null,ie=null,fe=0,$e=0,In=Wt(0),ue=0,Kr=null,an=0,yi=0,ra=0,Nr=null,Ee=null,sa=0,Gn=1/0,dt=null,ni=!1,nl=null,zt=null,ys=!1,Rt=null,ri=0,Er=0,rl=null,$s=-1,As=0;function ke(){return B&6?re():$s!==-1?$s:$s=re()}function Ut(t){return t.mode&1?B&2&&fe!==0?fe&-fe:Lp.transition!==null?(As===0&&(As=$c()),As):(t=H,t!==0||(t=window.event,t=t===void 0?16:Mc(t.type)),t):1}function Ze(t,e,n,r){if(50<Er)throw Er=0,rl=null,Error(E(185));Jr(t,n,r),(!(B&2)||t!==de)&&(t===de&&(!(B&2)&&(yi|=n),ue===4&&Tt(t,fe)),Re(t,r),n===1&&B===0&&!(e.mode&1)&&(Gn=re()+500,pi&&Ht()))}function Re(t,e){var n=t.callbackNode;Lf(t,e);var r=Ms(t,t===de?fe:0);if(r===0)n!==null&&$a(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$a(n),e===1)t.tag===0?Ip(Su.bind(null,t)):id(Su.bind(null,t)),Op(function(){!(B&6)&&Ht()}),n=null;else{switch(Ac(r)){case 1:n=Pl;break;case 4:n=Oc;break;case 16:n=Us;break;case 536870912:n=Rc;break;default:n=Us}n=rh(n,Jd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Jd(t,e){if($s=-1,As=0,B&6)throw Error(E(327));var n=t.callbackNode;if(Fn()&&t.callbackNode!==n)return null;var r=Ms(t,t===de?fe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=si(t,r);else{e=r;var s=B;B|=2;var i=Yd();(de!==t||fe!==e)&&(dt=null,Gn=re()+500,nn(t,e));do try{nm();break}catch(a){Xd(t,a)}while(!0);ql(),ti.current=i,B=s,ie!==null?e=0:(de=null,fe=0,e=ue)}if(e!==0){if(e===2&&(s=Po(t),s!==0&&(r=s,e=sl(t,s))),e===1)throw n=Kr,nn(t,0),Tt(t,r),Re(t,re()),n;if(e===6)Tt(t,r);else{if(s=t.current.alternate,!(r&30)&&!em(s)&&(e=si(t,r),e===2&&(i=Po(t),i!==0&&(r=i,e=sl(t,i))),e===1))throw n=Kr,nn(t,0),Tt(t,r),Re(t,re()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:Jt(t,Ee,dt);break;case 3:if(Tt(t,r),(r&130023424)===r&&(e=sa+500-re(),10<e)){if(Ms(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ke(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=zo(Jt.bind(null,t,Ee,dt),e);break}Jt(t,Ee,dt);break;case 4:if(Tt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Ye(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zp(r/1960))-r,10<r){t.timeoutHandle=zo(Jt.bind(null,t,Ee,dt),r);break}Jt(t,Ee,dt);break;case 5:Jt(t,Ee,dt);break;default:throw Error(E(329))}}}return Re(t,re()),t.callbackNode===n?Jd.bind(null,t):null}function sl(t,e){var n=Nr;return t.current.memoizedState.isDehydrated&&(nn(t,e).flags|=256),t=si(t,e),t!==2&&(e=Ee,Ee=n,e!==null&&il(e)),t}function il(t){Ee===null?Ee=t:Ee.push.apply(Ee,t)}function em(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!et(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tt(t,e){for(e&=~ra,e&=~yi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ye(e),r=1<<n;t[n]=-1,e&=~r}}function Su(t){if(B&6)throw Error(E(327));Fn();var e=Ms(t,0);if(!(e&1))return Re(t,re()),null;var n=si(t,e);if(t.tag!==0&&n===2){var r=Po(t);r!==0&&(e=r,n=sl(t,r))}if(n===1)throw n=Kr,nn(t,0),Tt(t,e),Re(t,re()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jt(t,Ee,dt),Re(t,re()),null}function ia(t,e){var n=B;B|=1;try{return t(e)}finally{B=n,B===0&&(Gn=re()+500,pi&&Ht())}}function un(t){Rt!==null&&Rt.tag===0&&!(B&6)&&Fn();var e=B;B|=1;var n=Be.transition,r=H;try{if(Be.transition=null,H=1,t)return t()}finally{H=r,Be.transition=n,B=e,!(B&6)&&Ht()}}function oa(){$e=In.current,Q(In)}function nn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Pp(n)),ie!==null)for(n=ie.return;n!==null;){var r=n;switch(Ml(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hs();break;case 3:Vn(),Q(Pe),Q(xe),Ql();break;case 5:Gl(r);break;case 4:Vn();break;case 13:Q(Y);break;case 19:Q(Y);break;case 10:Wl(r.type._context);break;case 22:case 23:oa()}n=n.return}if(de=t,ie=t=Mt(t.current,null),fe=$e=e,ue=0,Kr=null,ra=yi=an=0,Ee=Nr=null,en!==null){for(e=0;e<en.length;e++)if(n=en[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}en=null}return t}function Xd(t,e){do{var n=ie;try{if(ql(),Ps.current=ei,Zs){for(var r=Z.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zs=!1}if(ln=0,ce=ae=Z=null,kr=!1,Wr=0,na.current=null,n===null||n.return===null){ue=1,Kr=e,ie=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=fe,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=hu(o);if(y!==null){y.flags&=-257,fu(y,o,a,i,e),y.mode&1&&du(i,c,e),e=y,u=c;var h=e.updateQueue;if(h===null){var _=new Set;_.add(u),e.updateQueue=_}else h.add(u);break e}else{if(!(e&1)){du(i,c,e),la();break e}u=Error(E(426))}}else if(J&&a.mode&1){var N=hu(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),fu(N,o,a,i,e),Fl(Kn(u,a));break e}}i=u=Kn(u,a),ue!==4&&(ue=2),Nr===null?Nr=[i]:Nr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=Ad(i,u,e);iu(i,x);break e;case 1:a=u;var g=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(zt===null||!zt.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var v=Id(i,a,e);iu(i,v);break e}}i=i.return}while(i!==null)}eh(n)}catch(w){e=w,ie===n&&n!==null&&(ie=n=n.return);continue}break}while(!0)}function Yd(){var t=ti.current;return ti.current=ei,t===null?ei:t}function la(){(ue===0||ue===3||ue===2)&&(ue=4),de===null||!(an&268435455)&&!(yi&268435455)||Tt(de,fe)}function si(t,e){var n=B;B|=2;var r=Yd();(de!==t||fe!==e)&&(dt=null,nn(t,e));do try{tm();break}catch(s){Xd(t,s)}while(!0);if(ql(),B=n,ti.current=r,ie!==null)throw Error(E(261));return de=null,fe=0,ue}function tm(){for(;ie!==null;)Zd(ie)}function nm(){for(;ie!==null&&!Ef();)Zd(ie)}function Zd(t){var e=nh(t.alternate,t,$e);t.memoizedProps=t.pendingProps,e===null?eh(t):ie=e,na.current=null}function eh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Qp(n,e),n!==null){n.flags&=32767,ie=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ue=6,ie=null;return}}else if(n=Gp(n,e,$e),n!==null){ie=n;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);ue===0&&(ue=5)}function Jt(t,e,n){var r=H,s=Be.transition;try{Be.transition=null,H=1,rm(t,e,n,r)}finally{Be.transition=s,H=r}return null}function rm(t,e,n,r){do Fn();while(Rt!==null);if(B&6)throw Error(E(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Df(t,i),t===de&&(ie=de=null,fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ys||(ys=!0,rh(Us,function(){return Fn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Be.transition,Be.transition=null;var o=H;H=1;var a=B;B|=4,na.current=null,Xp(t,n),Gd(n,t),jp(Lo),Fs=!!Io,Lo=Io=null,t.current=n,Yp(n),Cf(),B=a,H=o,Be.transition=i}else t.current=n;if(ys&&(ys=!1,Rt=t,ri=s),i=t.pendingLanes,i===0&&(zt=null),Of(n.stateNode),Re(t,re()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ni)throw ni=!1,t=nl,nl=null,t;return ri&1&&t.tag!==0&&Fn(),i=t.pendingLanes,i&1?t===rl?Er++:(Er=0,rl=t):Er=0,Ht(),null}function Fn(){if(Rt!==null){var t=Ac(ri),e=Be.transition,n=H;try{if(Be.transition=null,H=16>t?16:t,Rt===null)var r=!1;else{if(t=Rt,Rt=null,ri=0,B&6)throw Error(E(331));var s=B;for(B|=4,$=t.current;$!==null;){var i=$,o=i.child;if($.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for($=c;$!==null;){var f=$;switch(f.tag){case 0:case 11:case 15:Sr(8,f,i)}var d=f.child;if(d!==null)d.return=f,$=d;else for(;$!==null;){f=$;var m=f.sibling,y=f.return;if(Hd(f),f===c){$=null;break}if(m!==null){m.return=y,$=m;break}$=y}}}var h=i.alternate;if(h!==null){var _=h.child;if(_!==null){h.child=null;do{var N=_.sibling;_.sibling=null,_=N}while(_!==null)}}$=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$=o;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Sr(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,$=x;break e}$=i.return}}var g=t.current;for($=g;$!==null;){o=$;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,$=p;else e:for(o=g;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vi(9,a)}}catch(w){te(a,a.return,w)}if(a===o){$=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,$=v;break e}$=a.return}}if(B=s,Ht(),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(ui,t)}catch{}r=!0}return r}finally{H=n,Be.transition=e}}return!1}function Nu(t,e,n){e=Kn(n,e),e=Ad(t,e,1),t=Dt(t,e,1),e=ke(),t!==null&&(Jr(t,1,e),Re(t,e))}function te(t,e,n){if(t.tag===3)Nu(t,t,n);else for(;e!==null;){if(e.tag===3){Nu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zt===null||!zt.has(r))){t=Kn(n,t),t=Id(e,t,1),e=Dt(e,t,1),t=ke(),e!==null&&(Jr(e,1,t),Re(e,t));break}}e=e.return}}function sm(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ke(),t.pingedLanes|=t.suspendedLanes&n,de===t&&(fe&n)===n&&(ue===4||ue===3&&(fe&130023424)===fe&&500>re()-sa?nn(t,0):ra|=n),Re(t,e)}function th(t,e){e===0&&(t.mode&1?(e=as,as<<=1,!(as&130023424)&&(as=4194304)):e=1);var n=ke();t=wt(t,e),t!==null&&(Jr(t,e,n),Re(t,n))}function im(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),th(t,n)}function om(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),th(t,n)}var nh;nh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pe.current)Te=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Te=!1,Kp(t,e,n);Te=!!(t.flags&131072)}else Te=!1,J&&e.flags&1048576&&od(e,Gs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Rs(t,e),t=e.pendingProps;var s=qn(e,xe.current);Mn(e,n),s=Xl(null,e,r,t,s,n);var i=Yl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Oe(r)?(i=!0,Vs(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vl(e),s.updater=gi,e.stateNode=s,s._reactInternals=e,Ho(e,r,t,n),e=Go(null,e,r,!0,i,n)):(e.tag=0,J&&i&&Ul(e),je(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Rs(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=am(r),t=Ge(r,t),s){case 0:e=Ko(null,e,r,t,n);break e;case 1:e=gu(null,e,r,t,n);break e;case 11:e=pu(null,e,r,t,n);break e;case 14:e=mu(null,e,r,Ge(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ge(r,s),Ko(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ge(r,s),gu(t,e,r,s,n);case 3:e:{if(Ud(e),t===null)throw Error(E(387));r=e.pendingProps,i=e.memoizedState,s=i.element,hd(t,e),Xs(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Kn(Error(E(423)),e),e=vu(t,e,r,n,s);break e}else if(r!==s){s=Kn(Error(E(424)),e),e=vu(t,e,r,n,s);break e}else for(Ae=Lt(e.stateNode.containerInfo.firstChild),Ie=e,J=!0,Xe=null,n=cd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wn(),r===s){e=_t(t,e,n);break e}je(t,e,r,n)}e=e.child}return e;case 5:return fd(e),t===null&&Bo(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Do(r,s)?o=null:i!==null&&Do(r,i)&&(e.flags|=32),zd(t,e),je(t,e,o,n),e.child;case 6:return t===null&&Bo(e),null;case 13:return Md(t,e,n);case 4:return Kl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hn(e,null,r,n):je(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ge(r,s),pu(t,e,r,s,n);case 7:return je(t,e,e.pendingProps,n),e.child;case 8:return je(t,e,e.pendingProps.children,n),e.child;case 12:return je(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,K(Qs,r._currentValue),r._currentValue=o,i!==null)if(et(i.value,o)){if(i.children===s.children&&!Pe.current){e=_t(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=gt(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),qo(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),qo(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}je(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Mn(e,n),s=We(s),r=r(s),e.flags|=1,je(t,e,r,n),e.child;case 14:return r=e.type,s=Ge(r,e.pendingProps),s=Ge(r.type,s),mu(t,e,r,s,n);case 15:return Ld(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ge(r,s),Rs(t,e),e.tag=1,Oe(r)?(t=!0,Vs(e)):t=!1,Mn(e,n),$d(e,r,s),Ho(e,r,s,n),Go(null,e,r,!0,t,n);case 19:return Fd(t,e,n);case 22:return Dd(t,e,n)}throw Error(E(156,e.tag))};function rh(t,e){return Pc(t,e)}function lm(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fe(t,e,n,r){return new lm(t,e,n,r)}function aa(t){return t=t.prototype,!(!t||!t.isReactComponent)}function am(t){if(typeof t=="function")return aa(t)?1:0;if(t!=null){if(t=t.$$typeof,t===El)return 11;if(t===Cl)return 14}return 2}function Mt(t,e){var n=t.alternate;return n===null?(n=Fe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Is(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")aa(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Sn:return rn(n.children,s,i,e);case Nl:o=8,s|=8;break;case mo:return t=Fe(12,n,e,s|2),t.elementType=mo,t.lanes=i,t;case go:return t=Fe(13,n,e,s),t.elementType=go,t.lanes=i,t;case vo:return t=Fe(19,n,e,s),t.elementType=vo,t.lanes=i,t;case fc:return xi(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dc:o=10;break e;case hc:o=9;break e;case El:o=11;break e;case Cl:o=14;break e;case Nt:o=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Fe(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function rn(t,e,n,r){return t=Fe(7,t,r,e),t.lanes=n,t}function xi(t,e,n,r){return t=Fe(22,t,r,e),t.elementType=fc,t.lanes=n,t.stateNode={isHidden:!1},t}function no(t,e,n){return t=Fe(6,t,null,e),t.lanes=n,t}function ro(t,e,n){return e=Fe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function um(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Di(0),this.expirationTimes=Di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ua(t,e,n,r,s,i,o,a,u){return t=new um(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Fe(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vl(i),t}function cm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function sh(t){if(!t)return Bt;t=t._reactInternals;e:{if(dn(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Oe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(Oe(n))return sd(t,n,e)}return e}function ih(t,e,n,r,s,i,o,a,u){return t=ua(n,r,!0,t,s,i,o,a,u),t.context=sh(null),n=t.current,r=ke(),s=Ut(n),i=gt(r,s),i.callback=e??null,Dt(n,i,s),t.current.lanes=s,Jr(t,s,r),Re(t,r),t}function wi(t,e,n,r){var s=e.current,i=ke(),o=Ut(s);return n=sh(n),e.context===null?e.context=n:e.pendingContext=n,e=gt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Dt(s,e,o),t!==null&&(Ze(t,s,o,i),Ts(t,s,o)),o}function ii(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Eu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ca(t,e){Eu(t,e),(t=t.alternate)&&Eu(t,e)}function dm(){return null}var oh=typeof reportError=="function"?reportError:function(t){console.error(t)};function da(t){this._internalRoot=t}_i.prototype.render=da.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));wi(t,e,null,null)};_i.prototype.unmount=da.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;un(function(){wi(null,t,null,null)}),e[xt]=null}};function _i(t){this._internalRoot=t}_i.prototype.unstable_scheduleHydration=function(t){if(t){var e=Dc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ct.length&&e!==0&&e<Ct[n].priority;n++);Ct.splice(n,0,t),n===0&&Uc(t)}};function ha(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Cu(){}function hm(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ii(o);i.call(c)}}var o=ih(e,r,t,0,null,!1,!1,"",Cu);return t._reactRootContainer=o,t[xt]=o.current,Ur(t.nodeType===8?t.parentNode:t),un(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=ii(u);a.call(c)}}var u=ua(t,0,!1,null,null,!1,!1,"",Cu);return t._reactRootContainer=u,t[xt]=u.current,Ur(t.nodeType===8?t.parentNode:t),un(function(){wi(e,u,n,r)}),u}function ji(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=ii(o);a.call(u)}}wi(e,o,t,s)}else o=hm(n,e,t,s,r);return ii(o)}Ic=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gr(e.pendingLanes);n!==0&&(Ol(e,n|1),Re(e,re()),!(B&6)&&(Gn=re()+500,Ht()))}break;case 13:un(function(){var r=wt(t,1);if(r!==null){var s=ke();Ze(r,t,1,s)}}),ca(t,1)}};Rl=function(t){if(t.tag===13){var e=wt(t,134217728);if(e!==null){var n=ke();Ze(e,t,134217728,n)}ca(t,134217728)}};Lc=function(t){if(t.tag===13){var e=Ut(t),n=wt(t,e);if(n!==null){var r=ke();Ze(n,t,e,r)}ca(t,e)}};Dc=function(){return H};zc=function(t,e){var n=H;try{return H=t,e()}finally{H=n}};Eo=function(t,e,n){switch(e){case"input":if(wo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=fi(r);if(!s)throw Error(E(90));mc(r),wo(r,s)}}}break;case"textarea":vc(t,n);break;case"select":e=n.value,e!=null&&Ln(t,!!n.multiple,e,!1)}};kc=ia;Sc=un;var fm={usingClientEntryPoint:!1,Events:[Yr,Tn,fi,bc,jc,ia]},hr={findFiberByHostInstance:Zt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pm={bundleType:hr.bundleType,version:hr.version,rendererPackageName:hr.rendererPackageName,rendererConfig:hr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Cc(t),t===null?null:t.stateNode},findFiberByHostInstance:hr.findFiberByHostInstance||dm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xs.isDisabled&&xs.supportsFiber)try{ui=xs.inject(pm),it=xs}catch{}}De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fm;De.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ha(e))throw Error(E(200));return cm(t,e,null,n)};De.createRoot=function(t,e){if(!ha(t))throw Error(E(299));var n=!1,r="",s=oh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ua(t,1,!1,null,null,n,!1,r,s),t[xt]=e.current,Ur(t.nodeType===8?t.parentNode:t),new da(e)};De.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Cc(e),t=t===null?null:t.stateNode,t};De.flushSync=function(t){return un(t)};De.hydrate=function(t,e,n){if(!bi(e))throw Error(E(200));return ji(null,t,e,!0,n)};De.hydrateRoot=function(t,e,n){if(!ha(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=oh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ih(e,null,t,1,n??null,s,!1,i,o),t[xt]=e.current,Ur(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new _i(e)};De.render=function(t,e,n){if(!bi(e))throw Error(E(200));return ji(null,t,e,!1,n)};De.unmountComponentAtNode=function(t){if(!bi(t))throw Error(E(40));return t._reactRootContainer?(un(function(){ji(null,null,t,!1,function(){t._reactRootContainer=null,t[xt]=null})}),!0):!1};De.unstable_batchedUpdates=ia;De.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bi(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return ji(t,e,n,!1,r)};De.version="18.3.1-next-f1338f8080-20240426";function lh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lh)}catch(t){console.error(t)}}lh(),lc.exports=De;var mm=lc.exports,ah,Tu=mm;ah=Tu.createRoot,Tu.hydrateRoot;const uh=k.createContext(void 0);function gm({children:t}){const[e,n]=k.useState([]),r=c=>{n(f=>[...f,{...c,id:Date.now().toString()}])},s=c=>{n(f=>f.filter(d=>d.id!==c))},i=(c,f)=>{if(f<=0){s(c);return}n(d=>d.map(m=>m.id===c?{...m,quantity:f}:m))},o=()=>{n([])},a=()=>e.reduce((c,f)=>{const d=f.productPrice*f.quantity,m=f.addons.reduce((y,h)=>y+h.price*h.quantity,0)*f.quantity;return c+d+m},0),u=()=>a();return l.jsx(uh.Provider,{value:{items:e,addItem:r,removeItem:s,updateQuantity:i,clearCart:o,getTotal:u,getSubtotal:a},children:t})}function ki(){const t=k.useContext(uh);if(!t)throw new Error("useCart must be used within CartProvider");return t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),q=(t,e)=>{const n=k.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,...c},f)=>k.createElement("svg",{ref:f,...vm,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${ym(t)}`,a].join(" "),...c},[...e.map(([d,m])=>k.createElement(d,m)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=q("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=q("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=q("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=q("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=q("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=q("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=q("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=q("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=q("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=q("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=q("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=q("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=q("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=q("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=q("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=q("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Um({id:t,type:e,message:n,duration:r=5e3,onClose:s}){k.useEffect(()=>{if(r>0){const a=setTimeout(()=>s(t),r);return()=>clearTimeout(a)}},[t,r,s]);const i={success:l.jsx(ch,{className:"w-6 h-6"}),error:l.jsx(zm,{className:"w-6 h-6"}),warning:l.jsx(xm,{className:"w-6 h-6"}),info:l.jsx(Em,{className:"w-6 h-6"})},o={success:"bg-green-600 border-green-500",error:"bg-red-600 border-red-500",warning:"bg-yellow-600 border-yellow-500",info:"bg-blue-600 border-blue-500"};return l.jsxs("div",{className:`${o[e]} border-l-4 rounded-lg shadow-2xl p-4 mb-3 flex items-start gap-3 backdrop-blur-xl bg-opacity-95 animate-slide-in-right`,children:[l.jsx("div",{className:"text-white flex-shrink-0",children:i[e]}),l.jsx("p",{className:"text-white flex-1 font-medium",children:n}),l.jsx("button",{onClick:()=>s(t),className:"text-white/80 hover:text-white transition-colors flex-shrink-0",children:l.jsx(hn,{className:"w-5 h-5"})})]})}function Mm({toasts:t,onClose:e}){return l.jsx("div",{className:"fixed top-4 right-4 z-[9999] w-full max-w-md pointer-events-none",children:l.jsx("div",{className:"pointer-events-auto space-y-2",children:t.map(n=>l.jsx(Um,{...n,onClose:e},n.id))})})}const gh=k.createContext(void 0);function Fm({children:t}){const[e,n]=k.useState([]),r=(c,f,d=5e3)=>{const m=Math.random().toString(36).substring(2,9);n(y=>[...y,{id:m,type:c,message:f,duration:d}])},s=c=>{n(f=>f.filter(d=>d.id!==c))},i=c=>r("success",c),o=c=>r("error",c),a=c=>r("warning",c),u=c=>r("info",c);return l.jsxs(gh.Provider,{value:{showToast:r,success:i,error:o,warning:a,info:u},children:[t,l.jsx(Mm,{toasts:e,onClose:s})]})}function pa(){const t=k.useContext(gh);if(!t)throw new Error("useToast must be used within ToastProvider");return t}const Bm="modulepreload",qm=function(t){return"/"+t},Pu={},es=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=qm(u),u in Pu)return;Pu[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Bm,c||(d.as="script"),d.crossOrigin="",d.href=u,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((m,y)=>{d.addEventListener("load",m),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Wm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>es(async()=>{const{default:r}=await Promise.resolve().then(()=>er);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class ma extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Hm extends ma{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ou extends ma{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ru extends ma{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var al;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(al||(al={}));var Vm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{c(r.next(f))}catch(d){o(d)}}function u(f){try{c(r.throw(f))}catch(d){o(d)}}function c(f){f.done?i(f.value):s(f.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};class Km{constructor(e,{headers:n={},customFetch:r,region:s=al.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Wm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Vm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:u}=n;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(a["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let f;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(a["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(a["Content-Type"]="application/json",f=JSON.stringify(o)));const d=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:f}).catch(_=>{throw new Hm(_)}),m=d.headers.get("x-relay-error");if(m&&m==="true")throw new Ou(d);if(!d.ok)throw new Ru(d);let y=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return y==="application/json"?h=yield d.json():y==="application/octet-stream"?h=yield d.blob():y==="text/event-stream"?h=d:y==="multipart/form-data"?h=yield d.formData():h=yield d.text(),{data:h,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof Ru||s instanceof Ou?s.context:void 0}}})}}var Ce={},ga={},Ni={},ts={},Ei={},Ci={},Gm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qn=Gm();const Qm=Qn.fetch,vh=Qn.fetch.bind(Qn),yh=Qn.Headers,Jm=Qn.Request,Xm=Qn.Response,er=Object.freeze(Object.defineProperty({__proto__:null,Headers:yh,Request:Jm,Response:Xm,default:vh,fetch:Qm},Symbol.toStringTag,{value:"Module"})),Ym=Bh(er);var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});let Zm=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ti.default=Zm;var xh=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ci,"__esModule",{value:!0});const eg=xh(Ym),tg=xh(Ti);let ng=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=eg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,u,c;let f=null,d=null,m=null,y=i.status,h=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?d=g:d=JSON.parse(g))}const N=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),x=(u=i.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");N&&x&&x.length>1&&(m=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(f={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,m=null,y=406,h="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const N=await i.text();try{f=JSON.parse(N),Array.isArray(f)&&i.status===404&&(d=[],f=null,y=200,h="OK")}catch{i.status===404&&N===""?(y=204,h="No Content"):f={message:N}}if(f&&this.isMaybeSingle&&(!((c=f==null?void 0:f.details)===null||c===void 0)&&c.includes("0 rows"))&&(f=null,y=200,h="OK"),f&&this.shouldThrowOnError)throw new tg.default(f)}return{error:f,data:d,count:m,status:y,statusText:h}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Ci.default=ng;var rg=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ei,"__esModule",{value:!0});const sg=rg(Ci);let ig=class extends sg.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const u=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ei.default=ig;var og=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ts,"__esModule",{value:!0});const lg=og(Ei);let ag=class extends lg.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ts.default=ag;var ug=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ni,"__esModule",{value:!0});const fr=ug(ts);let cg=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new fr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,u)=>a.concat(Object.keys(u)),[]);if(o.length>0){const a=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",a.join(","))}}return new fr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(u.length>0){const c=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new fr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new fr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new fr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Ni.default=cg;var wh=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ga,"__esModule",{value:!0});const dg=wh(Ni),hg=wh(ts);let fg=class _h{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new dg.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new _h(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const u=new URL(`${this.url}/rpc/${e}`);let c;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,m])=>m!==void 0).map(([d,m])=>[d,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([d,m])=>{u.searchParams.append(d,m)})):(a="POST",c=n);const f=new Headers(this.headers);return i&&f.set("Prefer",`count=${i}`),new hg.default({method:a,url:u,headers:f,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};ga.default=fg;var tr=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.PostgrestError=Ce.PostgrestBuilder=Ce.PostgrestTransformBuilder=Ce.PostgrestFilterBuilder=Ce.PostgrestQueryBuilder=Ce.PostgrestClient=void 0;const bh=tr(ga);Ce.PostgrestClient=bh.default;const jh=tr(Ni);Ce.PostgrestQueryBuilder=jh.default;const kh=tr(ts);Ce.PostgrestFilterBuilder=kh.default;const Sh=tr(Ei);Ce.PostgrestTransformBuilder=Sh.default;const Nh=tr(Ci);Ce.PostgrestBuilder=Nh.default;const Eh=tr(Ti);Ce.PostgrestError=Eh.default;var pg=Ce.default={PostgrestClient:bh.default,PostgrestQueryBuilder:jh.default,PostgrestFilterBuilder:kh.default,PostgrestTransformBuilder:Sh.default,PostgrestBuilder:Nh.default,PostgrestError:Eh.default};const{PostgrestClient:mg,PostgrestQueryBuilder:Ev,PostgrestFilterBuilder:Cv,PostgrestTransformBuilder:Tv,PostgrestBuilder:Pv,PostgrestError:Ov}=pg;class gg{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const vg="2.15.5",yg=`realtime-js/${vg}`,xg="1.0.0",ul=1e4,wg=1e3,_g=100;var Cr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Cr||(Cr={}));var oe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(oe||(oe={}));var Je;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Je||(Je={}));var cl;(function(t){t.websocket="websocket"})(cl||(cl={}));var Yt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Yt||(Yt={}));class bg{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const u=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:u,payload:c}}}class Ch{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var V;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(V||(V={}));const $u=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=jg(o,t,e,s),i),{})},jg=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Th(i,o):dl(o)},Th=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Eg(e,n)}switch(t){case V.bool:return kg(e);case V.float4:case V.float8:case V.int2:case V.int4:case V.int8:case V.numeric:case V.oid:return Sg(e);case V.json:case V.jsonb:return Ng(e);case V.timestamp:return Cg(e);case V.abstime:case V.date:case V.daterange:case V.int4range:case V.int8range:case V.money:case V.reltime:case V.text:case V.time:case V.timestamptz:case V.timetz:case V.tsrange:case V.tstzrange:return dl(e);default:return dl(e)}},dl=t=>t,kg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Sg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Ng=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Eg=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Th(e,a))}return t},Cg=t=>typeof t=="string"?t.replace(" ","T"):t,Ph=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class so{constructor(e,n,r={},s=ul){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Au;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Au||(Au={}));class Tr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=Tr.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Tr.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},u={};return this.map(i,(c,f)=>{o[c]||(u[c]=f)}),this.map(o,(c,f)=>{const d=i[c];if(d){const m=f.map(N=>N.presence_ref),y=d.map(N=>N.presence_ref),h=f.filter(N=>y.indexOf(N.presence_ref)<0),_=d.filter(N=>m.indexOf(N.presence_ref)<0);h.length>0&&(a[c]=h),_.length>0&&(u[c]=_)}else a[c]=f}),this.syncDiff(i,{joins:a,leaves:u},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,u)=>{var c;const f=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(u),f.length>0){const d=e[a].map(y=>y.presence_ref),m=f.filter(y=>d.indexOf(y.presence_ref)<0);e[a].unshift(...m)}r(a,f,u)}),this.map(o,(a,u)=>{let c=e[a];if(!c)return;const f=u.map(d=>d.presence_ref);c=c.filter(d=>f.indexOf(d.presence_ref)<0),e[a]=c,s(a,c,u),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Iu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Iu||(Iu={}));var Pr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Pr||(Pr={}));var ht;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ht||(ht={}));class va{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new so(this,Je.join,this.params,this.timeout),this.rejoinTimer=new Ch(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=oe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Je.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Tr(this),this.broadcastEndpointURL=Ph(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==oe.closed){const{config:{broadcast:o,presence:a,private:u}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[Pr.PRESENCE]&&this.bindings[Pr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},m={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:f}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(ht.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(ht.CLOSED)),this.updateJoinPayload(Object.assign({config:m},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var h;if(this.socket.setAuth(),y===void 0){e==null||e(ht.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,N=(h=_==null?void 0:_.length)!==null&&h!==void 0?h:0,x=[];for(let g=0;g<N;g++){const p=_[g],{filter:{event:v,schema:w,table:b,filter:j}}=p,S=y&&y[g];if(S&&S.event===v&&S.schema===w&&S.table===b&&S.filter===j)x.push(Object.assign(Object.assign({},p),{id:S.id}));else{this.unsubscribe(),this.state=oe.errored,e==null||e(ht.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(ht.SUBSCRIBED);return}}).receive("error",y=>{this.state=oe.errored,e==null||e(ht.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ht.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===oe.joined&&e===Pr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,u;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=oe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Je.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new so(this,Je.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=oe.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new so(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>_g){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:u,leave:c,join:f}=Je;if(r&&[a,u,c,f].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var h,_,N;return((h=y.filter)===null||h===void 0?void 0:h.event)==="*"||((N=(_=y.filter)===null||_===void 0?void 0:_.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===o}).map(y=>y.callback(m,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var h,_,N,x,g,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const v=y.id,w=(h=y.filter)===null||h===void 0?void 0:h.event;return v&&((_=n.ids)===null||_===void 0?void 0:_.includes(v))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const v=(g=(x=y==null?void 0:y.filter)===null||x===void 0?void 0:x.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return v==="*"||v===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof m=="object"&&"ids"in m){const h=m.data,{schema:_,table:N,commit_timestamp:x,type:g,errors:p}=h;m=Object.assign(Object.assign({},{schema:_,table:N,commit_timestamp:x,eventType:g,new:{},old:{},errors:p}),this._getPayloadRecords(h))}y.callback(m,r)})}_isClosed(){return this.state===oe.closed}_isJoined(){return this.state===oe.joined}_isJoining(){return this.state===oe.joining}_isLeaving(){return this.state===oe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&va.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Je.close,{},e)}_onError(e){this._on(Je.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=oe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=$u(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=$u(e.columns,e.old_record)),n}}const io=()=>{},ws={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Tg=[1e3,2e3,5e3,1e4],Pg=1e4,Og=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Rg{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ul,this.transport=null,this.heartbeatIntervalMs=ws.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=io,this.ref=0,this.reconnectTimer=null,this.logger=io,this.conn=null,this.sendBuffer=[],this.serializer=new bg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>es(async()=>{const{default:a}=await Promise.resolve().then(()=>er);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${cl.websocket}`,this.httpEndpoint=Ph(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xg}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Cr.connecting:return Yt.Connecting;case Cr.open:return Yt.Open;case Cr.closing:return Yt.Closing;default:return Yt.Closed}}isConnected(){return this.connectionState()===Yt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new va(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(wg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ws.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",u=i.status||"";this.log("receive",`${u} ${r} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Je.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Og],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:yg};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Je.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ch(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ws.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,u,c,f;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:ul,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ws.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:io,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:d=>Tg[d-1]||Pg,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(d,m)=>m(JSON.stringify(d)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ya extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function le(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class $g extends ya{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hl extends ya{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Ag=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{c(r.next(f))}catch(d){o(d)}}function u(f){try{c(r.throw(f))}catch(d){o(d)}}function c(f){f.done?i(f.value):s(f.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};const Oh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>es(async()=>{const{default:r}=await Promise.resolve().then(()=>er);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Ig=()=>Ag(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield es(()=>Promise.resolve().then(()=>er),void 0)).Response:Response}),fl=t=>{if(Array.isArray(t))return t.map(n=>fl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=fl(r)}),e},Lg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var fn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{c(r.next(f))}catch(d){o(d)}}function u(f){try{c(r.throw(f))}catch(d){o(d)}}function c(f){f.done?i(f.value):s(f.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};const oo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Dg=(t,e,n)=>fn(void 0,void 0,void 0,function*(){const r=yield Ig();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new $g(oo(s),i,o))}).catch(s=>{e(new hl(oo(s),s))}):e(new hl(oo(t),t))}),zg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(Lg(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function ns(t,e,n,r,s,i){return fn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,zg(e,r,s,i)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>Dg(u,a,r))})})}function oi(t,e,n,r){return fn(this,void 0,void 0,function*(){return ns(t,"GET",e,n,r)})}function rt(t,e,n,r,s){return fn(this,void 0,void 0,function*(){return ns(t,"POST",e,r,s,n)})}function pl(t,e,n,r,s){return fn(this,void 0,void 0,function*(){return ns(t,"PUT",e,r,s,n)})}function Ug(t,e,n,r){return fn(this,void 0,void 0,function*(){return ns(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Rh(t,e,n,r,s){return fn(this,void 0,void 0,function*(){return ns(t,"DELETE",e,r,s,n)})}var be=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{c(r.next(f))}catch(d){o(d)}}function u(f){try{c(r.throw(f))}catch(d){o(d)}}function c(f){f.done?i(f.value):s(f.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};const Mg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Fg{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Oh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return be(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Lu),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),f=this._getFinalPath(c),d=yield(e=="PUT"?pl:rt)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(le(i))return{data:null,error:i};throw i}})}upload(e,n,r){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return be(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let u;const c=Object.assign({upsert:Lu.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType);const d=yield pl(this.fetch,a.toString(),u,{headers:f});return{data:{path:i,fullPath:d.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(le(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return be(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield rt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ya("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}update(e,n,r){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return be(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(le(s))return{data:null,error:s};throw s}})}copy(e,n,r){return be(this,void 0,void 0,function*(){try{return{data:{path:(yield rt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(le(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return be(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield rt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(le(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return be(this,void 0,void 0,function*(){try{const s=yield rt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(le(s))return{data:null,error:s};throw s}})}download(e,n){return be(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield oi(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(le(a))return{data:null,error:a};throw a}})}info(e){return be(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield oi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:fl(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}exists(e){return be(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Ug(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r)&&r instanceof hl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return be(this,void 0,void 0,function*(){try{return{data:yield Rh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}list(e,n,r){return be(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Mg),n),{prefix:e||""});return{data:yield rt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(le(s))return{data:null,error:s};throw s}})}listV2(e,n){return be(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield rt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Bg="2.12.1",qg={"X-Client-Info":`storage-js/${Bg}`};var vn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{c(r.next(f))}catch(d){o(d)}}function u(f){try{c(r.throw(f))}catch(d){o(d)}}function c(f){f.done?i(f.value):s(f.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};class Wg{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},qg),n),this.fetch=Oh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return vn(this,void 0,void 0,function*(){try{return{data:yield oi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(le(e))return{data:null,error:e};throw e}})}getBucket(e){return vn(this,void 0,void 0,function*(){try{return{data:yield oi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return vn(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return vn(this,void 0,void 0,function*(){try{return{data:yield pl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}emptyBucket(e){return vn(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}deleteBucket(e){return vn(this,void 0,void 0,function*(){try{return{data:yield Rh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}}class Hg extends Wg{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new Fg(this.url,this.headers,e,this.fetch)}}const Vg="2.57.4";let yr="";typeof Deno<"u"?yr="deno":typeof document<"u"?yr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yr="react-native":yr="node";const Kg={"X-Client-Info":`supabase-js-${yr}/${Vg}`},Gg={headers:Kg},Qg={schema:"public"},Jg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xg={};var Yg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{c(r.next(f))}catch(d){o(d)}}function u(f){try{c(r.throw(f))}catch(d){o(d)}}function c(f){f.done?i(f.value):s(f.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};const Zg=t=>{let e;return t?e=t:typeof fetch>"u"?e=vh:e=fetch,(...n)=>e(...n)},e0=()=>typeof Headers>"u"?yh:Headers,t0=(t,e,n)=>{const r=Zg(n),s=e0();return(i,o)=>Yg(void 0,void 0,void 0,function*(){var a;const u=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var n0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{c(r.next(f))}catch(d){o(d)}}function u(f){try{c(r.throw(f))}catch(d){o(d)}}function c(f){f.done?i(f.value):s(f.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};function r0(t){return t.endsWith("/")?t:t+"/"}function s0(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:u,auth:c,realtime:f,global:d}=e,m={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>n0(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function i0(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(r0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const $h="2.71.1",bn=30*1e3,ml=3,lo=ml*bn,o0="http://localhost:9999",l0="supabase.auth.token",a0={"X-Client-Info":`gotrue-js/${$h}`},gl="X-Supabase-Api-Version",Ah={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},u0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,c0=10*60*1e3;class xa extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function z(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class d0 extends xa{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function h0(t){return z(t)&&t.name==="AuthApiError"}class Ih extends xa{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Vt extends xa{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class St extends Vt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function f0(t){return z(t)&&t.name==="AuthSessionMissingError"}class _s extends Vt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bs extends Vt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class js extends Vt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function p0(t){return z(t)&&t.name==="AuthImplicitGrantRedirectError"}class Du extends Vt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vl extends Vt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ao(t){return z(t)&&t.name==="AuthRetryableFetchError"}class zu extends Vt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class yl extends Vt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const li="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uu=` 	
\r=`.split(""),m0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Uu.length;e+=1)t[Uu[e].charCodeAt(0)]=-2;for(let e=0;e<li.length;e+=1)t[li[e].charCodeAt(0)]=e;return t})();function Mu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(li[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(li[r]),e.queuedBits-=6}}function Lh(t,e,n){const r=m0[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Fu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{y0(o,r,n)};for(let o=0;o<t.length;o+=1)Lh(t.charCodeAt(o),s,i);return e.join("")}function g0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function v0(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}g0(r,e)}}function y0(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function x0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Lh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function w0(t){const e=[];return v0(t,n=>e.push(n)),new Uint8Array(e)}function _0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Mu(s,n,r)),Mu(null,n,r),e.join("")}function b0(t){return Math.round(Date.now()/1e3)+t}function j0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ke=()=>typeof window<"u"&&typeof document<"u",Kt={tested:!1,writable:!1},Dh=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kt.tested)return Kt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Kt.tested=!0,Kt.writable=!0}catch{Kt.tested=!0,Kt.writable=!1}return Kt.writable};function k0(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const zh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>es(async()=>{const{default:r}=await Promise.resolve().then(()=>er);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},S0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",jn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Gt=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},kt=async(t,e)=>{await t.removeItem(e)};class Pi{constructor(){this.promise=new Pi.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Pi.promiseConstructor=Promise;function uo(t){const e=t.split(".");if(e.length!==3)throw new yl("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!u0.test(e[r]))throw new yl("JWT not in base64url format");return{header:JSON.parse(Fu(e[0])),payload:JSON.parse(Fu(e[1])),signature:x0(e[2]),raw:{header:e[0],payload:e[1]}}}async function N0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function E0(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function C0(t){return("0"+t.toString(16)).substr(-2)}function T0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,C0).join("")}async function P0(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function O0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await P0(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yn(t,e,n=!1){const r=T0();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await jn(t,`${e}-code-verifier`,s);const i=await O0(r);return[i,r===i?"plain":"s256"]}const R0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $0(t){const e=t.headers.get(gl);if(!e||!e.match(R0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function A0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function I0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const L0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xn(t){if(!L0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function co(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Bu(t){return JSON.parse(JSON.stringify(t))}var D0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Xt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),z0=[502,503,504];async function qu(t){var e;if(!S0(t))throw new vl(Xt(t),0);if(z0.includes(t.status))throw new vl(Xt(t),t.status);let n;try{n=await t.json()}catch(i){throw new Ih(Xt(i),i)}let r;const s=$0(t);if(s&&s.getTime()>=Ah["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new zu(Xt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new St}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new zu(Xt(n),t.status,n.weak_password.reasons);throw new d0(Xt(n),t.status||500,r)}const U0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function U(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[gl]||(i[gl]=Ah["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await M0(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function M0(t,e,n,r,s,i){const o=U0(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(u){throw console.error(u),new vl(Xt(u),0)}if(a.ok||await qu(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(u){await qu(u)}}function ct(t){var e;let n=null;W0(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=b0(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Wu(t){const e=ct(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Pt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function F0(t){return{data:t,error:null}}function B0(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=D0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function q0(t){return t}function W0(t){return t.access_token&&t.refresh_token&&t.expires_in}const ho=["global","local","others"];var H0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class V0{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=zh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=ho[0]){if(ho.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ho.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Pt})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=H0(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:B0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(z(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},f=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:q0});if(f.error)throw f.error;const d=await f.json(),m=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(h=>{const _=parseInt(h.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(h.split(";")[1].split("=")[1]);c[`${N}Page`]=_}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(z(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){xn(e);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){xn(e);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Pt})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){xn(e);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Pt})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){xn(e.userId);try{const{data:n,error:r}=await U(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(z(n))return{data:null,error:n};throw n}}async _deleteFactor(e){xn(e.userId),xn(e.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}}function Hu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function K0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wn={debug:!!(globalThis&&Dh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Uh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class G0 extends Uh{}async function Q0(t,e,n){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),wn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new G0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(wn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}K0();const J0={url:o0,storageKey:l0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:a0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Vu(t,e,n){return await n()}const _n={};class Gr{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gr.nextInstanceID,Gr.nextInstanceID+=1,this.instanceID>0&&Ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},J0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new V0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=zh(s.fetch),this.lock=s.lock||Vu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ke()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Q0:this.lock=Vu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Dh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Hu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Hu(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=_n[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){_n[this.storageKey]=Object.assign(Object.assign({},_n[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=_n[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){_n[this.storageKey]=Object.assign(Object.assign({},_n[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$h}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=k0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ke()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),p0(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return z(n)?{error:n}:{error:new Ih("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ct}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:f,password:d,options:m}=e;let y=null,h=null;this.flowType==="pkce"&&([y,h]=await yn(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:d,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:h},xform:ct})}else if("phone"in e){const{phone:f,password:d,options:m}=e;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ct})}else throw new bs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Wu})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Wu})}else throw new bs("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new _s}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,u,c,f,d,m,y;let h,_;if("message"in e)h=e.message,_=e.signature;else{const{chain:N,wallet:x,statement:g,options:p}=e;let v;if(Ke())if(typeof x=="object")v=x;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))v=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=x}const w=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in v&&v.signIn){const b=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),g?{statement:g}:null));let j;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")j=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)j=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)h=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),_=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");h=[`${w.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((d=(f=p==null?void 0:p.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...p.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const b=await v.signMessage(new TextEncoder().encode(h),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=b}}try{const{data:N,error:x}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:h,signature:_0(_)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ct});if(x)throw x;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new _s}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:x})}catch(N){if(z(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(e){const n=await Gt(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ct});if(await kt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new _s}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ct}),{data:u,error:c}=a;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new _s}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:u}=e;let c=null,f=null;this.flowType==="pkce"&&([c,f]=await yn(this.storage,this.storageKey));const{error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:f},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:u}=e,{data:c,error:f}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f}}throw new bs("You must provide either an email or phone number.")}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ct});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await yn(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:F0})}catch(i){if(z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new St;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(z(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await U(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await U(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new bs("You must provide either an email or phone number and a type")}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Gt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<lo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Gt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=co()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,c,f)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,f))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new St}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Pt})})}catch(n){if(z(n))return f0(n)&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new St;const o=s.session;let a=null,u=null;this.flowType==="pkce"&&e.email!=null&&([a,u]=await yn(this.storage,this.storageKey));const{data:c,error:f}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:Pt});if(f)throw f;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new St;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=uo(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(z(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new St;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ke())throw new js("No browser detected.");if(e.error||e.error_description||e.error_code)throw new js(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Du("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new js("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Du("No code detected.");const{data:g,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:u,token_type:c}=e;if(!i||!a||!o||!c)throw new js("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(a);let m=f+d;u&&(m=parseInt(u));const y=m-f;y*1e3<=bn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${d}s`);const h=m-d;f-h>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",h,m,f):f-h<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",h,m,f);const{data:_,error:N}=await this._getUser(i);if(N)throw N;const x={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:m,refresh_token:o,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(r){if(z(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Gt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(h0(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=j0(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await yn(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,u,c,f;const{data:d,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Ke()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(z(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await E0(async s=>(s>0&&await N0(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ct})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ao(i)&&Date.now()+o-r<bn})}catch(r){if(this._debug(n,"error",r),z(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ke()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Gt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Gt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await jn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:co()}else if(s&&!s.user&&!s.user){const o=await Gt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await kt(this.storage,this.storageKey+"-user"),await jn(this.storage,this.storageKey,s)):s.user=co()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<lo;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${lo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ao(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new St;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Pi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new St;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),z(i)){const o={session:null,error:i};return ao(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await jn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Bu(s);await jn(this.storage,this.storageKey,i)}else{const s=Bu(n);await jn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await kt(this.storage,this.storageKey),await kt(this.storage,this.storageKey+"-code-verifier"),await kt(this.storage,this.storageKey+"-user"),this.userStorage&&await kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),bn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/bn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${bn}ms, refresh threshold is ${ml} ticks`),s<=ml&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Uh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await yn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:c}=await U(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(z(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(z(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=uo(s.access_token);let a=null;o.aal&&(a=o.aal);let u=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const f=o.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+c0>s)return r;const{data:i,error:o}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:y,error:h}=await this.getSession();if(h||!y.session)return{data:null,error:h};r=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:u}}=uo(r);n!=null&&n.allowExpired||A0(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const f=I0(s.alg),d=await crypto.subtle.importKey("jwk",c,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,o,w0(`${a}.${u}`)))throw new yl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}}Gr.nextInstanceID=0;const X0=Gr;class Y0 extends X0{constructor(e){super(e)}}var Z0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{c(r.next(f))}catch(d){o(d)}}function u(f){try{c(r.throw(f))}catch(d){o(d)}}function c(f){f.done?i(f.value):s(f.value).then(a,u)}c((r=r.apply(t,e||[])).next())})};class ev{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const a=i0(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Qg,realtime:Xg,auth:Object.assign(Object.assign({},Jg),{storageKey:u}),global:Gg},f=s0(r??{},c);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(d,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=t0(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new mg(new URL("rest/v1",a).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new Hg(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new Km(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Z0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:u,debug:c},f,d){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Y0({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:u,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Rg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tv=(t,e,n)=>new ev(t,e,n);function nv(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}nv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const rv="https://kanpcfffaprewzdcloxx.supabase.co",sv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImthbnBjZmZmYXByZXd6ZGNsb3h4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkzODM5NTcsImV4cCI6MjA4NDk1OTk1N30.1koLhtp9oP3iIY25gV_0pZ2YGyLElxFXWmb1chI_SOU",I=tv(rv,sv,{db:{schema:"public"},auth:{persistSession:!1,autoRefreshToken:!1},global:{headers:{"X-Client-Info":"supabase-js-web"}}}),Ku=["https://images.pexels.com/photos/1058775/pexels-photo-1058775.jpeg?auto=compress&cs=tinysrgb&w=1600","https://images.pexels.com/photos/1762851/pexels-photo-1762851.jpeg?auto=compress&cs=tinysrgb&w=1600","https://images.pexels.com/photos/1670977/pexels-photo-1670977.jpeg?auto=compress&cs=tinysrgb&w=1600","https://images.pexels.com/photos/1337386/pexels-photo-1337386.jpeg?auto=compress&cs=tinysrgb&w=1600"];function wa(){const[t,e]=k.useState(0),[n,r]=k.useState(Ku),[s,i]=k.useState([]);k.useEffect(()=>{o();const c=I.channel("background_media_changes").on("postgres_changes",{event:"*",schema:"public",table:"background_media"},()=>{o()}).subscribe();return()=>{I.removeChannel(c)}},[]);async function o(){try{const{data:c,error:f}=await I.from("background_media").select("file_url, file_type").eq("is_active",!0).order("order_position",{ascending:!0});if(f)throw f;c&&c.length>0?(r(c.map(d=>d.file_url)),i(c.map(d=>d.file_type))):(r(Ku),i([]))}catch(c){console.error("Erro ao carregar mdias:",c)}}const a=()=>{e(c=>(c+1)%n.length)};k.useEffect(()=>{if((s[t]||"image")==="image"){const f=setTimeout(a,5e3);return()=>clearTimeout(f)}},[t,n.length,s]);const u=s[t]||"image";return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-gray-900 via-black to-gray-800 z-0"}),l.jsx("div",{className:"fixed inset-0 z-0 overflow-hidden",children:u==="video"?l.jsx("video",{autoPlay:!0,muted:!0,playsInline:!0,onEnded:a,className:"absolute inset-0 w-full h-full object-cover transition-opacity duration-[800ms] ease-in-out",style:{opacity:.6},children:l.jsx("source",{src:n[t],type:"video/mp4"})},n[t]):l.jsx("div",{className:"absolute inset-0 transition-opacity duration-[800ms] ease-in-out",style:{backgroundImage:`url(${n[t]})`,backgroundSize:"cover",backgroundPosition:"center",opacity:.6}},n[t])}),l.jsx("div",{className:"fixed inset-0 bg-gradient-to-t from-black/75 via-black/40 to-black/60 z-0 pointer-events-none"}),l.jsx("div",{className:"fixed inset-0 bg-gradient-to-r from-red-950/20 via-transparent to-blue-950/20 z-0 pointer-events-none"})]})}function iv({onOrderNow:t}){return l.jsxs("div",{className:"min-h-screen relative flex items-center justify-center",children:[l.jsx(wa,{}),l.jsx("div",{className:"relative z-10 container mx-auto px-4",children:l.jsxs("div",{className:"max-w-3xl mx-auto text-center space-y-8",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsx("img",{src:"/expresso-delivery_615dab6902eee3285f7eabcacf6ac2ee.png",alt:"Hero's Brasa Burguer",className:"w-64 md:w-96 h-auto object-contain"})}),l.jsx("div",{className:"space-y-3",children:l.jsx("p",{className:"text-lg md:text-xl text-yellow-400 font-semibold",children:"Hamburgueria dos Super-Heris"})}),l.jsx("button",{onClick:t,className:"btn-primary text-white px-12 py-6 rounded-2xl text-2xl md:text-3xl font-bold shadow-2xl hover:scale-105 transition-transform duration-300 animate-bounce",children:" FAA SEU PEDIDO AGORA"}),l.jsx("div",{className:"glass-effect rounded-xl p-5 mt-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4 md:gap-8 text-gray-200 text-sm md:text-base",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:""}),l.jsx("span",{children:"Tera a Sbado - 18h30 s 23h00"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:""}),l.jsx("span",{children:"(66) 99936-5994"})]})]})})]})})]})}function ov(){const[t,e]=k.useState([]);return k.useEffect(()=>{const n=["from-orange-600 via-orange-400 to-yellow-300","from-red-600 via-orange-500 to-yellow-400","from-yellow-600 via-yellow-400 to-white","from-orange-500 via-yellow-300 to-yellow-100"],r=()=>{const i=[];for(let o=0;o<50;o++)i.push({id:Math.random(),x:Math.random()*100,y:-5,size:Math.random()*5+1.5,duration:Math.random()*4+2,delay:Math.random()*6,offsetX:(Math.random()-.5)*200,color:n[Math.floor(Math.random()*n.length)]});e(i)};r();const s=setInterval(r,1e4);return()=>clearInterval(s)},[]),l.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-[5]",children:t.map(n=>l.jsx("div",{className:"absolute animate-spark",style:{left:`${n.x}%`,bottom:`${n.y}%`,width:`${n.size}px`,height:`${n.size}px`,animationDuration:`${n.duration}s`,animationDelay:`${n.delay}s`,"--offset-x":`${n.offsetX}px`},children:l.jsx("div",{className:`w-full h-full rounded-full bg-gradient-to-t ${n.color} shadow-[0_0_15px_rgba(251,146,60,0.9)] blur-[0.5px]`})},n.id))})}function lv({product:t,onClose:e}){const[n,r]=k.useState([]),[s,i]=k.useState([]),[o,a]=k.useState({}),[u,c]=k.useState(1),[f,d]=k.useState(""),{addItem:m}=ki();k.useEffect(()=>{y()},[t.id]),k.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const y=async()=>{const{data:p}=await I.from("product_addon_groups").select("addon_group_id").eq("product_id",t.id);if(p&&p.length>0){const v=p.map(j=>j.addon_group_id),{data:w}=await I.from("addon_groups").select("*").in("id",v),{data:b}=await I.from("addons").select("*").in("group_id",v).eq("active",!0);w&&r(w),b&&i(b)}},h=(p,v)=>{const w=n.find(S=>S.id===v);if(!w)return;const j=Object.entries(o).filter(([S])=>{var A;return((A=s.find(R=>R.id===S))==null?void 0:A.group_id)===v}).reduce((S,[,A])=>S+A,0);a(S=>{if((S[p]||0)>0){const{[p]:R,...C}=S;return C}else if(j<w.max_quantity)return{...S,[p]:1};return S})},_=(p,v,w)=>{const b=n.find(A=>A.id===v);if(!b)return;const S=Object.entries(o).filter(([A])=>{var R;return((R=s.find(C=>C.id===A))==null?void 0:R.group_id)===v}).reduce((A,[,R])=>A+R,0);a(A=>{const C=(A[p]||0)+w;if(C<=0){const{[p]:P,...W}=A;return W}return w>0&&S>=b.max_quantity?A:{...A,[p]:C}})},N=()=>n.every(p=>{const w=Object.entries(o).filter(([b])=>{var j;return((j=s.find(S=>S.id===b))==null?void 0:j.group_id)===p.id}).reduce((b,[,j])=>b+j,0);return w>=p.min_quantity&&w<=p.max_quantity}),x=()=>{if(!N())return;const p=Object.entries(o).map(([v,w])=>{const b=s.find(j=>j.id===v);return{id:v,name:b.name,price:b.price,quantity:w}});m({id:"",productId:t.id,productName:t.name,productPrice:t.price,quantity:u,addons:p,notes:f}),e()},g=()=>{const p=Object.entries(o).reduce((v,[w,b])=>{const j=s.find(S=>S.id===w);return v+((j==null?void 0:j.price)||0)*b},0);return(t.price+p)*u};return l.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4 overflow-hidden",children:l.jsxs("div",{className:"glass-effect rounded-2xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"glass-effect border-b border-white/10 flex-shrink-0",children:[t.image_url&&l.jsx("img",{src:t.image_url,alt:t.name,className:"w-full h-40 object-cover rounded-t-2xl"}),l.jsxs("div",{className:"p-4 flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:t.name}),l.jsx("p",{className:"text-gray-300 text-sm line-clamp-2",children:t.description}),l.jsxs("p",{className:"text-xl font-bold text-yellow-400 mt-2",children:["R$ ",t.price.toFixed(2)]})]}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors flex-shrink-0",children:l.jsx(hn,{className:"w-6 h-6"})})]})]}),l.jsxs("div",{className:"p-4 overflow-y-auto scrollbar-thin flex-1",children:[n.map(p=>{const v=s.filter(b=>b.group_id===p.id),w=Object.entries(o).filter(([b])=>{var j;return((j=s.find(S=>S.id===b))==null?void 0:j.group_id)===p.id}).reduce((b,[,j])=>b+j,0);return l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("h3",{className:"text-base font-semibold text-white",children:[p.name,p.required&&l.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),l.jsxs("span",{className:"text-sm text-gray-400",children:[w,"/",p.max_quantity]})]}),l.jsxs("p",{className:"text-xs text-gray-400 mb-2",children:["Escolha de ",p.min_quantity," a ",p.max_quantity," opes"]}),l.jsx("div",{className:"space-y-2",children:v.map(b=>{const j=o[b.id]||0;return l.jsx("div",{className:`glass-effect rounded-lg p-3 transition-all ${j>0?"ring-2 ring-yellow-400":""}`,children:l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-white font-medium text-sm",children:b.name}),l.jsx("p",{className:"text-xs text-gray-400",children:b.price>0?`+ R$ ${b.price.toFixed(2)}`:"Grtis"})]}),j>0?l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.jsx("button",{onClick:()=>_(b.id,p.id,-1),className:"w-7 h-7 rounded-full bg-red-600 hover:bg-red-700 text-white flex items-center justify-center transition-colors",children:l.jsx(ll,{className:"w-3 h-3"})}),l.jsx("span",{className:"text-white font-semibold w-5 text-center text-sm",children:j}),l.jsx("button",{onClick:()=>_(b.id,p.id,1),className:"w-7 h-7 rounded-full bg-green-600 hover:bg-green-700 text-white flex items-center justify-center transition-colors",children:l.jsx(vt,{className:"w-3 h-3"})})]}):l.jsx("button",{onClick:()=>h(b.id,p.id),className:"btn-primary text-white px-3 py-1.5 rounded-lg text-xs flex-shrink-0",children:"Adicionar"})]})},b.id)})})]},p.id)}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-white font-semibold mb-2 text-sm",children:"Observaes (opcional)"}),l.jsx("textarea",{value:f,onChange:p=>d(p.target.value),placeholder:"Ex: Sem cebola, ponto da carne...",className:"w-full px-3 py-2 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400 resize-none text-sm",rows:2})]}),l.jsx("div",{className:"glass-effect rounded-lg p-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-white font-semibold text-sm",children:"Quantidade"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>c(Math.max(1,u-1)),className:"w-8 h-8 rounded-full bg-red-600 hover:bg-red-700 text-white flex items-center justify-center transition-colors",children:l.jsx(ll,{className:"w-4 h-4"})}),l.jsx("span",{className:"text-white font-bold text-lg w-8 text-center",children:u}),l.jsx("button",{onClick:()=>c(u+1),className:"w-8 h-8 rounded-full bg-green-600 hover:bg-green-700 text-white flex items-center justify-center transition-colors",children:l.jsx(vt,{className:"w-4 h-4"})})]})]})})]}),l.jsx("div",{className:"glass-effect p-4 border-t border-white/10 flex-shrink-0",children:l.jsxs("button",{onClick:x,disabled:!N(),className:"w-full btn-primary text-white py-3 rounded-xl font-bold text-base disabled:opacity-50 disabled:cursor-not-allowed",children:["Adicionar - R$ ",g().toFixed(2)]})})]})})}function av({onBack:t,onClose:e}){const{items:n,getSubtotal:r,clearCart:s}=ki(),i=pa(),[o,a]=k.useState([]),[u,c]=k.useState("info"),[f,d]=k.useState(""),[m,y]=k.useState({subtotal:0,deliveryFee:0,total:0}),[h,_]=k.useState({customerName:"",customerPhone:"",deliveryType:"delivery",neighborhoodId:"",street:"",houseNumber:"",paymentMethod:"pix",referencePoint:""}),[N,x]=k.useState(""),[g,p]=k.useState(!1),[v,w]=k.useState({});k.useEffect(()=>{b()},[]),k.useEffect(()=>{const C=P=>{P.target.closest(".neighborhood-autocomplete")||p(!1)};return g&&document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[g]);const b=async()=>{const{data:C}=await I.from("delivery_areas").select("*").eq("active",!0).order("name");C&&a(C)},j=()=>{if(h.deliveryType==="pickup")return 0;const C=o.find(P=>P.id===h.neighborhoodId);return(C==null?void 0:C.delivery_fee)||0},S=()=>r()+j(),A=()=>{const C={};return h.customerName.trim()||(C.customerName="Nome  obrigatrio"),h.customerPhone.trim()||(C.customerPhone="Telefone  obrigatrio"),h.deliveryType==="delivery"&&(h.neighborhoodId||(C.neighborhoodId="Selecione o bairro"),h.street.trim()||(C.street="Nome da rua  obrigatrio"),h.houseNumber.trim()||(C.houseNumber="Nmero da casa  obrigatrio")),w(C),Object.keys(C).length===0},R=async C=>{if(C.preventDefault(),!!A())try{const P=`#${Date.now().toString().slice(-6)}`;let{data:W}=await I.from("customers").select("*").eq("phone",h.customerPhone).maybeSingle(),ne;if(W){const{data:me}=await I.from("customers").update({name:h.customerName,last_order_at:new Date().toISOString(),total_orders:W.total_orders+1,total_spent:W.total_spent+S()}).eq("id",W.id).select().single();ne=me.id}else{const{data:me}=await I.from("customers").insert({name:h.customerName,phone:h.customerPhone,total_orders:1,total_spent:S()}).select().single();ne=me.id}const{data:nr,error:lt}=await I.from("orders").insert({order_number:P,customer_id:ne,customer_name:h.customerName,customer_phone:h.customerPhone,delivery_type:h.deliveryType,payment_method:h.paymentMethod,status:"pendente",neighborhood_id:h.deliveryType==="delivery"?h.neighborhoodId:null,street:h.deliveryType==="delivery"?h.street:null,house_number:h.deliveryType==="delivery"?h.houseNumber:null,address:h.deliveryType==="delivery"?`${h.street}, ${h.houseNumber}`:null,reference_point:h.deliveryType==="delivery"?h.referencePoint:null,subtotal:r(),delivery_fee:j(),total:S()}).select().single();if(lt)throw lt;for(const me of n){const{data:O,error:L}=await I.from("order_items").insert({order_id:nr.id,product_id:me.productId,product_name:me.productName,product_price:me.productPrice,quantity:me.quantity,notes:me.notes}).select().single();if(L)throw L;for(const D of me.addons)await I.from("order_item_addons").insert({order_item_id:O.id,addon_id:D.id,addon_name:D.name,addon_price:D.price,quantity:D.quantity})}d(P),y({subtotal:r(),deliveryFee:j(),total:S()}),c("success"),s()}catch(P){console.error("Error creating order:",P),i.error("Erro ao criar pedido. Tente novamente.")}};return u==="success"?l.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"glass-effect rounded-2xl max-w-md w-full p-8 text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(ch,{className:"w-12 h-12 text-white"})}),l.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Pedido Realizado!"}),l.jsxs("p",{className:"text-xl text-gray-300 mb-2",children:["Nmero do pedido: ",l.jsx("span",{className:"text-yellow-400 font-bold",children:f})]}),l.jsx("p",{className:"text-gray-400 mb-8",children:h.deliveryType==="delivery"?"Seu pedido est sendo preparado e ser entregue em breve!":"Seu pedido est sendo preparado! Aguarde para retirada."}),l.jsxs("div",{className:"glass-effect rounded-lg p-4 mb-6 text-left",children:[l.jsx("h3",{className:"text-white font-semibold mb-3",children:"Resumo do Pedido"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between text-gray-300",children:[l.jsx("span",{children:"Subtotal"}),l.jsxs("span",{children:["R$ ",m.subtotal.toFixed(2)]})]}),h.deliveryType==="delivery"&&l.jsxs("div",{className:"flex justify-between text-gray-300",children:[l.jsx("span",{children:"Taxa de entrega"}),l.jsxs("span",{children:["R$ ",m.deliveryFee.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-white font-bold text-base pt-2 border-t border-white/10",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:["R$ ",m.total.toFixed(2)]})]})]})]}),l.jsx("button",{onClick:e,className:"w-full btn-primary text-white py-3 rounded-xl font-semibold",children:"Fechar"})]})}):l.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 overflow-y-auto",children:l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:l.jsxs("div",{className:"glass-effect rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto scrollbar-thin",children:[l.jsxs("div",{className:"sticky top-0 glass-effect p-6 border-b border-white/10 flex items-center gap-4",children:[l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:l.jsx(_m,{className:"w-6 h-6"})}),l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Finalizar Pedido"})]}),l.jsxs("form",{onSubmit:R,className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-white font-semibold mb-2",children:"Nome completo *"}),l.jsx("input",{type:"text",value:h.customerName,onChange:C=>_({...h,customerName:C.target.value}),className:`w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 ${v.customerName?"ring-2 ring-red-500":"focus:ring-yellow-400"}`,placeholder:"Seu nome"}),v.customerName&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:v.customerName})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white font-semibold mb-2",children:"Telefone *"}),l.jsx("input",{type:"tel",value:h.customerPhone,onChange:C=>_({...h,customerPhone:C.target.value}),className:`w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 ${v.customerPhone?"ring-2 ring-red-500":"focus:ring-yellow-400"}`,placeholder:"(00) 00000-0000"}),v.customerPhone&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:v.customerPhone})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white font-semibold mb-3",children:"Tipo de pedido *"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("button",{type:"button",onClick:()=>_({...h,deliveryType:"delivery"}),className:`p-4 rounded-lg font-semibold transition-all ${h.deliveryType==="delivery"?"btn-primary text-white":"glass-effect text-gray-300 hover:text-white"}`,children:" Entrega"}),l.jsx("button",{type:"button",onClick:()=>_({...h,deliveryType:"pickup"}),className:`p-4 rounded-lg font-semibold transition-all ${h.deliveryType==="pickup"?"btn-primary text-white":"glass-effect text-gray-300 hover:text-white"}`,children:" Retirada"})]})]}),h.deliveryType==="delivery"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative neighborhood-autocomplete",children:[l.jsx("label",{className:"block text-white font-semibold mb-2",children:"Bairro *"}),l.jsx("input",{type:"text",placeholder:"Digite para buscar o bairro...",value:N,onChange:C=>{x(C.target.value),p(!0),C.target.value===""&&_({...h,neighborhoodId:""})},onFocus:()=>p(!0),className:`w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 ${v.neighborhoodId?"ring-2 ring-red-500":"focus:ring-yellow-400"}`}),g&&N&&l.jsxs("div",{className:"absolute z-50 w-full mt-1 max-h-60 overflow-y-auto bg-gray-900 rounded-lg border-2 border-yellow-400 shadow-2xl",children:[o.filter(C=>C.name.toLowerCase().includes(N.toLowerCase())).map(C=>l.jsxs("button",{type:"button",onClick:()=>{_({...h,neighborhoodId:C.id}),x(C.name),p(!1)},className:"w-full px-4 py-3 text-left text-white hover:bg-yellow-400/30 transition-colors border-b border-gray-700 last:border-b-0",children:[l.jsx("div",{className:"font-semibold text-base",children:C.name}),l.jsxs("div",{className:"text-sm font-bold text-yellow-400 mt-1",children:["Taxa: R$ ",C.delivery_fee.toFixed(2)]})]},C.id)),o.filter(C=>C.name.toLowerCase().includes(N.toLowerCase())).length===0&&l.jsx("div",{className:"px-4 py-3 text-gray-400 text-center",children:"Nenhum bairro encontrado"})]}),v.neighborhoodId&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:v.neighborhoodId})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-white font-semibold mb-2",children:"Nome da rua *"}),l.jsx("input",{type:"text",value:h.street,onChange:C=>_({...h,street:C.target.value}),className:`w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 ${v.street?"ring-2 ring-red-500":"focus:ring-yellow-400"}`,placeholder:"Ex: Rua das Flores"}),v.street&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:v.street})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white font-semibold mb-2",children:"Nmero *"}),l.jsx("input",{type:"text",value:h.houseNumber,onChange:C=>_({...h,houseNumber:C.target.value}),className:`w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 ${v.houseNumber?"ring-2 ring-red-500":"focus:ring-yellow-400"}`,placeholder:"Ex: 123"}),v.houseNumber&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:v.houseNumber})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white font-semibold mb-2",children:"Ponto de referncia (opcional)"}),l.jsx("input",{type:"text",value:h.referencePoint,onChange:C=>_({...h,referencePoint:C.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",placeholder:"Ex: Prximo ao mercado, casa amarela..."})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white font-semibold mb-3",children:"Forma de pagamento *"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{value:"pix",label:" PIX"},{value:"dinheiro",label:" Dinheiro"},{value:"debito",label:" Dbito"},{value:"credito",label:" Crdito"}].map(C=>l.jsx("button",{type:"button",onClick:()=>_({...h,paymentMethod:C.value}),className:`p-3 rounded-lg font-semibold transition-all ${h.paymentMethod===C.value?"btn-primary text-white":"glass-effect text-gray-300 hover:text-white"}`,children:C.label},C.value))})]}),l.jsxs("div",{className:"glass-effect rounded-lg p-6 space-y-3",children:[l.jsx("h3",{className:"text-white font-semibold text-lg",children:"Resumo"}),l.jsxs("div",{className:"flex justify-between text-gray-300",children:[l.jsx("span",{children:"Subtotal"}),l.jsxs("span",{children:["R$ ",r().toFixed(2)]})]}),h.deliveryType==="delivery"&&l.jsxs("div",{className:"flex justify-between text-gray-300",children:[l.jsx("span",{children:"Taxa de entrega"}),l.jsxs("span",{children:["R$ ",j().toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-white font-bold text-xl pt-3 border-t border-white/10",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{className:"text-yellow-400",children:["R$ ",S().toFixed(2)]})]})]}),l.jsx("button",{type:"submit",className:"w-full btn-primary text-white py-4 rounded-xl font-bold text-lg",children:"Confirmar Pedido"})]})]})})})}function uv({onClose:t}){const{items:e,removeItem:n,updateQuantity:r,getSubtotal:s}=ki(),[i,o]=k.useState(!1);return i?l.jsx(av,{onBack:()=>o(!1),onClose:t}):l.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-end md:items-center justify-center",children:l.jsxs("div",{className:"glass-effect rounded-t-3xl md:rounded-2xl w-full md:max-w-2xl md:max-h-[90vh] flex flex-col max-h-[90vh]",children:[l.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Seu Carrinho"}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:l.jsx(hn,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin p-6",children:e.length===0?l.jsxs("div",{className:"text-center py-16",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("p",{className:"text-xl text-gray-400",children:"Seu carrinho est vazio"}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Adicione produtos para continuar"})]}):l.jsx("div",{className:"space-y-4",children:e.map(a=>{const u=(a.productPrice+a.addons.reduce((c,f)=>c+f.price*f.quantity,0))*a.quantity;return l.jsxs("div",{className:"glass-effect rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:a.productName}),l.jsxs("p",{className:"text-sm text-gray-400",children:["R$ ",a.productPrice.toFixed(2)]})]}),l.jsx("button",{onClick:()=>n(a.id),className:"text-red-400 hover:text-red-300 transition-colors",children:l.jsx(Zn,{className:"w-5 h-5"})})]}),a.addons.length>0&&l.jsx("div",{className:"mb-3 pl-4 border-l-2 border-yellow-400/30",children:a.addons.map((c,f)=>l.jsxs("p",{className:"text-sm text-gray-300",children:["+ ",c.name," ",c.quantity>1&&`(${c.quantity}x)`,c.price>0&&` - R$ ${(c.price*c.quantity).toFixed(2)}`]},f))}),a.notes&&l.jsxs("p",{className:"text-sm text-gray-400 mb-3 italic",children:["Obs: ",a.notes]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>r(a.id,a.quantity-1),className:"w-8 h-8 rounded-full bg-red-600 hover:bg-red-700 text-white flex items-center justify-center transition-colors",children:l.jsx(ll,{className:"w-4 h-4"})}),l.jsx("span",{className:"text-white font-semibold w-6 text-center",children:a.quantity}),l.jsx("button",{onClick:()=>r(a.id,a.quantity+1),className:"w-8 h-8 rounded-full bg-green-600 hover:bg-green-700 text-white flex items-center justify-center transition-colors",children:l.jsx(vt,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"text-right",children:l.jsxs("p",{className:"text-lg font-bold text-yellow-400",children:["R$ ",u.toFixed(2)]})})]})]},a.id)})})}),e.length>0&&l.jsxs("div",{className:"p-6 border-t border-white/10 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-lg",children:[l.jsx("span",{className:"text-gray-300",children:"Subtotal"}),l.jsxs("span",{className:"text-white font-semibold",children:["R$ ",s().toFixed(2)]})]}),l.jsx("button",{onClick:()=>o(!0),className:"w-full btn-primary text-white py-4 rounded-xl font-bold text-lg",children:"Finalizar Pedido"})]})]})})}function cv(){var S,A,R,C;const[t,e]=k.useState([]),[n,r]=k.useState([]),[s,i]=k.useState([]),[o,a]=k.useState("all"),[u,c]=k.useState(""),[f,d]=k.useState(null),[m,y]=k.useState(!1),[h,_]=k.useState(0),{items:N,addItem:x}=ki();k.useEffect(()=>{g(),p(),v()},[]),k.useEffect(()=>{if(s.length>1){const P=setInterval(()=>{_(W=>(W+1)%s.length)},5e3);return()=>clearInterval(P)}},[s.length]);const g=async()=>{const{data:P}=await I.from("categories").select("*").eq("active",!0).order("display_order");P&&e(P)},p=async()=>{const{data:P}=await I.from("products").select("*").eq("active",!0).order("display_order");P&&r(P)},v=async()=>{const{data:P}=await I.from("promotions").select("*").eq("active",!0).order("display_order");P&&i(P)},w=n.filter(P=>{const W=o==="all"||P.category_id===o,ne=P.name.toLowerCase().includes(u.toLowerCase())||P.description.toLowerCase().includes(u.toLowerCase());return W&&ne}),b=t.map(P=>({category:P,products:w.filter(W=>W.category_id===P.id)})).filter(P=>P.products.length>0),j=N.reduce((P,W)=>P+W.quantity,0);return l.jsxs("div",{className:"min-h-screen relative",children:[l.jsx(wa,{}),l.jsx(ov,{}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("header",{className:"glass-effect sticky top-0 z-50 border-b border-white/10",children:l.jsx("div",{className:"container mx-auto px-3 md:px-4 py-3 md:py-4",children:l.jsxs("div",{className:"flex items-center justify-between gap-2 md:gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 md:gap-3 min-w-0",children:[l.jsx("img",{src:"/expresso-delivery_615dab6902eee3285f7eabcacf6ac2ee.png",alt:"Hero's Brasa Burguer",className:"h-10 md:h-12 w-auto object-contain flex-shrink-0"}),l.jsx("div",{className:"min-w-0",children:l.jsx("p",{className:"text-xs md:text-sm text-gray-300 truncate",children:"Hamburgueria dos Super-Heris"})})]}),l.jsxs("button",{onClick:()=>y(!0),className:"relative btn-primary text-white px-3 md:px-6 py-2 md:py-3 rounded-lg font-semibold flex items-center gap-1 md:gap-2 flex-shrink-0 text-sm md:text-base",children:[l.jsx($m,{className:"w-4 h-4 md:w-5 md:h-5"}),l.jsx("span",{className:"hidden sm:inline",children:"Carrinho"}),j>0&&l.jsx("span",{className:"absolute -top-1 -right-1 md:-top-2 md:-right-2 bg-red-600 text-white rounded-full w-5 h-5 md:w-6 md:h-6 flex items-center justify-center text-xs md:text-sm font-bold",children:j})]})]})})}),s.length>0&&l.jsx("div",{className:"container mx-auto px-3 md:px-4 py-4 md:py-6",children:l.jsxs("div",{className:"relative overflow-hidden rounded-2xl hero-card",children:[((S=s[h])==null?void 0:S.image_url)&&l.jsx("img",{src:s[h].image_url,alt:s[h].title,className:"w-full h-48 md:h-64 object-cover"}),l.jsxs("div",{className:"p-4 md:p-6 lg:p-8",children:[l.jsxs("div",{className:"relative z-10",children:[l.jsx("h3",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white mb-2",children:(A=s[h])==null?void 0:A.title}),l.jsx("p",{className:"text-sm md:text-base lg:text-lg text-gray-200 mb-3",children:(R=s[h])==null?void 0:R.description}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{className:"text-2xl md:text-3xl font-bold text-yellow-400",children:["R$ ",(C=s[h])==null?void 0:C.price.toFixed(2).replace(".",",")]}),l.jsx("button",{onClick:()=>{const P=s[h];x({id:Date.now().toString(),productId:P.id,productName:P.title,productPrice:P.price,quantity:1,addons:[],notes:""})},className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold hover:scale-105 transition-transform",children:"Adicionar ao Carrinho"})]})]}),s.length>1&&l.jsx("div",{className:"flex gap-2 mt-4",children:s.map((P,W)=>l.jsx("button",{onClick:()=>_(W),className:`w-2 h-2 rounded-full transition-all ${W===h?"bg-yellow-400 w-8":"bg-white/30"}`},W))})]})]})}),l.jsxs("div",{className:"container mx-auto px-3 md:px-4 py-4 md:py-6",children:[l.jsx("div",{className:"mb-4 md:mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(Rm,{className:"absolute left-3 md:left-4 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4 md:w-5 md:h-5"}),l.jsx("input",{type:"text",placeholder:"Buscar produtos...",value:u,onChange:P=>c(P.target.value),className:"w-full pl-10 md:pl-12 pr-3 md:pr-4 py-3 md:py-4 rounded-xl glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 text-sm md:text-base"})]})}),l.jsxs("div",{className:"flex gap-2 md:gap-3 mb-6 md:mb-8 overflow-x-auto pb-2 scrollbar-thin",children:[l.jsx("button",{onClick:()=>a("all"),className:`px-4 md:px-6 py-2 md:py-3 rounded-lg text-sm md:text-base font-semibold whitespace-nowrap transition-all ${o==="all"?"btn-primary text-white":"glass-effect text-gray-300 hover:text-white"}`,children:"Todos"}),t.map(P=>l.jsx("button",{onClick:()=>a(P.id),className:`px-4 md:px-6 py-2 md:py-3 rounded-lg text-sm md:text-base font-semibold whitespace-nowrap transition-all ${o===P.id?"btn-primary text-white":"glass-effect text-gray-300 hover:text-white"}`,children:P.name},P.id))]}),o==="all"?l.jsx("div",{className:"space-y-8",children:b.map(({category:P,products:W})=>l.jsxs("div",{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white bg-gradient-to-r from-red-600 to-orange-600 inline-block px-6 py-2 rounded-lg shadow-lg",children:P.name}),P.description&&l.jsx("p",{className:"text-gray-300 text-sm mt-2 ml-1",children:P.description})]}),l.jsx("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:W.map(ne=>l.jsxs("div",{onClick:()=>d(ne),className:"hero-card rounded-xl overflow-hidden cursor-pointer",children:[ne.image_url?l.jsx("img",{src:ne.image_url,alt:ne.name,className:"w-full aspect-video object-cover"}):l.jsx("div",{className:"aspect-video bg-gradient-to-br from-red-900/30 to-blue-900/30 flex items-center justify-center text-4xl md:text-5xl",children:""}),l.jsxs("div",{className:"p-3 md:p-4",children:[l.jsx("h3",{className:"text-base md:text-lg font-bold text-white mb-1 md:mb-2 line-clamp-1",children:ne.name}),l.jsx("p",{className:"text-gray-300 text-xs mb-2 md:mb-3 line-clamp-2",children:ne.description}),l.jsxs("div",{className:"flex items-center justify-between gap-1 md:gap-2",children:[l.jsxs("span",{className:"text-lg md:text-xl font-bold text-yellow-400",children:["R$ ",ne.price.toFixed(2)]}),l.jsx("button",{className:"btn-primary text-white px-2 md:px-3 py-1.5 md:py-2 rounded-lg font-semibold text-xs",children:"+"})]})]})]},ne.id))})]},P.id))}):l.jsx("div",{className:"grid grid-cols-2 gap-3 md:gap-4 mb-6 md:mb-8",children:w.map(P=>l.jsxs("div",{onClick:()=>d(P),className:"hero-card rounded-xl overflow-hidden cursor-pointer",children:[P.image_url?l.jsx("img",{src:P.image_url,alt:P.name,className:"w-full aspect-video object-cover"}):l.jsx("div",{className:"aspect-video bg-gradient-to-br from-red-900/30 to-blue-900/30 flex items-center justify-center text-4xl md:text-5xl",children:""}),l.jsxs("div",{className:"p-3 md:p-4",children:[l.jsx("h3",{className:"text-base md:text-lg font-bold text-white mb-1 md:mb-2 line-clamp-1",children:P.name}),l.jsx("p",{className:"text-gray-300 text-xs mb-2 md:mb-3 line-clamp-2",children:P.description}),l.jsxs("div",{className:"flex items-center justify-between gap-1 md:gap-2",children:[l.jsxs("span",{className:"text-lg md:text-xl font-bold text-yellow-400",children:["R$ ",P.price.toFixed(2)]}),l.jsx("button",{className:"btn-primary text-white px-2 md:px-3 py-1.5 md:py-2 rounded-lg font-semibold text-xs",children:"+"})]})]})]},P.id))}),w.length===0&&l.jsxs("div",{className:"text-center py-12 md:py-16",children:[l.jsx("div",{className:"text-5xl md:text-6xl mb-4",children:""}),l.jsx("p",{className:"text-lg md:text-xl text-gray-400",children:"Nenhum produto encontrado"})]})]})]}),f&&l.jsx(lv,{product:f,onClose:()=>d(null)}),m&&l.jsx(uv,{onClose:()=>y(!1)})]})}const fo=[{value:"pendente",label:"Pendente",color:"bg-yellow-600"},{value:"aceito",label:"Aceito",color:"bg-blue-600"},{value:"em_andamento",label:"Em Andamento",color:"bg-purple-600"},{value:"pronto_retirada",label:"Pronto para Retirada",color:"bg-green-600"},{value:"pronto_entrega",label:"Pronto para Entrega",color:"bg-green-600"},{value:"entregador_caminho",label:"Entregador a Caminho",color:"bg-cyan-600"},{value:"finalizado",label:"Finalizado",color:"bg-gray-600"},{value:"cancelado",label:"Cancelado",color:"bg-red-600"}],Gu={pix:"PIX",dinheiro:"Dinheiro",debito:"Dbito",credito:"Crdito"};function Qu(){const[t,e]=k.useState([]),[n,r]=k.useState(!0),s=()=>{try{const d=new(window.AudioContext||window.webkitAudioContext),m=(y,h,_)=>{const N=d.createOscillator(),x=d.createGain();N.connect(x),x.connect(d.destination),N.frequency.value=y,N.type="sine",x.gain.setValueAtTime(.5,h),x.gain.exponentialRampToValueAtTime(.01,h+_),N.start(h),N.stop(h+_)};m(800,d.currentTime,.15),m(800,d.currentTime+.2,.15),m(1e3,d.currentTime+.4,.3),console.log(" Som de notificao tocado!")}catch(d){console.error("Erro ao tocar som de notificao:",d)}};k.useEffect(()=>{i(),console.log(" Conectando ao Realtime do Supabase...");const d=I.channel("orders_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},m=>{console.log(" Novo pedido recebido!",m),s(),i()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders"},m=>{console.log(" Pedido atualizado!",m),i()}).on("postgres_changes",{event:"DELETE",schema:"public",table:"orders"},m=>{console.log(" Pedido deletado!",m),i()}).on("postgres_changes",{event:"*",schema:"public",table:"order_items"},m=>{console.log(" Itens do pedido alterados!",m),i()}).on("postgres_changes",{event:"*",schema:"public",table:"order_item_addons"},m=>{console.log(" Adicionais do pedido alterados!",m),i()}).subscribe(m=>{console.log(" Status da subscrio Realtime:",m)});return()=>{console.log(" Desconectando do Realtime..."),d.unsubscribe()}},[]);const i=async()=>{r(!0);const{data:d}=await I.from("orders").select("*, delivery_areas(name)").order("created_at",{ascending:!1});if(d){const m=await Promise.all(d.map(async y=>{var N;const{data:h}=await I.from("order_items").select("*").eq("order_id",y.id),_=await Promise.all((h||[]).map(async x=>{const{data:g}=await I.from("order_item_addons").select("*").eq("order_item_id",x.id);return{...x,addons:g||[]}}));return{...y,neighborhood_name:((N=y.delivery_areas)==null?void 0:N.name)||null,items:_}}));e(m)}r(!1)},o=async(d,m)=>{await I.from("orders").update({status:m}).eq("id",d),i()},a=d=>{const m=window.open("about:blank","_blank");if(!m){alert("Por favor, permita pop-ups para imprimir a comanda");return}const y=_=>new Date(_).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),h=m.document;h.open(),h.write('<html><head><meta charset="UTF-8">'),h.write("<title>Pedido "+d.order_number+"</title>"),h.write("<style>"),h.write("* { margin: 0; padding: 0; box-sizing: border-box; }"),h.write('body { font-family: "Arial Black", Arial, sans-serif; font-size: 16px; font-weight: 900; line-height: 1.6; padding: 10px; width: 80mm; background: white; color: black; }'),h.write(".header { text-align: center; margin-bottom: 18px; padding-bottom: 14px; border-bottom: 3px solid black; }"),h.write(".store-name { font-size: 24px; font-weight: 900; margin-bottom: 6px; }"),h.write(".order-number { font-size: 26px; font-weight: 900; margin: 10px 0; }"),h.write(".section { margin-bottom: 14px; padding-bottom: 10px; border-bottom: 2px dashed #999; }"),h.write(".section-title { font-weight: 900; margin-bottom: 8px; font-size: 18px; text-transform: uppercase; }"),h.write(".item { margin-bottom: 14px; padding-bottom: 10px; border-bottom: 2px dashed #ccc; }"),h.write(".item-row { display: flex; justify-content: space-between; margin-bottom: 6px; font-weight: 900; font-size: 16px; }"),h.write(".addon { margin-left: 18px; font-size: 15px; font-weight: 900; display: flex; justify-content: space-between; }"),h.write(".note { margin-left: 18px; font-size: 15px; font-weight: 900; font-style: italic; margin-top: 6px; }"),h.write(".total { font-size: 22px; font-weight: 900; margin-top: 14px; padding-top: 14px; border-top: 3px solid black; text-align: right; }"),h.write(".footer { text-align: center; margin-top: 18px; padding-top: 14px; border-top: 2px dashed #999; font-size: 15px; font-weight: 900; }"),h.write("</style></head><body>"),h.write('<div class="header">'),h.write('<div class="store-name">HEROS BRASA BURGUER</div>'),h.write('<div style="font-size: 16px; font-weight: 900;">Hamburgueria dos Super-Herois</div>'),h.write('<div class="order-number">'+d.order_number+"</div>"),h.write('<div style="font-size: 16px; font-weight: 900;">'+y(d.created_at)+"</div>"),h.write("</div>"),h.write('<div class="section">'),h.write('<div class="section-title">CLIENTE</div>'),h.write('<div style="margin-bottom: 4px; font-size: 16px; font-weight: 900;">Nome: '+d.customer_name+"</div>"),h.write('<div style="margin-bottom: 4px; font-size: 16px; font-weight: 900;">Telefone: '+d.customer_phone+"</div>"),h.write("</div>"),h.write('<div class="section">'),h.write('<div class="section-title">ENTREGA</div>'),d.delivery_type==="delivery"?(h.write('<div style="margin-bottom: 4px; font-size: 16px; font-weight: 900;">Entrega em domicilio</div>'),d.street&&d.house_number?(h.write('<div style="margin-bottom: 4px; font-size: 16px; font-weight: 900;">Endereco:</div>'),h.write('<div style="margin-bottom: 4px; font-size: 16px; font-weight: 900;">'+d.street+", "+d.house_number+"</div>"),d.neighborhood_name&&h.write('<div style="margin-bottom: 4px; font-size: 16px; font-weight: 900;">Bairro: '+d.neighborhood_name+"</div>"),d.reference_point&&h.write('<div style="margin-bottom: 4px; font-size: 16px; font-weight: 900;">Referencia: '+d.reference_point+"</div>"),d.delivery_fee&&d.delivery_fee>0&&h.write('<div style="margin-top: 6px; font-size: 16px; font-weight: 900;">Taxa de entrega: R$ '+d.delivery_fee.toFixed(2)+"</div>")):d.address&&h.write('<div style="margin-bottom: 4px; font-size: 16px; font-weight: 900;">'+d.address+"</div>")):h.write('<div style="margin-bottom: 4px; font-size: 16px; font-weight: 900;">Retirada no local</div>'),h.write("</div>"),h.write('<div class="section">'),h.write('<div class="section-title">PAGAMENTO</div>'),h.write('<div style="margin-bottom: 4px; font-size: 16px; font-weight: 900;">'+Gu[d.payment_method]+"</div>"),h.write("</div>"),h.write('<div class="section">'),h.write('<div class="section-title">ITENS DO PEDIDO</div>'),d.items&&d.items.length>0?d.items.forEach(_=>{h.write('<div class="item">'),h.write('<div class="item-row">'),h.write("<span>"+_.quantity+"x "+_.product_name+"</span>"),h.write("<span>R$ "+(_.product_price*_.quantity).toFixed(2)+"</span>"),h.write("</div>"),_.addons&&_.addons.length>0&&_.addons.forEach(N=>{h.write('<div class="addon">'),h.write("<span>+ "+N.quantity+"x "+N.addon_name+"</span>"),h.write("<span>R$ "+(N.addon_price*N.quantity).toFixed(2)+"</span>"),h.write("</div>")}),_.notes&&h.write('<div class="note">Obs: '+_.notes+"</div>"),h.write("</div>")}):h.write('<div style="text-align: center; font-size: 16px; font-weight: 900; color: #666;">Nenhum item disponivel</div>'),h.write("</div>"),h.write('<div class="total">TOTAL: R$ '+d.total.toFixed(2)+"</div>"),h.write('<div class="footer">Obrigado pela preferencia!<br>Volte sempre!</div>'),h.write("</body></html>"),h.close(),setTimeout(()=>{m.focus(),m.print()},500)},u=t.filter(d=>d.status!=="finalizado"&&d.status!=="cancelado"),c=d=>{var m;return((m=fo.find(y=>y.value===d))==null?void 0:m.color)||"bg-gray-600"},f=d=>{var m;return((m=fo.find(y=>y.value===d))==null?void 0:m.label)||d};return l.jsxs("div",{className:"space-y-4 md:space-y-6",children:[l.jsx("div",{className:"glass-effect rounded-xl p-4 md:p-6",children:l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white",children:"Gerenciar Pedidos"})}),n?l.jsxs("div",{className:"glass-effect rounded-xl p-8 md:p-12 text-center",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("p",{className:"text-gray-400",children:"Carregando pedidos..."})]}):u.length===0?l.jsxs("div",{className:"glass-effect rounded-xl p-8 md:p-12 text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("p",{className:"text-xl text-gray-400",children:"Nenhum pedido ativo"})]}):l.jsx("div",{className:"space-y-3",children:u.map(d=>l.jsxs("div",{className:"glass-effect rounded-lg p-3 md:p-4 hover:bg-white/10 transition-all",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("h3",{className:"text-lg md:text-xl font-bold text-white mb-1",children:["Pedido ",d.order_number]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[l.jsx(Sm,{className:"w-3 h-3"}),new Date(d.created_at).toLocaleString("pt-BR")]})]}),l.jsx("span",{className:`px-2 py-1 rounded text-white font-semibold text-xs ${c(d.status)} self-start`,children:f(d.status)})]}),l.jsxs("div",{className:"space-y-2 mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm text-gray-300",children:[l.jsx(mh,{className:"w-3 h-3 flex-shrink-0"}),l.jsx("span",{className:"truncate",children:d.customer_name}),l.jsx("span",{className:"text-gray-500",children:""}),l.jsx("span",{className:"whitespace-nowrap",children:d.customer_phone})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm text-gray-300",children:[l.jsx(dh,{className:"w-3 h-3 flex-shrink-0"}),l.jsx("span",{children:Gu[d.payment_method]})]}),l.jsxs("div",{className:"flex items-start gap-2 text-xs md:text-sm text-gray-300",children:[l.jsx(fh,{className:"w-3 h-3 flex-shrink-0 mt-0.5"}),d.delivery_type==="delivery"?l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-semibold text-white mb-1",children:"Entrega:"}),d.street&&d.house_number?l.jsxs(l.Fragment,{children:[l.jsxs("p",{children:[d.street,", ",d.house_number]}),d.neighborhood_name&&l.jsx("p",{className:"text-yellow-400",children:d.neighborhood_name}),d.reference_point&&l.jsxs("p",{className:"text-gray-400 italic text-[10px] mt-1",children:["Referncia: ",d.reference_point]}),d.delivery_fee>0&&l.jsxs("p",{className:"text-[10px] text-gray-400 mt-1",children:["Taxa de entrega: R$ ",d.delivery_fee.toFixed(2)]})]}):d.address?l.jsx("p",{children:d.address}):l.jsx("p",{className:"text-gray-400 italic",children:"Endereo no informado"})]}):l.jsx("span",{children:"Retirada no local"})]})]}),l.jsxs("div",{className:"mb-3 glass-effect rounded-lg p-2",children:[l.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[l.jsx(ph,{className:"w-3 h-3 text-yellow-400"}),l.jsx("p",{className:"text-white font-semibold text-xs",children:"Itens do Pedido"})]}),d.items&&d.items.length>0?l.jsx("div",{className:"space-y-1.5",children:d.items.map(m=>l.jsxs("div",{className:"bg-black/20 rounded p-2",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("span",{className:"text-white font-medium text-xs",children:[m.quantity,"x ",m.product_name]}),l.jsxs("span",{className:"text-yellow-400 font-semibold text-xs",children:["R$ ",(m.product_price*m.quantity).toFixed(2)]})]}),m.addons&&m.addons.length>0&&l.jsx("div",{className:"ml-3 mt-1 space-y-0.5",children:m.addons.map((y,h)=>l.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400",children:[l.jsxs("span",{children:["+ ",y.quantity,"x ",y.addon_name]}),l.jsxs("span",{children:["R$ ",(y.addon_price*y.quantity).toFixed(2)]})]},h))}),m.notes&&l.jsxs("p",{className:"text-[10px] text-gray-400 mt-1 italic",children:["Obs: ",m.notes]})]},m.id))}):l.jsx("div",{className:"bg-black/20 rounded p-2 text-center",children:l.jsx("p",{className:"text-[10px] text-gray-400 italic",children:"Pedido antigo - itens no disponveis"})})]}),l.jsx("div",{className:"pt-2 mb-3 border-t border-white/10",children:l.jsxs("p",{className:"text-lg md:text-xl font-bold text-yellow-400",children:["Total: R$ ",d.total.toFixed(2)]})}),l.jsxs("button",{onClick:()=>a(d),className:"w-full px-3 py-2 rounded-lg font-semibold bg-blue-600 hover:bg-blue-700 text-white transition-colors text-xs flex items-center justify-center gap-2 mb-3",children:[l.jsx(Om,{className:"w-4 h-4"}),"Imprimir Comanda"]}),d.status!=="finalizado"&&d.status!=="cancelado"&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"glass-effect rounded-lg p-2",children:[l.jsx("p",{className:"text-white font-semibold mb-2 text-xs",children:"Alterar Status"}),l.jsxs("div",{className:"relative",children:[l.jsx("select",{value:d.status,onChange:m=>o(d.id,m.target.value),className:"w-full px-3 py-2 rounded-lg glass-effect text-white appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-yellow-400 text-xs",children:fo.filter(m=>m.value!=="pendente"&&m.value!=="cancelado").map(m=>l.jsx("option",{value:m.value,className:"bg-gray-900",children:m.label},m.value))}),l.jsx(km,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),l.jsx("button",{onClick:()=>o(d.id,"cancelado"),className:"w-full px-3 py-2 rounded-lg font-semibold bg-red-600 hover:bg-red-700 text-white transition-colors text-xs",children:"Cancelar Pedido"})]})]},d.id))})]})}function dv(){const t=pa(),[e,n]=k.useState([]),[r,s]=k.useState([]),[i,o]=k.useState([]),[a,u]=k.useState({customerName:"",customerPhone:"",deliveryType:"delivery",neighborhoodId:"",street:"",houseNumber:"",referencePoint:"",paymentMethod:"pix"}),[c,f]=k.useState(""),[d,m]=k.useState(!1);k.useEffect(()=>{y(),h()},[]),k.useEffect(()=>{const p=v=>{v.target.closest(".neighborhood-autocomplete")||m(!1)};return d&&document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[d]);const y=async()=>{const{data:p}=await I.from("products").select("id, name, price").eq("active",!0);p&&n(p)},h=async()=>{const{data:p}=await I.from("delivery_areas").select("*").eq("active",!0);p&&s(p)},_=p=>{const v=i.find(w=>w.productId===p);o(v?i.map(w=>w.productId===p?{...w,quantity:w.quantity+1}:w):[...i,{productId:p,quantity:1}])},N=p=>{o(i.filter(v=>v.productId!==p))},x=()=>{var w;const p=i.reduce((b,j)=>{const S=e.find(A=>A.id===j.productId);return b+((S==null?void 0:S.price)||0)*j.quantity},0),v=a.deliveryType==="delivery"&&((w=r.find(b=>b.id===a.neighborhoodId))==null?void 0:w.delivery_fee)||0;return p+v},g=async p=>{var S;if(p.preventDefault(),!a.customerName||!a.customerPhone||i.length===0){t.warning("Preencha todos os campos e adicione produtos");return}const v=`#${Date.now().toString().slice(-6)}`,w=i.reduce((A,R)=>{const C=e.find(P=>P.id===R.productId);return A+((C==null?void 0:C.price)||0)*R.quantity},0),b=a.deliveryType==="delivery"&&((S=r.find(A=>A.id===a.neighborhoodId))==null?void 0:S.delivery_fee)||0,{data:j}=await I.from("orders").insert({order_number:v,customer_name:a.customerName,customer_phone:a.customerPhone,delivery_type:a.deliveryType,payment_method:a.paymentMethod,status:"aceito",neighborhood_id:a.deliveryType==="delivery"?a.neighborhoodId:null,street:a.deliveryType==="delivery"?a.street:null,house_number:a.deliveryType==="delivery"?a.houseNumber:null,address:a.deliveryType==="delivery"?`${a.street}, ${a.houseNumber}`:null,reference_point:a.deliveryType==="delivery"?a.referencePoint:null,subtotal:w,delivery_fee:b,total:w+b}).select().single();if(j){for(const A of i){const R=e.find(C=>C.id===A.productId);await I.from("order_items").insert({order_id:j.id,product_id:A.productId,quantity:A.quantity,unit_price:R.price,subtotal:R.price*A.quantity})}t.success(`Pedido ${v} criado com sucesso!`),o([]),f(""),u({customerName:"",customerPhone:"",deliveryType:"delivery",neighborhoodId:"",street:"",houseNumber:"",referencePoint:"",paymentMethod:"pix"})}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"glass-effect rounded-xl p-6",children:l.jsx("h1",{className:"text-3xl font-bold text-white",children:"Novo Pedido"})}),l.jsxs("form",{onSubmit:g,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("input",{type:"text",placeholder:"Nome do cliente",value:a.customerName,onChange:p=>u({...a,customerName:p.target.value}),className:"px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"}),l.jsx("input",{type:"tel",placeholder:"Telefone",value:a.customerPhone,onChange:p=>u({...a,customerPhone:p.target.value}),className:"px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("button",{type:"button",onClick:()=>u({...a,deliveryType:"delivery"}),className:`p-3 rounded-lg font-semibold ${a.deliveryType==="delivery"?"btn-primary text-white":"glass-effect text-gray-300"}`,children:"Entrega"}),l.jsx("button",{type:"button",onClick:()=>u({...a,deliveryType:"pickup"}),className:`p-3 rounded-lg font-semibold ${a.deliveryType==="pickup"?"btn-primary text-white":"glass-effect text-gray-300"}`,children:"Retirada"})]}),a.deliveryType==="delivery"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"relative neighborhood-autocomplete",children:[l.jsx("label",{className:"block text-white font-semibold mb-2",children:"Bairro *"}),l.jsx("input",{type:"text",placeholder:"Digite para buscar o bairro...",value:c,onChange:p=>{f(p.target.value),m(!0),p.target.value===""&&u({...a,neighborhoodId:""})},onFocus:()=>m(!0),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"}),d&&c&&l.jsxs("div",{className:"absolute z-50 w-full mt-1 max-h-60 overflow-y-auto bg-gray-900 rounded-lg border-2 border-yellow-400 shadow-2xl",children:[r.filter(p=>p.name.toLowerCase().includes(c.toLowerCase())).map(p=>l.jsxs("button",{type:"button",onClick:()=>{u({...a,neighborhoodId:p.id}),f(p.name),m(!1)},className:"w-full px-4 py-3 text-left text-white hover:bg-yellow-400/30 transition-colors border-b border-gray-700 last:border-b-0",children:[l.jsx("div",{className:"font-semibold text-base",children:p.name}),l.jsxs("div",{className:"text-sm font-bold text-yellow-400 mt-1",children:["Taxa: R$ ",p.delivery_fee.toFixed(2)]})]},p.id)),r.filter(p=>p.name.toLowerCase().includes(c.toLowerCase())).length===0&&l.jsx("div",{className:"px-4 py-3 text-gray-400 text-center",children:"Nenhum bairro encontrado"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-white font-semibold mb-2",children:"Nome da rua *"}),l.jsx("input",{type:"text",placeholder:"Ex: Rua das Flores",value:a.street,onChange:p=>u({...a,street:p.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white font-semibold mb-2",children:"Nmero *"}),l.jsx("input",{type:"text",placeholder:"Ex: 123",value:a.houseNumber,onChange:p=>u({...a,houseNumber:p.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white font-semibold mb-2",children:"Ponto de referncia"}),l.jsx("input",{type:"text",placeholder:"Ex: Prximo ao mercado, casa amarela...",value:a.referencePoint,onChange:p=>u({...a,referencePoint:p.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"})]})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["pix","dinheiro","debito","credito"].map(p=>l.jsx("button",{type:"button",onClick:()=>u({...a,paymentMethod:p}),className:`p-3 rounded-lg font-semibold ${a.paymentMethod===p?"btn-primary text-white":"glass-effect text-gray-300"}`,children:p.charAt(0).toUpperCase()+p.slice(1)},p))}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-semibold mb-3",children:"Produtos"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:e.map(p=>l.jsxs("button",{type:"button",onClick:()=>_(p.id),className:"glass-effect p-4 rounded-lg text-left hover:bg-white/10 transition-colors",children:[l.jsx("p",{className:"text-white font-semibold",children:p.name}),l.jsxs("p",{className:"text-yellow-400",children:["R$ ",p.price.toFixed(2)]})]},p.id))}),i.length>0&&l.jsxs("div",{className:"glass-effect p-4 rounded-lg space-y-2",children:[l.jsx("h4",{className:"text-white font-semibold mb-2",children:"Produtos Selecionados"}),i.map(p=>{const v=e.find(w=>w.id===p.productId);return l.jsxs("div",{className:"flex justify-between items-center text-gray-300",children:[l.jsxs("span",{children:[v==null?void 0:v.name," x",p.quantity]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("span",{children:["R$ ",(((v==null?void 0:v.price)||0)*p.quantity).toFixed(2)]}),l.jsx("button",{type:"button",onClick:()=>N(p.productId),className:"text-red-400 hover:text-red-300",children:"Remover"})]})]},p.productId)}),l.jsxs("div",{className:"pt-2 border-t border-white/10 flex justify-between text-white font-bold",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{className:"text-yellow-400",children:["R$ ",x().toFixed(2)]})]})]})]}),l.jsx("button",{type:"submit",className:"w-full btn-primary text-white py-4 rounded-xl font-bold text-lg",children:"Criar Pedido"})]})]})}function Mh({isOpen:t,title:e,message:n,confirmText:r="Confirmar",cancelText:s="Cancelar",onConfirm:i,onCancel:o,type:a="danger"}){if(!t)return null;const u={danger:"bg-red-600 hover:bg-red-700",warning:"bg-yellow-600 hover:bg-yellow-700",info:"bg-blue-600 hover:bg-blue-700"};return l.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center p-4 animate-fade-in",children:[l.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:o}),l.jsxs("div",{className:"relative glass-effect rounded-2xl p-6 md:p-8 max-w-md w-full animate-scale-in border border-white/10 shadow-2xl",children:[l.jsx("button",{onClick:o,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:l.jsx(hn,{className:"w-6 h-6"})}),l.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[l.jsx("div",{className:`p-3 rounded-full ${a==="danger"?"bg-red-600/20":a==="warning"?"bg-yellow-600/20":"bg-blue-600/20"}`,children:l.jsx(wm,{className:`w-8 h-8 ${a==="danger"?"text-red-500":a==="warning"?"text-yellow-500":"text-blue-500"}`})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:e}),l.jsx("p",{className:"text-gray-300 leading-relaxed",children:n})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:o,className:"flex-1 px-6 py-3 rounded-lg font-semibold glass-effect text-white hover:bg-white/10 transition-all",children:s}),l.jsx("button",{onClick:i,className:`flex-1 px-6 py-3 rounded-lg font-semibold text-white transition-all ${u[a]}`,children:r})]})]})]})}function Oi(){const[t,e]=k.useState(!1),[n,r]=k.useState({title:"",message:""}),[s,i]=k.useState(null),o=f=>(r(f),e(!0),new Promise(d=>{i(()=>d)})),a=()=>{e(!1),s&&s(!0)},u=()=>{e(!1),s&&s(!1)};return{confirm:o,ConfirmDialog:()=>l.jsx(Mh,{isOpen:t,title:n.title,message:n.message,confirmText:n.confirmText,cancelText:n.cancelText,type:n.type,onConfirm:a,onCancel:u})}}function hv(){const{confirm:t,ConfirmDialog:e}=Oi(),[n,r]=k.useState([]),[s,i]=k.useState(!1),[o,a]=k.useState(null),[u,c]=k.useState({name:"",description:"",active:!0,display_order:0});k.useEffect(()=>{f()},[]);const f=async()=>{const{data:h}=await I.from("categories").select("*").order("display_order");h&&r(h)},d=async h=>{h.preventDefault(),o?await I.from("categories").update(u).eq("id",o):await I.from("categories").insert(u),i(!1),a(null),c({name:"",description:"",active:!0,display_order:0}),f()},m=h=>{c(h),a(h.id),i(!0)},y=async h=>{await t({title:"Excluir Categoria",message:"Tem certeza que deseja excluir esta categoria? Todos os produtos associados sero afetados.",type:"danger"})&&(await I.from("categories").delete().eq("id",h),f())};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"glass-effect rounded-xl p-6",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-white",children:"Categorias"}),l.jsxs("button",{onClick:()=>i(!s),className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[l.jsx(vt,{className:"w-5 h-5"}),"Nova Categoria"]})]})}),s&&l.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:o?"Editar Categoria":"Nova Categoria"}),l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Nome da categoria",value:u.name,onChange:h=>c({...u,name:h.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0}),l.jsx("textarea",{placeholder:"Descrio",value:u.description,onChange:h=>c({...u,description:h.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400 resize-none",rows:3}),l.jsx("input",{type:"number",placeholder:"Ordem de exibio",value:u.display_order,onChange:h=>c({...u,display_order:parseInt(h.target.value)}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"}),l.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:u.active,onChange:h=>c({...u,active:h.target.checked}),className:"w-5 h-5 rounded"}),"Ativo"]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{type:"submit",className:"flex-1 btn-primary text-white py-3 rounded-lg font-semibold",children:o?"Salvar":"Criar"}),l.jsx("button",{type:"button",onClick:()=>{i(!1),a(null),c({name:"",description:"",active:!0,display_order:0})},className:"px-6 py-3 rounded-lg glass-effect text-gray-300 hover:text-white",children:"Cancelar"})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(h=>l.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:h.name}),l.jsx("span",{className:`px-3 py-1 rounded-lg text-sm ${h.active?"bg-green-600":"bg-gray-600"} text-white`,children:h.active?"Ativo":"Inativo"})]}),l.jsx("p",{className:"text-gray-300 text-sm mb-4",children:h.description}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>m(h),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[l.jsx(Si,{className:"w-4 h-4"}),"Editar"]}),l.jsxs("button",{onClick:()=>y(h.id),className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[l.jsx(Zn,{className:"w-4 h-4"}),"Excluir"]})]})]},h.id))}),l.jsx(e,{})]})}function fv(){const{confirm:t,ConfirmDialog:e}=Oi(),[n,r]=k.useState("products"),[s,i]=k.useState([]),[o,a]=k.useState([]),[u,c]=k.useState([]),[f,d]=k.useState([]),[m,y]=k.useState(!1),[h,_]=k.useState(!1),[N,x]=k.useState(!1),[g,p]=k.useState(null),[v,w]=k.useState({name:"",description:"",price:0,category_id:"",active:!0,image_url:""}),[b,j]=k.useState(null),[S,A]=k.useState(""),[R,C]=k.useState({name:"",min_quantity:0,max_quantity:10,required:!1}),[P,W]=k.useState({group_id:"",name:"",price:0,active:!0}),[ne,nr]=k.useState(null),[lt,me]=k.useState([]);k.useEffect(()=>{O()},[]);const O=async()=>{const{data:T}=await I.from("products").select("*").order("name"),{data:F}=await I.from("categories").select("*"),{data:we}=await I.from("addon_groups").select("*"),{data:_e}=await I.from("addons").select("*"),{data:sr}=await I.from("product_addon_groups").select("*");T&&i(T),F&&a(F),we&&c(we),_e&&d(_e),sr&&me(sr)},L=T=>{var we;const F=(we=T.target.files)==null?void 0:we[0];if(F){j(F);const _e=new FileReader;_e.onloadend=()=>{A(_e.result)},_e.readAsDataURL(F)}},D=async T=>{const F=T.name.split(".").pop(),_e=`${Math.random().toString(36).substring(2)}-${Date.now()}.${F}`,{error:sr}=await I.storage.from("product-images").upload(_e,T);if(sr)return console.error("Erro ao fazer upload:",sr),null;const{data:Fh}=I.storage.from("product-images").getPublicUrl(_e);return Fh.publicUrl},X=async T=>{T.preventDefault();let F=v.image_url;if(b){const _e=await D(b);_e&&(F=_e)}const we={...v,image_url:F};g?await I.from("products").update(we).eq("id",g):await I.from("products").insert(we),y(!1),p(null),w({name:"",description:"",price:0,category_id:"",active:!0,image_url:""}),j(null),A(""),O()},se=async T=>{T.preventDefault();const{error:F}=await I.from("addon_groups").insert(R);if(F){console.error("Erro ao salvar grupo:",F);return}await O(),_(!1),C({name:"",min_quantity:0,max_quantity:10,required:!1})},pn=async T=>{T.preventDefault(),await I.from("addons").insert(P),x(!1),W({group_id:"",name:"",price:0,active:!0}),O()},at=async T=>{await t({title:"Excluir Produto",message:"Tem certeza que deseja excluir este produto? Esta ao no pode ser desfeita.",type:"danger"})&&(await I.from("products").delete().eq("id",T),O())},rr=T=>{p(T.id),w({name:T.name,description:T.description,price:T.price,category_id:T.category_id,active:T.active,image_url:T.image_url||""}),T.image_url&&A(T.image_url),y(!0),window.scrollTo({top:0,behavior:"smooth"})},ut=async(T,F)=>{const we=lt.find(_e=>_e.product_id===T&&_e.addon_group_id===F);we?await I.from("product_addon_groups").delete().eq("id",we.id):await I.from("product_addon_groups").insert({product_id:T,addon_group_id:F}),O()},mn=T=>lt.filter(F=>F.product_id===T).map(F=>F.addon_group_id);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[l.jsx("div",{className:"flex justify-between items-center mb-4",children:l.jsx("h1",{className:"text-3xl font-bold text-white",children:"Produtos e Adicionais"})}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>r("products"),className:`px-6 py-3 rounded-lg font-semibold ${n==="products"?"btn-primary text-white":"glass-effect text-gray-300"}`,children:"Produtos"}),l.jsx("button",{onClick:()=>r("addons"),className:`px-6 py-3 rounded-lg font-semibold ${n==="addons"?"btn-primary text-white":"glass-effect text-gray-300"}`,children:"Adicionais"})]})]}),n==="products"?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>y(!m),className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[l.jsx(vt,{className:"w-5 h-5"}),"Novo Produto"]}),m&&l.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:g?"Editar Produto":"Novo Produto"}),l.jsxs("form",{onSubmit:X,className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Nome do produto",value:v.name,onChange:T=>w({...v,name:T.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white focus:ring-2 focus:ring-yellow-400",required:!0}),l.jsx("textarea",{placeholder:"Descrio",value:v.description,onChange:T=>w({...v,description:T.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white resize-none",rows:3}),l.jsx("input",{type:"number",step:"0.01",placeholder:"Preo",value:v.price,onChange:T=>w({...v,price:parseFloat(T.target.value)}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white",required:!0}),l.jsxs("select",{value:v.category_id,onChange:T=>w({...v,category_id:T.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white",children:[l.jsx("option",{value:"",children:"Selecione a categoria"}),o.map(T=>l.jsx("option",{value:T.id,className:"bg-gray-900",children:T.name},T.id))]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-white font-semibold",children:"Imagem do Produto"}),l.jsx("input",{type:"file",accept:"image/*",onChange:L,className:"w-full px-4 py-3 rounded-lg glass-effect text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-yellow-500 file:text-black file:font-semibold hover:file:bg-yellow-400"}),S&&l.jsxs("div",{className:"mt-3 relative",children:[l.jsx("img",{src:S,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),l.jsx("button",{type:"button",onClick:()=>{A(""),j(null),w({...v,image_url:""})},className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700 text-white p-2 rounded-full transition-colors",title:"Remover imagem",children:l.jsx(hn,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{type:"submit",className:"flex-1 btn-primary text-white py-3 rounded-lg font-semibold",children:g?"Atualizar":"Salvar"}),g&&l.jsx("button",{type:"button",onClick:()=>{p(null),y(!1),w({name:"",description:"",price:0,category_id:"",active:!0,image_url:""}),j(null),A("")},className:"flex-1 bg-gray-600 text-white py-3 rounded-lg font-semibold",children:"Cancelar"})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(T=>l.jsxs("div",{className:"glass-effect rounded-xl overflow-hidden",children:[T.image_url&&l.jsx("img",{src:T.image_url,alt:T.name,className:"w-full h-48 object-cover"}),l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:T.name}),l.jsx("p",{className:"text-gray-300 text-sm mb-2",children:T.description}),l.jsxs("p",{className:"text-2xl font-bold text-yellow-400 mb-4",children:["R$ ",T.price.toFixed(2)]}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsxs("button",{onClick:()=>rr(T),className:"flex-1 bg-blue-600 text-white py-2 rounded-lg flex items-center justify-center gap-2",children:[l.jsx(Si,{className:"w-4 h-4"}),"Editar"]}),l.jsxs("button",{onClick:()=>at(T.id),className:"flex-1 bg-red-600 text-white py-2 rounded-lg flex items-center justify-center gap-2",children:[l.jsx(Zn,{className:"w-4 h-4"}),"Excluir"]})]}),l.jsx("button",{onClick:()=>nr(ne===T.id?null:T.id),className:"w-full btn-primary text-white py-2 rounded-lg text-sm",children:ne===T.id?"Fechar":"Gerenciar Adicionais"}),ne===T.id&&l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsx("p",{className:"text-white font-semibold text-sm mb-2",children:"Grupos de Adicionais:"}),u.map(F=>{const we=mn(T.id).includes(F.id);return l.jsxs("button",{onClick:()=>ut(T.id,F.id),className:`w-full px-3 py-2 rounded-lg text-sm transition-colors ${we?"bg-green-600 text-white":"glass-effect text-gray-300 hover:bg-gray-700"}`,children:[we?" ":"",F.name]},F.id)})]})]})]},T.id))})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("button",{onClick:()=>_(!h),className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[l.jsx(vt,{className:"w-5 h-5"}),"Novo Grupo"]}),l.jsxs("button",{onClick:()=>x(!N),className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[l.jsx(vt,{className:"w-5 h-5"}),"Novo Adicional"]})]}),h&&l.jsx("div",{className:"glass-effect rounded-xl p-6",children:l.jsxs("form",{onSubmit:se,className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Nome do grupo",value:R.name,onChange:T=>C({...R,name:T.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white",required:!0}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("input",{type:"number",placeholder:"Quantidade mnima",value:R.min_quantity,onChange:T=>C({...R,min_quantity:parseInt(T.target.value)}),className:"px-4 py-3 rounded-lg glass-effect text-white"}),l.jsx("input",{type:"number",placeholder:"Quantidade mxima",value:R.max_quantity,onChange:T=>C({...R,max_quantity:parseInt(T.target.value)}),className:"px-4 py-3 rounded-lg glass-effect text-white"})]}),l.jsx("button",{type:"submit",className:"w-full btn-primary text-white py-3 rounded-lg font-semibold",children:"Criar Grupo"})]})}),N&&l.jsx("div",{className:"glass-effect rounded-xl p-6",children:l.jsxs("form",{onSubmit:pn,className:"space-y-4",children:[l.jsxs("select",{value:P.group_id,onChange:T=>W({...P,group_id:T.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white",required:!0,children:[l.jsx("option",{value:"",children:"Selecione o grupo"}),u.map(T=>l.jsx("option",{value:T.id,className:"bg-gray-900",children:T.name},T.id))]}),l.jsx("input",{type:"text",placeholder:"Nome do adicional",value:P.name,onChange:T=>W({...P,name:T.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white",required:!0}),l.jsx("input",{type:"number",step:"0.01",placeholder:"Preo (0 se grtis)",value:P.price,onChange:T=>W({...P,price:parseFloat(T.target.value)}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white"}),l.jsx("button",{type:"submit",className:"w-full btn-primary text-white py-3 rounded-lg font-semibold",children:"Criar Adicional"})]})}),l.jsx("div",{className:"space-y-6",children:u.map(T=>l.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:T.name}),l.jsxs("p",{className:"text-gray-300 text-sm mb-4",children:["Quantidade: ",T.min_quantity," - ",T.max_quantity]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:f.filter(F=>F.group_id===T.id).map(F=>l.jsxs("div",{className:"glass-effect p-4 rounded-lg",children:[l.jsx("p",{className:"text-white font-semibold",children:F.name}),l.jsx("p",{className:"text-yellow-400",children:F.price>0?`R$ ${F.price.toFixed(2)}`:"Grtis"})]},F.id))})]},T.id))})]}),l.jsx(e,{})]})}function pv(){const{confirm:t,ConfirmDialog:e}=Oi(),[n,r]=k.useState([]),[s,i]=k.useState(!1),[o,a]=k.useState(null),[u,c]=k.useState({name:"",delivery_fee:0,active:!0});k.useEffect(()=>{f()},[]);const f=async()=>{const{data:h}=await I.from("delivery_areas").select("*").order("name");h&&r(h)},d=async h=>{h.preventDefault(),o?await I.from("delivery_areas").update(u).eq("id",o):await I.from("delivery_areas").insert(u),i(!1),a(null),c({name:"",delivery_fee:0,active:!0}),f()},m=h=>{c({name:h.name,delivery_fee:h.delivery_fee,active:h.active}),a(h.id),i(!0)},y=async h=>{await t({title:"Excluir Bairro",message:"Tem certeza que deseja excluir este bairro? As taxas de entrega sero removidas.",type:"danger"})&&(await I.from("delivery_areas").delete().eq("id",h),f())};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"glass-effect rounded-xl p-6",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-white",children:"Bairros de Entrega"}),l.jsxs("button",{onClick:()=>i(!s),className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[l.jsx(vt,{className:"w-5 h-5"}),"Novo Bairro"]})]})}),s&&l.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:o?"Editar Bairro":"Novo Bairro"}),l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Nome do bairro",value:u.name,onChange:h=>c({...u,name:h.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0}),l.jsx("input",{type:"number",step:"0.01",placeholder:"Taxa de entrega (R$)",value:u.delivery_fee,onChange:h=>c({...u,delivery_fee:parseFloat(h.target.value)}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0}),l.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:u.active,onChange:h=>c({...u,active:h.target.checked}),className:"w-5 h-5 rounded"}),"Ativo"]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{type:"submit",className:"flex-1 btn-primary text-white py-3 rounded-lg font-semibold",children:o?"Salvar":"Criar"}),l.jsx("button",{type:"button",onClick:()=>{i(!1),a(null),c({name:"",delivery_fee:0,active:!0})},className:"px-6 py-3 rounded-lg glass-effect text-gray-300 hover:text-white",children:"Cancelar"})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(h=>l.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:h.name}),l.jsx("span",{className:`px-3 py-1 rounded-lg text-sm ${h.active?"bg-green-600":"bg-gray-600"} text-white`,children:h.active?"Ativo":"Inativo"})]}),l.jsxs("p",{className:"text-2xl font-bold text-yellow-400 mb-4",children:["R$ ",h.delivery_fee.toFixed(2)]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>m(h),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[l.jsx(Si,{className:"w-4 h-4"}),"Editar"]}),l.jsxs("button",{onClick:()=>y(h.id),className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[l.jsx(Zn,{className:"w-4 h-4"}),"Excluir"]})]})]},h.id))}),l.jsx(e,{})]})}function mv(){const{confirm:t,ConfirmDialog:e}=Oi(),[n,r]=k.useState([]),[s,i]=k.useState(!1),[o,a]=k.useState(null),[u,c]=k.useState(null),[f,d]=k.useState(""),[m,y]=k.useState({title:"",description:"",price:"",image_url:"",active:!0,display_order:0});k.useEffect(()=>{h()},[]);const h=async()=>{const{data:v}=await I.from("promotions").select("*").order("display_order");v&&r(v)},_=v=>{var b;const w=(b=v.target.files)==null?void 0:b[0];if(w){c(w);const j=new FileReader;j.onloadend=()=>{d(j.result)},j.readAsDataURL(w)}},N=async v=>{const w=v.name.split(".").pop(),j=`promo-${Math.random().toString(36).substring(2)}-${Date.now()}.${w}`,{error:S}=await I.storage.from("product-images").upload(j,v);if(S)return console.error("Erro ao fazer upload:",S),null;const{data:A}=I.storage.from("product-images").getPublicUrl(j);return A.publicUrl},x=async v=>{v.preventDefault();let w=m.image_url;if(u){const S=await N(u);S&&(w=S)}const b=parseFloat(m.price.replace(",",".")),j={...m,price:b,image_url:w};o?await I.from("promotions").update(j).eq("id",o):await I.from("promotions").insert(j),i(!1),a(null),y({title:"",description:"",price:"",image_url:"",active:!0,display_order:0}),c(null),d(""),h()},g=v=>{y({...v,price:v.price.toString().replace(".",",")}),v.image_url&&d(v.image_url),a(v.id),i(!0),window.scrollTo({top:0,behavior:"smooth"})},p=async v=>{await t({title:"Excluir Promoo",message:"Tem certeza que deseja excluir esta promoo? Ela ser removida do carrossel.",type:"danger"})&&(await I.from("promotions").delete().eq("id",v),h())};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"glass-effect rounded-xl p-6",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-white",children:"Promoes"}),l.jsx("p",{className:"text-gray-400 mt-1",children:"Aparecem no carrossel do catlogo digital"})]}),l.jsxs("button",{onClick:()=>i(!s),className:"btn-primary text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2",children:[l.jsx(vt,{className:"w-5 h-5"}),"Nova Promoo"]})]})}),s&&l.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:o?"Editar Promoo":"Nova Promoo"}),l.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Ttulo da promoo",value:m.title,onChange:v=>y({...m,title:v.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0}),l.jsx("textarea",{placeholder:"Descrio",value:m.description,onChange:v=>y({...m,description:v.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400 resize-none",rows:3,required:!0}),l.jsx("input",{type:"text",placeholder:"Preo (ex: 15,50)",value:m.price,onChange:v=>{const w=v.target.value.replace(/[^\d,]/g,"");y({...m,price:w})},className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white mb-2",children:"Imagem da Promoo"}),l.jsx("input",{type:"file",accept:"image/*",onChange:_,className:"w-full px-4 py-3 rounded-lg glass-effect text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-yellow-600 file:text-white file:cursor-pointer hover:file:bg-yellow-700"}),f&&l.jsxs("div",{className:"mt-3 relative",children:[l.jsx("img",{src:f,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),l.jsx("button",{type:"button",onClick:()=>{d(""),c(null),y({...m,image_url:""})},className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700 text-white p-2 rounded-full transition-colors",title:"Remover imagem",children:l.jsx(hn,{className:"w-5 h-5"})})]})]}),l.jsx("input",{type:"number",placeholder:"Ordem de exibio",value:m.display_order,onChange:v=>y({...m,display_order:parseInt(v.target.value)}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"}),l.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:m.active,onChange:v=>y({...m,active:v.target.checked}),className:"w-5 h-5 rounded"}),"Ativa"]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{type:"submit",className:"flex-1 btn-primary text-white py-3 rounded-lg font-semibold",children:o?"Salvar":"Criar"}),l.jsx("button",{type:"button",onClick:()=>{i(!1),a(null),y({title:"",description:"",price:"",image_url:"",active:!0,display_order:0}),c(null),d("")},className:"px-6 py-3 rounded-lg glass-effect text-gray-300 hover:text-white",children:"Cancelar"})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(v=>l.jsxs("div",{className:"hero-card rounded-xl overflow-hidden",children:[v.image_url&&l.jsx("img",{src:v.image_url,alt:v.title,className:"w-full h-48 object-cover"}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsx("h3",{className:"text-2xl font-bold text-white",children:v.title}),l.jsx("span",{className:`px-3 py-1 rounded-lg text-sm ${v.active?"bg-green-600":"bg-gray-600"} text-white`,children:v.active?"Ativa":"Inativa"})]}),l.jsx("p",{className:"text-gray-300 mb-2",children:v.description}),l.jsxs("p",{className:"text-2xl font-bold text-yellow-400 mb-4",children:["R$ ",v.price.toFixed(2).replace(".",",")]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>g(v),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[l.jsx(Si,{className:"w-4 h-4"}),"Editar"]}),l.jsxs("button",{onClick:()=>p(v.id),className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[l.jsx(Zn,{className:"w-4 h-4"}),"Excluir"]})]})]})]},v.id))}),l.jsx(e,{})]})}function gv(){const[t,e]=k.useState({totalRevenue:0,totalOrders:0,topProducts:[],paymentMethods:{}}),[n,r]=k.useState({start:new Date(new Date().setDate(new Date().getDate()-30)).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]});k.useEffect(()=>{s()},[n]);const s=async()=>{const{data:o}=await I.from("orders").select("*, order_items(*, products(name))").gte("created_at",n.start).lte("created_at",n.end+"T23:59:59").eq("status","finalizado");if(o){const a=o.reduce((m,y)=>m+y.total,0),u=o.length,c={};o.forEach(m=>{var y;(y=m.order_items)==null||y.forEach(h=>{var N;const _=((N=h.products)==null?void 0:N.name)||"Desconhecido";c[_]=(c[_]||0)+h.quantity})});const f=Object.entries(c).map(([m,y])=>({name:m,count:y})).sort((m,y)=>y.count-m.count).slice(0,10),d={};o.forEach(m=>{d[m.payment_method]=(d[m.payment_method]||0)+1}),e({totalRevenue:a,totalOrders:u,topProducts:f,paymentMethods:d})}},i={pix:"PIX",dinheiro:"Dinheiro",debito:"Carto Dbito",credito:"Carto Crdito"};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Relatrios e Analytics"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-white font-semibold mb-2",children:"Data Inicial"}),l.jsx("input",{type:"date",value:n.start,onChange:o=>r({...n,start:o.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white focus:outline-none focus:ring-2 focus:ring-yellow-400"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white font-semibold mb-2",children:"Data Final"}),l.jsx("input",{type:"date",value:n.end,onChange:o=>r({...n,end:o.target.value}),className:"w-full px-4 py-3 rounded-lg glass-effect text-white focus:outline-none focus:ring-2 focus:ring-yellow-400"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx("div",{className:"glass-effect rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center",children:l.jsx(hh,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-400 text-sm",children:"Faturamento Total"}),l.jsxs("p",{className:"text-3xl font-bold text-white",children:["R$ ",t.totalRevenue.toFixed(2)]})]})]})}),l.jsx("div",{className:"glass-effect rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center",children:l.jsx(fa,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-400 text-sm",children:"Total de Pedidos"}),l.jsx("p",{className:"text-3xl font-bold text-white",children:t.totalOrders})]})]})})]}),l.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(Am,{className:"w-6 h-6 text-yellow-400"}),l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Produtos Mais Vendidos"})]}),l.jsxs("div",{className:"space-y-3",children:[t.topProducts.map((o,a)=>l.jsxs("div",{className:"glass-effect rounded-lg p-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"w-8 h-8 rounded-full bg-yellow-600 flex items-center justify-center text-white font-bold",children:a+1}),l.jsx("span",{className:"text-white font-semibold",children:o.name})]}),l.jsxs("span",{className:"text-yellow-400 font-bold",children:[o.count," unidades"]})]},a)),t.topProducts.length===0&&l.jsx("p",{className:"text-center text-gray-400 py-8",children:"Nenhum produto vendido no perodo"})]})]}),l.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(dh,{className:"w-6 h-6 text-yellow-400"}),l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Formas de Pagamento"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[Object.entries(t.paymentMethods).map(([o,a])=>l.jsxs("div",{className:"glass-effect rounded-lg p-4 text-center",children:[l.jsx("p",{className:"text-gray-400 text-sm mb-2",children:i[o]||o}),l.jsx("p",{className:"text-3xl font-bold text-white",children:a}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"pedidos"})]},o)),Object.keys(t.paymentMethods).length===0&&l.jsx("p",{className:"col-span-full text-center text-gray-400 py-8",children:"Nenhum pagamento registrado no perodo"})]})]})]})}function vv(){const[t,e]=k.useState([]),[n,r]=k.useState(!1),[s,i]=k.useState(!0),[o,a]=k.useState({isOpen:!1,media:null}),u=pa();k.useEffect(()=>{c()},[]);async function c(){try{const{data:y,error:h}=await I.from("background_media").select("*").order("order_position",{ascending:!0});if(h)throw h;e(y||[])}catch(y){console.error("Erro ao carregar mdias:",y),u.error("Erro ao carregar mdias de fundo")}finally{i(!1)}}async function f(y){var g,p,v;const h=(g=y.target.files)==null?void 0:g[0];if(!h)return;const _=h.type.startsWith("image/"),N=h.type.startsWith("video/");if(!_&&!N){u.warning("Por favor, envie apenas imagens ou vdeos");return}const x=100*1024*1024;if(h.size>x){u.error("Arquivo muito grande. O tamanho mximo  100MB.");return}r(!0);try{const w=h.name.split(".").pop(),j=`${`${Date.now()}-${Math.random().toString(36).substring(7)}.${w}`}`,{error:S}=await I.storage.from("background-media").upload(j,h,{cacheControl:"3600",upsert:!1});if(S)throw console.error("Upload error:",S),S;const{data:{publicUrl:A}}=I.storage.from("background-media").getPublicUrl(j),{error:R}=await I.from("background_media").insert({file_url:A,file_type:_?"image":"video",order_position:t.length,is_active:!0});if(R)throw R;u.success("Mdia enviada com sucesso!"),c()}catch(w){console.error("Erro ao fazer upload:",w);let b="Erro ao enviar mdia.";(p=w==null?void 0:w.message)!=null&&p.includes("Payload")?b="Arquivo muito grande. Tente com um arquivo menor.":(v=w==null?void 0:w.message)!=null&&v.includes("duplicate")?b="J existe um arquivo com este nome.":w!=null&&w.message&&(b=`Erro: ${w.message}`),u.error(b)}finally{r(!1),y.target.value=""}}async function d(){if(o.media)try{const y=o.media.file_url.split("/").pop();y&&await I.storage.from("background-media").remove([y]);const{error:h}=await I.from("background_media").delete().eq("id",o.media.id);if(h)throw h;u.success("Mdia excluda com sucesso!"),c()}catch(y){console.error("Erro ao excluir mdia:",y),u.error("Erro ao excluir mdia")}finally{a({isOpen:!1,media:null})}}async function m(y){try{const{error:h}=await I.from("background_media").update({is_active:!y.is_active}).eq("id",y.id);if(h)throw h;c()}catch(h){console.error("Erro ao atualizar mdia:",h),u.error("Erro ao atualizar mdia")}}return s?l.jsx("div",{className:"p-8 text-center",children:l.jsx("div",{className:"text-gray-400",children:"Carregando..."})}):l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Mdias de Fundo"}),l.jsx("p",{className:"text-gray-400",children:"Gerencie as imagens e vdeos que aparecem no fundo do site"})]}),l.jsx("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:l.jsxs("label",{className:"block cursor-pointer",children:[l.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center hover:border-red-500 transition-colors",children:[l.jsx(Im,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),l.jsx("p",{className:"text-white font-semibold mb-2",children:n?"Enviando...":"Clique para fazer upload"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Imagens (JPG, PNG, GIF) ou Vdeos (MP4, WebM)"})]}),l.jsx("input",{type:"file",accept:"image/*,video/*",onChange:f,disabled:n,className:"hidden"})]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(y=>l.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden border-2 border-gray-700",children:[l.jsxs("div",{className:"relative aspect-video bg-gray-900",children:[y.file_type==="image"?l.jsx("img",{src:y.file_url,alt:"Background",className:"w-full h-full object-cover"}):l.jsx("video",{src:y.file_url,className:"w-full h-full object-cover",muted:!0,loop:!0}),l.jsxs("div",{className:"absolute top-2 right-2 bg-black/70 px-2 py-1 rounded flex items-center gap-1",children:[y.file_type==="image"?l.jsx(ol,{className:"w-4 h-4 text-white"}):l.jsx(Dm,{className:"w-4 h-4 text-white"}),l.jsx("span",{className:"text-white text-xs uppercase",children:y.file_type})]})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("button",{onClick:()=>m(y),className:`px-3 py-1 rounded text-sm font-semibold transition-colors ${y.is_active?"bg-green-600 text-white hover:bg-green-700":"bg-gray-600 text-gray-300 hover:bg-gray-700"}`,children:y.is_active?"Ativo":"Inativo"}),l.jsx("button",{onClick:()=>a({isOpen:!0,media:y}),className:"p-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:l.jsx(Zn,{className:"w-4 h-4"})})]}),l.jsxs("p",{className:"text-gray-400 text-xs",children:["Adicionado em ",new Date(y.created_at).toLocaleDateString("pt-BR")]})]})]},y.id))}),t.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(ol,{className:"w-16 h-16 mx-auto mb-4 text-gray-600"}),l.jsx("p",{className:"text-gray-400",children:"Nenhuma mdia adicionada ainda"}),l.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Faa upload de imagens ou vdeos para aparecerem no fundo do site"})]})]}),l.jsx(Mh,{isOpen:o.isOpen,title:"Excluir Mdia",message:"Tem certeza que deseja excluir esta mdia? Esta ao no pode ser desfeita.",confirmText:"Excluir",cancelText:"Cancelar",onConfirm:d,onCancel:()=>a({isOpen:!1,media:null}),type:"danger"})]})}function yv(){const[t,e]=k.useState([]),[n,r]=k.useState(!0),[s,i]=k.useState("");k.useEffect(()=>{o()},[]);const o=async()=>{r(!0);const{data:u}=await I.from("customers").select("*").order("total_spent",{ascending:!1});u&&e(u),r(!1)},a=t.filter(u=>u.name.toLowerCase().includes(s.toLowerCase())||u.phone.includes(s));return l.jsxs("div",{className:"space-y-4 md:space-y-6",children:[l.jsxs("div",{className:"glass-effect rounded-xl p-4 md:p-6",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Clientes"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[l.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Total de Clientes"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:t.length})]}),l.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[l.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Total em Pedidos"}),l.jsxs("p",{className:"text-2xl font-bold text-yellow-400",children:["R$ ",t.reduce((u,c)=>u+c.total_spent,0).toFixed(2)]})]}),l.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[l.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Pedidos Realizados"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:t.reduce((u,c)=>u+c.total_orders,0)})]})]})]}),l.jsxs("div",{className:"glass-effect rounded-xl p-4 md:p-6",children:[l.jsx("input",{type:"text",placeholder:"Buscar por nome ou telefone...",value:s,onChange:u=>i(u.target.value),className:"w-full px-4 py-3 rounded-lg glass-effect text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400 mb-4"}),n?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("p",{className:"text-gray-400",children:"Carregando clientes..."})]}):a.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("p",{className:"text-xl text-gray-400",children:s?"Nenhum cliente encontrado":"Nenhum cliente cadastrado"})]}):l.jsx("div",{className:"space-y-3",children:a.map(u=>l.jsx("div",{className:"glass-effect rounded-lg p-4 hover:bg-white/10 transition-all",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:u.name}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[l.jsx(mh,{className:"w-4 h-4 flex-shrink-0"}),l.jsx("span",{children:u.phone})]}),l.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[l.jsx(fa,{className:"w-4 h-4 flex-shrink-0"}),l.jsxs("span",{children:[u.total_orders," pedido",u.total_orders!==1?"s":""]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[l.jsx(hh,{className:"w-4 h-4 flex-shrink-0"}),l.jsxs("span",{children:["R$ ",u.total_spent.toFixed(2)," gasto"]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[l.jsx(jm,{className:"w-4 h-4 flex-shrink-0"}),l.jsxs("span",{children:["ltimo: ",new Date(u.last_order_at).toLocaleDateString("pt-BR")]})]})]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-1",children:[l.jsx("span",{className:"text-xs text-gray-400",children:"Cliente desde"}),l.jsx("span",{className:"text-sm text-white font-semibold",children:new Date(u.created_at).toLocaleDateString("pt-BR")})]})]})},u.id))})]})]})}const xv=[{id:"orders",label:"Pedidos",icon:fa},{id:"newOrder",label:"Lanar Pedido",icon:Pm},{id:"customers",label:"Clientes",icon:Lm},{id:"categories",label:"Categorias",icon:Nm},{id:"products",label:"Produtos e Adicionais",icon:ph},{id:"delivery",label:"Delivery",icon:fh},{id:"promotions",label:"Promoes",icon:Cm},{id:"reports",label:"Relatrios",icon:bm},{id:"backgroundMedia",label:"Mdias de Fundo",icon:ol}];function wv(){const[t,e]=k.useState("orders"),[n,r]=k.useState(!1),s=()=>{switch(t){case"orders":return l.jsx(Qu,{});case"newOrder":return l.jsx(dv,{});case"customers":return l.jsx(yv,{});case"categories":return l.jsx(hv,{});case"products":return l.jsx(fv,{});case"delivery":return l.jsx(pv,{});case"promotions":return l.jsx(mv,{});case"reports":return l.jsx(gv,{});case"backgroundMedia":return l.jsx(vv,{});default:return l.jsx(Qu,{})}};return l.jsxs("div",{className:"min-h-screen relative",children:[l.jsx(wa,{}),l.jsxs("div",{className:"relative z-10 flex",children:[n&&l.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-30",onClick:()=>r(!1)}),l.jsxs("aside",{className:`fixed lg:sticky top-0 h-screen glass-effect border-r border-white/10 transition-transform duration-300 z-40 ${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0 w-72 flex flex-col`,children:[l.jsx("div",{className:"p-4 border-b border-white/10",children:l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsx("img",{src:"/logo.png",alt:"Hero's Brasa Burguer",className:"h-16 w-auto object-contain"}),l.jsx("button",{onClick:()=>r(!1),className:"lg:hidden glass-effect p-2 rounded-lg text-white hover:bg-white/10 transition-colors flex-shrink-0",children:l.jsx(hn,{className:"w-5 h-5"})})]})}),l.jsx("nav",{className:"p-4 space-y-2 flex-1 overflow-y-auto",children:xv.map(i=>{const o=i.icon;return l.jsxs("button",{onClick:()=>{e(i.id),r(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-semibold transition-all ${t===i.id?"btn-primary text-white":"text-gray-300 hover:bg-white/5"}`,children:[l.jsx(o,{className:"w-5 h-5"}),i.label]},i.id)})})]}),!n&&l.jsx("button",{onClick:()=>r(!0),className:"lg:hidden fixed top-4 left-4 z-50 glass-effect p-3 rounded-lg text-white hover:bg-white/10 transition-colors",children:l.jsx(Tm,{className:"w-6 h-6"})}),l.jsx("main",{className:"flex-1 min-h-screen p-4 lg:p-8 pt-20 lg:pt-8",children:s()})]})]})}function _v(){const[t,e]=k.useState("landing");k.useEffect(()=>{const r=()=>{const s=window.location.hash.slice(1);e(s==="admin"?"admin":s==="catalog"?"catalog":"landing")};return r(),window.addEventListener("hashchange",r),()=>window.removeEventListener("hashchange",r)},[]);const n=()=>{window.location.hash="catalog"};return l.jsx(Fm,{children:l.jsxs(gm,{children:[t==="landing"&&l.jsx(iv,{onOrderNow:n}),t==="catalog"&&l.jsx(cv,{}),t==="admin"&&l.jsx(wv,{})]})})}ah(document.getElementById("root")).render(l.jsx(k.StrictMode,{children:l.jsx(_v,{})}));
